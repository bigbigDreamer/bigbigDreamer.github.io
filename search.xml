<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>记一次Github Actions自动化部署实践</title>
    <url>/article/github-ci/</url>
    <content><![CDATA[<p>写在前面的话，事情应该发生在去年我换电脑的时候，因为博客使用<code>hexo</code>搭建的，所以源代码也就都遗留在了本地，每次发布的时候只提交<code>generator</code>之后剩余的静态资源文件。</p>
<p>但是换完电脑忘记拷贝源代码了，所以给自己埋的坑就是原来写的博客源文件全部遗失。不过没关系，正好我有重头开始的准备。</p>
<p>这不，<code>Github Action</code>出现了，从根本上解决了我的痛点。</p>
<h2 id="认知储备"><a href="#认知储备" class="headerlink" title="认知储备"></a>认知储备</h2><h4 id="什么是Github-Actions？"><a href="#什么是Github-Actions？" class="headerlink" title="什么是Github Actions？"></a>什么是<code>Github Actions</code>？</h4><p><img src="https://user-images.githubusercontent.com/39019913/95061791-a7339e00-072e-11eb-96f9-2521d83105f0.png" alt="alt"></p>
<p>直接点击传送门，看看阮一峰大佬的<a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html">Github Actions 入门教程</a>;</p>
<h4 id="git公钥、私钥的理解"><a href="#git公钥、私钥的理解" class="headerlink" title="git公钥、私钥的理解"></a><code>git</code>公钥、私钥的理解</h4><p><code>git</code>的公钥与私钥好比钥匙与锁的关系，一个公钥对应一个私钥。</p>
<p>如何生成？</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">&#x27;your email&#x27;</span></span><br></pre></td></tr></table></figure>
<p>会有两个文件，一个文件是<code>xxx.pub</code>是公钥，<code>xxx</code>是私钥与之对应。</p>
<p>具体解释，参见<a href="https://git-scm.com/book/zh/v2/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E7%94%9F%E6%88%90-SSH-%E5%85%AC%E9%92%A5"> 服务器上的 Git - 生成 SSH 公钥</a></p>
<h4 id="怎么理解Hexo博客自动部署？"><a href="#怎么理解Hexo博客自动部署？" class="headerlink" title="怎么理解Hexo博客自动部署？"></a>怎么理解<code>Hexo</code>博客自动部署？</h4><p>简单来讲就是借助<code>Github Actions</code>所提供的虚拟机环境，读取<code>博客源仓库</code>所携带的私钥，写入虚拟机环境的<code>~/.ssh/id_rsa</code>，保证正常<code>push</code>可以有权限进行。而对应的公钥则是保留在目标仓库里面。</p>
<p>其实核心操作还是<code>Hexo</code>提供的<code>deploy commond</code>;</p>
<blockquote>
<p>当执行 <code>hexo deploy</code> 时，<code>Hexo</code> 会将 <code>public</code> 目录中的文件和目录推送至 <code>_config.yml</code> 中指定的远端仓库和分支中，并且完全覆盖该分支下的已有内容。</p>
</blockquote>
<iframe width="100%" height="450" src="https://www.youtube.com/embed/B0yVJ46CTR8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>参见<a href="https://hexo.io/zh-cn/docs/one-command-deployment.html">hexo官方文档-部署</a></p>
<h2 id="开始部署"><a href="#开始部署" class="headerlink" title="开始部署"></a>开始部署</h2><p>文章假设你已经准备好了两个仓库<code>blog（应该设置为私有仓库，毕竟一些隐私密码都会存在这里）</code>and<code>xxx.github.io</code>。前者用于存放hexo博客源代码，后者用于自动部署的仓库。</p>
<p>绑定公钥与私钥，<code>公钥</code>—–&gt;<code>xxx.github.io</code>，<code>私钥</code>—–&gt;<code>blog</code>；</p>
<p>下图应该详细阐述了怎么绑定公钥与私钥~<br><img src="https://user-images.githubusercontent.com/39019913/95065127-3478f180-0733-11eb-935e-52a5c21df7d6.png"></p>
<h2 id="编写Github-Actions-workflow-file"><a href="#编写Github-Actions-workflow-file" class="headerlink" title="编写Github Actions workflow file"></a>编写<code>Github Actions workflow file</code></h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Blog</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>] <span class="comment"># 当有新push时运行</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build-and-deploy:</span> <span class="comment"># 创建job</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span> <span class="comment"># 在最新版的Ubuntu系统下运行</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="comment"># 将仓库内master分支的内容下载到工作目录</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span> <span class="comment"># 脚本来自 https://github.com/actions/checkout</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span> <span class="number">10.</span><span class="string">x</span> <span class="comment"># 配置Node环境</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span> <span class="comment"># 配置脚本来自 https://github.com/actions/setup-node</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">&quot;10.x&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Hexo</span> <span class="string">Env</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">ACTION_DEPLOY_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.HEXO_DEPLOY_KEY</span> <span class="string">&#125;&#125;</span> <span class="comment"># 拿到仓库配置的私钥：HEXO_DEPLOY_KEY</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="comment"># set up private key for push code</span></span><br><span class="line">        <span class="string">mkdir</span> <span class="string">-p</span> <span class="string">~/.ssh/</span></span><br><span class="line">        <span class="string">echo</span> <span class="string">&quot;$ACTION_DEPLOY_KEY&quot;</span> <span class="string">&gt;</span> <span class="string">~/.ssh/id_rsa</span> <span class="comment"># 配置秘钥</span></span><br><span class="line">        <span class="string">chmod</span> <span class="number">700</span> <span class="string">~/.ssh</span></span><br><span class="line">        <span class="string">chmod</span> <span class="number">600</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">        <span class="string">ssh-keyscan</span> <span class="string">github.com</span> <span class="string">&gt;&gt;</span> <span class="string">~/.ssh/known_hosts</span></span><br><span class="line">        <span class="comment"># set git config</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">&quot;your name&quot;</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">&quot;your email&quot;</span></span><br><span class="line">        <span class="comment"># install dependencies</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">i</span> <span class="string">-g</span> <span class="string">hexo-cli</span> <span class="comment"># 安装hexo</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">i</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">Deploy</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="comment"># deploy and automatic push code</span></span><br><span class="line">        <span class="string">hexo</span> <span class="string">generate</span> <span class="string">&amp;&amp;</span> <span class="string">hexo</span> <span class="string">deploy</span> <span class="comment"># 执行部署程序</span></span><br></pre></td></tr></table></figure>

<p><em>温馨提示：</em> 别懵了啊，这个文件是在<code>blog</code>仓库下建立的。</p>
<p><img src="https://user-images.githubusercontent.com/39019913/95066240-b74e7c00-0734-11eb-8d97-25a9746f4d8f.png" alt="alt"></p>
<h2 id="The-End"><a href="#The-End" class="headerlink" title="The End"></a>The End</h2><p>最后，来看看我们的成果吧~</p>
<p><img src="https://user-images.githubusercontent.com/39019913/95066453-04cae900-0735-11eb-8238-94a83b699c47.png" alt="alt"></p>
<p><img src="https://user-images.githubusercontent.com/39019913/95066607-3479f100-0735-11eb-9c79-e7669cadeac3.png" alt="alt"></p>
<p>有没有视觉疲劳呢？来放松一下吧~</p>
<p><img src="https://user-images.githubusercontent.com/39019913/95066764-6ab77080-0735-11eb-90c9-2c840a70f51d.png" alt="alt"></p>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>经验</tag>
        <tag>学习</tag>
      </tags>
  </entry>
  <entry>
    <title>由reduce引发的Promise决议思考</title>
    <url>/article/reduce-to-promise/</url>
    <content><![CDATA[<h2 id="reduce有哪些奇淫巧技？"><a href="#reduce有哪些奇淫巧技？" class="headerlink" title="reduce有哪些奇淫巧技？"></a><code>reduce</code>有哪些<code>奇淫巧技</code>？</h2><ul>
<li>最基本的累加数</li>
<li>数组转对象</li>
<li>顺序执行异步任务</li>
</ul>
<p>本文不再阐述一些比较官方的话语。</p>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce"><code>reduce</code>方法的MDN传送门</a></p>
</blockquote>
<h3 id="最基本的累加"><a href="#最基本的累加" class="headerlink" title="最基本的累加"></a>最基本的累加</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> addResult = arr.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a+b);</span><br></pre></td></tr></table></figure>

<h3 id="数组转对象"><a href="#数组转对象" class="headerlink" title="数组转对象"></a>数组转对象</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 用过 loadsh 的小伙伴都应该知道，lodash 提供了_keyBy 提供了这样的功能</span></span><br><span class="line"><span class="keyword">const</span> data = [&#123;</span><br><span class="line">    name: <span class="string">&#x27;张飒&#x27;</span>,</span><br><span class="line">    id: <span class="number">1</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: <span class="string">&#x27;李四&#x27;</span>,</span><br><span class="line">    id: <span class="number">2</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: <span class="string">&#x27;赵柳&#x27;</span>,</span><br><span class="line">    id: <span class="number">3</span></span><br><span class="line">&#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> targetObj = data.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; ...a, &#123; [b.id]: b &#125; &#125;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// console</span></span><br><span class="line"><span class="comment">// &#123; 1: &#123; name: &#x27;张飒&#x27;, id: 1 &#125;, 2: &#123; name: &#x27;李四&#x27;, id: 2 &#125;, 3: &#123; name: &#x27;赵柳&#x27;, id: 3 &#125;&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="顺序执行异步任务"><a href="#顺序执行异步任务" class="headerlink" title="顺序执行异步任务"></a>顺序执行异步任务</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> PromiseTaskA = <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;即将执行A&#x27;</span>);</span><br><span class="line">    resolve(<span class="string">&#x27;PromiseTaskA&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">2000</span>) &#125;)</span><br><span class="line"><span class="keyword">const</span> PromiseTaskB = <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;即将执行B&#x27;</span>);</span><br><span class="line">    resolve(<span class="string">&#x27;PromiseTaskB&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">2000</span>) &#125;)</span><br><span class="line"><span class="keyword">const</span> PromiseTaskC = <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;即将执行C&#x27;</span>);</span><br><span class="line">    resolve(<span class="string">&#x27;PromiseTaskC&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>) &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> tasks = [PromiseTaskA, PromiseTaskC, PromiseTaskB];</span><br><span class="line">tasks.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, <span class="string">&#x27;00&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> a.then(<span class="function">() =&gt;</span> b())</span><br><span class="line">&#125;, <span class="built_in">Promise</span>.resolve(&#123;&#125;) )</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;all done&#x27;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log</span></span><br><span class="line"><span class="comment">// Promise &#123; &#123;&#125; &#125; 00</span></span><br><span class="line"><span class="comment">// Promise &#123; &lt;pending&gt; &#125; 00</span></span><br><span class="line"><span class="comment">// Promise &#123; &lt;pending&gt; &#125; 00</span></span><br><span class="line"><span class="comment">// 即将执行A</span></span><br><span class="line"><span class="comment">// 即将执行C</span></span><br><span class="line"><span class="comment">// 即将执行B</span></span><br><span class="line"><span class="comment">// all done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当到这里的时候，我突然联想到一个问题，<code>Promise.all</code>是顺序执行的吗？为什么他可以在<code>then</code>里对应传入异步任务数组返回相应的结果？</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> PromiseTaskA = <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;即将执行A&#x27;</span>);</span><br><span class="line">    resolve(<span class="string">&#x27;PromiseTaskA&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">2000</span>) &#125;)</span><br><span class="line"><span class="keyword">const</span> PromiseTaskB = <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;即将执行B&#x27;</span>);</span><br><span class="line">    resolve(<span class="string">&#x27;PromiseTaskB&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">2000</span>) &#125;)</span><br><span class="line"><span class="keyword">const</span> PromiseTaskC = <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;即将执行C&#x27;</span>);</span><br><span class="line">    resolve(<span class="string">&#x27;PromiseTaskC&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>) &#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([PromiseTaskA(), PromiseTaskB(), PromiseTaskC()])</span><br><span class="line">.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// console</span></span><br><span class="line"><span class="comment">// 即将执行C</span></span><br><span class="line"><span class="comment">// 即将执行A</span></span><br><span class="line"><span class="comment">// 即将执行B</span></span><br><span class="line"><span class="comment">// [ &#x27;PromiseTaskA&#x27;, &#x27;PromiseTaskB&#x27;, &#x27;PromiseTaskC&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p>原因很简单，<code>Promise.all</code>是并行的，也就是宏观意义上的并行，也可以说是同时执行，当哪个异步任务执行结束，就把对应的执行结果塞进数组内部，所以就可以实现结果对应。</p>
<p><code>Promise.all</code>并不会顺序执行，请不要依赖<code>Promise.all</code>去做顺序执行流程任务。</p>
<blockquote>
<p>问题又来了？怎么保证<code>Promise</code>的执行尽管失败了，但是<code>Promise.all</code>并不会中断？</p>
</blockquote>
<p>其实也很好解决，把异步任务的<code>catch</code>给<code>resolve出来</code>，保证整个并行任务流的正常运行。</p>
<blockquote>
<p>扩展一个知识点，<code>Promise</code>为什么会发生值透传？</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">1</span>)</span><br><span class="line">.then(<span class="number">3</span>)</span><br><span class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// console？</span></span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p>原因也很简单，因为<code>Promise</code>的<code>then</code>、<code>catch</code>期望的是一个函数，如果出现<code>!Function</code>就会发生透传。</p>
<blockquote>
<p>继续扩展一个知识点，<code>Promise</code>是微任务吗？<code>then</code>是同步还是异步的。</p>
</blockquote>
<p><code>Promise</code>构造函数是同步的，<code>then</code>、<code>catch</code>也是同步的，但是内部的<code>callback</code>被扔进了异步队列里。</p>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>经验</tag>
        <tag>学习</tag>
      </tags>
  </entry>
  <entry>
    <title>堆</title>
    <url>/article/js-heap/</url>
    <content><![CDATA[<h1 id="堆是什么？"><a href="#堆是什么？" class="headerlink" title="堆是什么？"></a>堆是什么？</h1><p>堆是一种特殊的完全二叉树</p>
<p>每层节点都全部填满，如果没有填满，则只缺少右侧的若干节点。</p>
<p>最小堆：父节点都比子节点小</p>
<p>最大堆：父节点都比子节点大</p>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
      <tags>
        <tag>学习</tag>
      </tags>
  </entry>
  <entry>
    <title>树</title>
    <url>/article/js-tree/</url>
    <content><![CDATA[<h2 id="树是什么？"><a href="#树是什么？" class="headerlink" title="树是什么？"></a>树是什么？</h2><ul>
<li><code>JS</code>中没有树，但是可以用<code>Object</code>和<code>Array</code>构建树；</li>
<li>树的常用操作<ul>
<li>深度优先遍历</li>
<li>广度优先遍历</li>
<li>先、中、后序遍历</li>
</ul>
</li>
</ul>
<h2 id="深度优先遍历：尽可能深的搜索树的分支。-DFS"><a href="#深度优先遍历：尽可能深的搜索树的分支。-DFS" class="headerlink" title="深度优先遍历：尽可能深的搜索树的分支。(DFS)"></a>深度优先遍历：尽可能深的搜索树的分支。(<code>DFS</code>)</h2><p><img src="https://user-images.githubusercontent.com/39019913/95301390-20f49480-08b3-11eb-9bee-89a5929bb3cf.png" alt="alt"></p>
<p>武功心法：访问根节点—对根节点的<code>children</code>挨个进行深度优先遍历。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tree = &#123;</span><br><span class="line">    val: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    children: [</span><br><span class="line">        &#123;</span><br><span class="line">            val: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">            children: [</span><br><span class="line">                &#123;</span><br><span class="line">                    val: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">                    children: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            val: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">                            children: []</span><br><span class="line">                        &#125;, &#123;</span><br><span class="line">                            val: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">                            children: []</span><br><span class="line">                        &#125;,</span><br><span class="line">                    ],</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            val: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">            children: []</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dfs = <span class="function"><span class="params">root</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(root.val)</span><br><span class="line">    root.children.forEach(dfs)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dfs(tree)</span><br><span class="line"><span class="comment">// console</span></span><br><span class="line"><span class="comment">/* a</span></span><br><span class="line"><span class="comment">   1</span></span><br><span class="line"><span class="comment">   b</span></span><br><span class="line"><span class="comment">   1</span></span><br><span class="line"><span class="comment">   2</span></span><br><span class="line"><span class="comment">   2 */</span></span><br></pre></td></tr></table></figure>

<h2 id="广度优先遍历：先访问距离根节点最近的节点。-BFS"><a href="#广度优先遍历：先访问距离根节点最近的节点。-BFS" class="headerlink" title="广度优先遍历：先访问距离根节点最近的节点。(BFS)"></a>广度优先遍历：先访问距离根节点最近的节点。(<code>BFS</code>)</h2><p><img src="https://user-images.githubusercontent.com/39019913/95301390-20f49480-08b3-11eb-9bee-89a5929bb3cf.png" alt="alt"></p>
<p>武功心法：<br>    - 新建一个队列，根节点入队<br>    - 队头出队并访问<br>    - 队头的children挨个入队<br>    - 重复第二、三步，直到队列为空</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> bfs = <span class="function"><span class="params">root</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> q = [root];</span><br><span class="line">    <span class="keyword">while</span> (q.length &gt;<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> n = q.shift();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;bfs&#x27;</span>,n.val);</span><br><span class="line">        n.children.forEach(<span class="function"><span class="params">child</span> =&gt;</span> &#123;</span><br><span class="line">            q.push(child);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bfs(tree)</span><br><span class="line"></span><br><span class="line"><span class="comment">// console</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    bfs a</span></span><br><span class="line"><span class="comment">    bfs 1</span></span><br><span class="line"><span class="comment">    bfs 2</span></span><br><span class="line"><span class="comment">    bfs b</span></span><br><span class="line"><span class="comment">    bfs 1</span></span><br><span class="line"><span class="comment">    bfs 2</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<h2 id="二叉树的先、中、后序遍历"><a href="#二叉树的先、中、后序遍历" class="headerlink" title="二叉树的先、中、后序遍历"></a>二叉树的先、中、后序遍历</h2><p>什么是二叉树？</p>
<p>树种每个节点最多只能由两个子节点。</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/f/f7/Binary_tree.svg"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 二叉树</span></span><br><span class="line"><span class="keyword">const</span> BTree = &#123;</span><br><span class="line">    val: <span class="number">2</span>,</span><br><span class="line">    left: &#123;</span><br><span class="line">        val: <span class="number">7</span>,</span><br><span class="line">        left: &#123;</span><br><span class="line">            val: <span class="number">2</span>,</span><br><span class="line">            left: <span class="literal">null</span>,</span><br><span class="line">            right: <span class="literal">null</span></span><br><span class="line">        &#125;,</span><br><span class="line">        right: &#123;</span><br><span class="line">            val: <span class="number">6</span>,</span><br><span class="line">            left: &#123;</span><br><span class="line">                val: <span class="number">5</span>,</span><br><span class="line">                left: <span class="literal">null</span>,</span><br><span class="line">                right: <span class="literal">null</span></span><br><span class="line">            &#125;,</span><br><span class="line">            right: &#123;</span><br><span class="line">                val: <span class="number">11</span>,</span><br><span class="line">                left: <span class="literal">null</span>,</span><br><span class="line">                right: <span class="literal">null</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    right: &#123;</span><br><span class="line">        val: <span class="number">5</span>,</span><br><span class="line">        left: <span class="literal">null</span>,</span><br><span class="line">        right: &#123;</span><br><span class="line">            val: <span class="number">9</span>,</span><br><span class="line">            left: &#123;</span><br><span class="line">                val: <span class="number">4</span>,</span><br><span class="line">                left: <span class="literal">null</span>,</span><br><span class="line">                right: <span class="literal">null</span></span><br><span class="line">            &#125;,</span><br><span class="line">            right: <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="先序遍历内功心法"><a href="#先序遍历内功心法" class="headerlink" title="先序遍历内功心法"></a>先序遍历内功心法</h3><ul>
<li>根左右</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> POrder = <span class="function"><span class="params">tree</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!tree) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(tree.val);</span><br><span class="line">    POrder(tree.left)</span><br><span class="line">    POrder(tree.right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">POrder(BTree)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 7 2 6 5 11 5 9 4 </span></span><br></pre></td></tr></table></figure>

<h3 id="中序遍历内功心法"><a href="#中序遍历内功心法" class="headerlink" title="中序遍历内功心法"></a>中序遍历内功心法</h3><ul>
<li>左根右</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> POrder = <span class="function"><span class="params">tree</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!tree) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    POrder(tree.left)</span><br><span class="line">    <span class="built_in">console</span>.log(tree.val);</span><br><span class="line">    POrder(tree.right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">POrder(BTree)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 7 5 6 11 2 5 4 9</span></span><br></pre></td></tr></table></figure>

<h3 id="后续遍历内功心法"><a href="#后续遍历内功心法" class="headerlink" title="后续遍历内功心法"></a>后续遍历内功心法</h3><ul>
<li><p>左右根</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> POrder = <span class="function"><span class="params">tree</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!tree) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    POrder(tree.left)</span><br><span class="line">    POrder(tree.right)</span><br><span class="line">    <span class="built_in">console</span>.log(tree.val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">POrder(BTree)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 5 11 6 7 4 9 5 2</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
      <tags>
        <tag>学习</tag>
      </tags>
  </entry>
  <entry>
    <title>React组件单元测试指北</title>
    <url>/article/react-unit-test/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>写这篇文章的时候，我其实是顶着很大的压力去写的，因为文章本身内容可能会很多，涉及的东西也可能会很多，所以我准备拿一个兼顾所有测试场景的组件去<code>Mock</code>测试场景，介绍各种测试方案的进行。</p>
<p>未完待续。。。</p>
]]></content>
      <categories>
        <category>单元测试</category>
      </categories>
      <tags>
        <tag>单元测试</tag>
        <tag>React</tag>
        <tag>Enzyme</tag>
      </tags>
  </entry>
  <entry>
    <title>遗忘过去，重头开始</title>
    <url>/article/restart-life/</url>
    <content><![CDATA[<p><img src="https://user-images.githubusercontent.com/39019913/95016483-d93cf580-0685-11eb-95c0-c071593d24ee.png"></p>
<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>也许是经历了太多坎坷与挫折，让我有了萌生重头开始的念头，遗忘那些痛苦不堪的回忆与往事。</p>
<p>心态变了，心态早变了，是怕父母变老也是怕自己没钱可赚，赚钱不够花，慢慢变得爱钱了，可能长大了吧。</p>
<p>经营了两年多的博客，让我给删的一干二净。理由就是没有任何的营养含量，只能算笔记，不可以叫博客。</p>
<p><img src="https://user-images.githubusercontent.com/39019913/95016404-6469bb80-0685-11eb-92ca-8ea08f547d43.png"></p>
<h2 id="第一篇-涉世未深"><a href="#第一篇-涉世未深" class="headerlink" title="第一篇 涉世未深"></a>第一篇 涉世未深</h2><p>刚刚毕业，稍有些懵懂，可能是一个人来到了“魔都”这个繁华又让人向往的城市。</p>
<p>可能是对于落选大厂也有些许不甘，所以扎根在心底的执念。</p>
<h2 id="第二篇-百炼成钢"><a href="#第二篇-百炼成钢" class="headerlink" title="第二篇 百炼成钢"></a>第二篇 百炼成钢</h2><p>年轻人，难免会有一些锐气与傲气，需要被磨炼与摧残掉。这样才能更好的心平气和的去做一些事。</p>
<p>转眼间，来到上海快一年了，我做了什么？收获了什么？</p>
<p>收获的更多的可能是工作上的经验，同时也收获了更多的知识与解决问题的技巧。</p>
<h2 id="第三篇-之后的路"><a href="#第三篇-之后的路" class="headerlink" title="第三篇 之后的路"></a>第三篇 之后的路</h2><ol>
<li>在做业务的同时，补给知识的养分，对于学过的已经模糊的知识回顾复习，对于未来的，新的知识，作以了解；</li>
<li>应当花费一定量的时间去充实底层原理的理论知识，并且夯实概念化思维，毕竟了解底层知识后，对于这个技术或者框架就会有一个比较全面且直观的认识；</li>
<li>这条路还有很长，自己到底有几斤几两，自己是最清楚的；</li>
<li>做过一次、照猫画虎写写总结，那不叫会了，那叫牛刀小试，可能真实编码过程中就会bug百出；</li>
</ol>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>琐事</tag>
        <tag>心情</tag>
      </tags>
  </entry>
  <entry>
    <title>手撕Promise</title>
    <url>/article/write-code-promise/</url>
    <content><![CDATA[<p>简明扼要的手撕 <code>Promise</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 手写Promise</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(fn) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> fn !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;MyPromise Expect A Function&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.status = <span class="string">&#x27;Pending&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.onResolvedCallback = [];</span><br><span class="line">        <span class="built_in">this</span>.onRejectedCallback = [];</span><br><span class="line">        <span class="built_in">this</span>.val = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> resolve = <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="built_in">this</span>.status, <span class="built_in">this</span>.onResolvedCallback)</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">this</span>.status === <span class="string">&#x27;Pending&#x27;</span>) &#123;</span><br><span class="line">                    <span class="built_in">this</span>.status = <span class="string">&#x27;Resolved&#x27;</span></span><br><span class="line">                    <span class="built_in">this</span>.val = val;</span><br><span class="line">                    <span class="built_in">this</span>.onResolvedCallback.forEach(<span class="function"><span class="params">item</span> =&gt;</span> item(val))</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="number">0</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> reject = <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">this</span>.status === <span class="string">&#x27;Pending&#x27;</span>) &#123;</span><br><span class="line">                    <span class="built_in">this</span>.status = <span class="string">&#x27;Rejected&#x27;</span></span><br><span class="line">                    <span class="built_in">this</span>.val = val;</span><br><span class="line">                    <span class="built_in">this</span>.onRejectedCallback.forEach(<span class="function"><span class="params">item</span> =&gt;</span> item(val))</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="number">0</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fn(resolve, reject)</span><br><span class="line">        &#125;  <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">           reject(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    then(onFulfilled, onRejected) &#123;</span><br><span class="line">        onFulfilled = <span class="keyword">typeof</span> onFulfilled === <span class="string">&#x27;function&#x27;</span> ? onFulfilled : <span class="function"><span class="params">o</span> =&gt;</span> o;</span><br><span class="line">        onRejected = <span class="keyword">typeof</span> onRejected === <span class="string">&#x27;function&#x27;</span> ? onRejected : <span class="function"><span class="params">err</span> =&gt;</span> &#123; <span class="keyword">throw</span> err &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.onResolvedCallback.push(<span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">const</span> res = onFulfilled(val)</span><br><span class="line">                    <span class="keyword">if</span>(res <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">                        res.then(resolve, reject)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        resolve(res);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                    reject(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">            <span class="built_in">this</span>.onRejectedCallback.push(<span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">const</span> res = onRejected(val)</span><br><span class="line">                    <span class="keyword">if</span>(res <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">                        res.then(resolve, reject)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        reject(res);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                    reject(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">catch</span>(onRejected) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.then(<span class="literal">null</span>, onRejected);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;res(<span class="number">1</span>)&#125;)</span><br><span class="line"></span><br><span class="line">p.then(<span class="number">3</span>)</span><br><span class="line">    .then(<span class="function"><span class="params">cal</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(cal)</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span>=&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>手写代码</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>手撕new</title>
    <url>/article/write-code-new/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>手撕一系列代码的初衷并不是说证明什么，而是手撕代码后的愉悦感，可以体会原理层的东西，在使用方面的疑问，通通解掉。</p>
<h2 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MyNew = <span class="function">(<span class="params">fn, ...props</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">const</span> Constructor = fn;</span><br><span class="line">   <span class="keyword">const</span> _obj = <span class="built_in">Object</span>.create(Constructor.prototype);</span><br><span class="line">   <span class="keyword">const</span> ConsRet = Constructor.apply(_obj, props);</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">return</span> (<span class="keyword">typeof</span> ConsRet === <span class="string">&#x27;object&#x27;</span> &amp;&amp; ConsRet) ? ConsRet : _obj;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="重点剖析"><a href="#重点剖析" class="headerlink" title="重点剖析"></a>重点剖析</h2><ul>
<li>JS<code>构造函数</code>与<code>普通成员函数</code>的区别；</li>
<li><code>this</code>指向<code>源</code>构建&amp;<code>__proto__</code>关联；</li>
<li>实例化实参的<code>注入</code>，需理解<code>call</code>&amp;<code>apply</code>的区别；</li>
</ul>
]]></content>
      <categories>
        <category>手写代码</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>手撕 apply和call</title>
    <url>/article/write-code-apply-code/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><code>call</code>和<code>apply</code>的区别，应该在于<code>API</code>的使用上，<code>call(context | null, args...)</code>，<code>apply(context | null, [args...])</code>；</p>
<p>共同点在于都可以<code>自调用函数</code>，<code>硬绑定 上下文（this）</code>；</p>
<p>现在，开启手撕模式：</p>
<h2 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h2><ul>
<li><code>Call</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myCall = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">    context = context || <span class="built_in">this</span>;</span><br><span class="line">    context.fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> _arr = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">    _arr.shift()</span><br><span class="line">    <span class="keyword">const</span> res = context.fn(_arr.toString());</span><br><span class="line">    <span class="keyword">delete</span> context.fn</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>Apply</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myApply = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">    context = context || <span class="built_in">this</span></span><br><span class="line">    context.fn = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">const</span> _arr = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">    _arr.shift();</span><br><span class="line">    <span class="keyword">const</span> res = context.fn(_arr.shift().toString())</span><br><span class="line">    <span class="keyword">delete</span> context.fn;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="The-End"><a href="#The-End" class="headerlink" title="The End"></a>The End</h2><p>最后，其实是有问题的，问题原因请看如下 <code>issue</code>;</p>
<p><a href="https://github.com/mqyqingfeng/Blog/issues/11#issuecomment-708381446"><code>issue</code>传送门</a></p>
]]></content>
      <categories>
        <category>手写代码</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>手撕函数柯里化</title>
    <url>/article/write-code-curry/</url>
    <content><![CDATA[<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 计算两数之和</span></span><br><span class="line"><span class="keyword">const</span> carry = <span class="function">(<span class="params">f, o</span>) =&gt;</span> &#123;</span><br><span class="line">    o = o || []</span><br><span class="line">    <span class="keyword">const</span> _len = f.length;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(o)</span><br><span class="line">       <span class="keyword">const</span> _o = [].concat(o.slice(), <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>));</span><br><span class="line">        <span class="keyword">if</span>(_o.length &lt; _len) &#123;</span><br><span class="line">            <span class="keyword">return</span> carry.call(<span class="built_in">this</span>, f, _o);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> f.apply(<span class="built_in">this</span>, _o);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">a,b,c</span>) =&gt;</span> a+b+c</span><br><span class="line"><span class="keyword">const</span> newSum = carry(sum)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(newSum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>柯里化的核心就是：不断拆解<code>新生curry工厂函数</code>的形参，内部闭包缓存，最终比对初始函数的形参个数与缓存形参个数。相同就实现再次调用。</p>
<p><strong>需要注意的点：</strong></p>
<ul>
<li><code>this</code>和<code>arguements</code>只有在<code>functional</code>函数中存在，<code>箭头函数</code>是没有这个东西的;</li>
<li><code>arguements</code>只是一个<code>伪数组</code>，只拥有数组的个别几个<code>方法和属性</code>，可以借助<code>Array.from</code>转换为<code>真实数组</code>;</li>
<li>注意区分<code>call</code>与<code>apply</code>的区别;</li>
<li>理解闭包的特性</li>
</ul>
]]></content>
      <categories>
        <category>手写代码</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Redux-thunk原理探析</title>
    <url>/article/redux-thunk-theory/</url>
    <content><![CDATA[<p><code>Redux</code>的作用这里就不做过多赘述，简单看下<code>Redux</code>原理：</p>
<p><img src="https://user-images.githubusercontent.com/39019913/98236642-a34da280-1f9e-11eb-84fd-e1429548e424.png" alt="image"></p>
<p><code>小tip：纯函数的核心理念在于：出参始终依赖于入参，不受外部的任何影响，也就是不会因为何时、何处调用而影响</code>。</p>
<p>可以很直观的看到，<code>用户</code>从<code>UI</code>层面触发一系列的<code>DOM</code>事件，进而去<code>dispatch</code> <code>action</code>，将<code>dispatch</code>这个动作的处理交给<code>reducer（纯函数）</code>去做进一步处理。</p>
<p><code>Redux-thunk</code>做了什么？</p>
<p>它是为了处理异步<code>action</code>的，因为在项目中难免会有<code>异步请求数据，往redux中塞入获取的数据</code>这样的动作。</p>
<h2 id="但是，它究竟做了什么呢？"><a href="#但是，它究竟做了什么呢？" class="headerlink" title="但是，它究竟做了什么呢？"></a>但是，它究竟做了什么呢？</h2><p>可以看看源码，一窥究竟：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 创建thunk-middleware</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createThunkMiddleware</span>(<span class="params">extraArgument</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 拦截action </span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">&#123; dispatch, getState &#125;</span>) =&gt;</span> <span class="function">(<span class="params">next</span>) =&gt;</span> <span class="function">(<span class="params">action</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 如果action为一个函数，那么就调用action，并且传入 dispatch、getState、extraArguement</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> action === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">       <span class="comment">// 传入dispatch的目的是为了可以在action中去处理异步，在合适的时机dispatch</span></span><br><span class="line">      <span class="keyword">return</span> action(dispatch, getState, extraArgument);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 否则透传action</span></span><br><span class="line">    <span class="keyword">return</span> next(action);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> thunk = createThunkMiddleware();</span><br><span class="line">thunk.withExtraArgument = createThunkMiddleware;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> thunk;</span><br></pre></td></tr></table></figure>
<p>在<code>action</code>的时候处理异步任务，在结束时，<code>dispatch</code>对应的<code>reducer  case</code>。</p>
<h2 id="store组织"><a href="#store组织" class="headerlink" title="store组织"></a><code>store</code>组织</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125;  <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&#x27;redux-thunk&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> asyncAdd = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (dispatch: <span class="function">(<span class="params">args: &#123;<span class="keyword">type</span>: <span class="built_in">any</span>; payload?: <span class="built_in">any</span>&#125;</span>) =&gt;</span> <span class="built_in">void</span>) =&gt; &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            dispatch(&#123; <span class="keyword">type</span>: <span class="string">&#x27;AsyncAdd&#x27;</span>, payload: <span class="number">9</span>&#125;)</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> syncAdd = <span class="function">(<span class="params">payload: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="keyword">type</span>: <span class="string">&#x27;ADD&#x27;</span>,</span><br><span class="line">        payload</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducers</span> (<span class="params">state = &#123; num: 1 &#125;, action: <span class="built_in">any</span></span>): <span class="title">any</span> </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;ADD&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> &#123; ...state, num: action.payload &#125; ;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;AsyncAdd&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> &#123; ...state, num: action.payload &#125; ;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> state;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> store = createStore(reducers, applyMiddleware(thunk))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure>

<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>与<code>thunk</code>相似的工具还有<code>saga</code>，但是<code>saga</code>的设计更像是<code>vuex</code>中那样，把异步<code>action</code>剖离出来。利用了<code>generator</code>的写法，单独的<code>saga</code>文件去将异步同步化。</p>
<p>简单赘述一下<code>Redux-saga</code>处理流程：</p>
<p>先说明下<code>Redux-MiddleWare</code>的处理流程；</p>
<p><img src="https://user-images.githubusercontent.com/39019913/98340671-b1f09400-2048-11eb-8c24-56fafb8de3f9.png" alt="image"></p>
<p><code>saga</code>提供的<code>effets</code>会在处理完毕异步任务后，重新<code>dispatch</code> <code>reducer</code>中的<code>action</code>去更新<code>store</code>。监听用户<code>action</code>，将<code>saga</code>处理的异步<code>action</code>独立出来。</p>
<blockquote>
<p><code>小Tip：</code>什么是中间件？中间件是介于系统某几个部分的<code>衔接应用</code>，它可能只是简单地做一些数据交换任务，不处理业务逻辑，不处理底层硬件逻辑。</p>
</blockquote>
]]></content>
      <categories>
        <category>redux-thunk</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>如何开始测试，怎么写好测试？</title>
    <url>/article/react-unit-test-start/</url>
    <content><![CDATA[<h1 id="怎么开始测试呢？"><a href="#怎么开始测试呢？" class="headerlink" title="怎么开始测试呢？"></a>怎么开始测试呢？</h1><p>编写测试之前，请先<code>深呼吸</code>，<code>气沉丹田</code>，想想自己即将要攀登到<code>代码质量之巅</code>。</p>
<p>感受着和煦的微风<del>微凉的空调风夹杂着氟利昂的气息</del>，抚过脸颊，默默拿起手边的<code>Mojito</code><del>温热的白开水伴随着野菊花的芬芳</del>。</p>
<p>默念心法<code>given-when-then</code>，<code>不要去关注内部逻辑怎么实现的</code>。</p>
<p>缓缓开始敲击着键盘：<br><code>describe(xxx, () =&gt; &#123;&#125;)</code>……</p>
<hr>
<p>正经开始吧，先从<code>TDD</code>测试模式开始起步吧。</p>
<ul>
<li>这里我们接了一个需求，需要写一个过滤出URL地址中的端口号工具函数。</li>
</ul>
<p>首先我们可能会有这样一个<code>敏捷</code>的思维，这个工具函数就是<code>1. 拿到 url</code> =&gt; <code>2. 匹配 端口号</code> =&gt; <code>3. 返回端口号</code>。</p>
<p>于是这样一个用例出来了。这里按照预期测试完，确实返回了<code>8080</code>这个端口号</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; filterPort &#125; <span class="keyword">from</span> <span class="string">&#x27;utils&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> assert <span class="keyword">from</span> <span class="string">&#x27;assert&#x27;</span>;</span><br><span class="line"></span><br><span class="line">describe(<span class="string">&#x27;Util&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">    test(<span class="string">&#x27;返回端口号&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> url: <span class="built_in">string</span> = <span class="string">&#x27;http://localhost:8080&#x27;</span>;</span><br><span class="line">        <span class="keyword">const</span> res = filterPort(url);</span><br><span class="line"></span><br><span class="line">        assert(res === <span class="string">&#x27;8080&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/39019913/96442449-b988fe00-123d-11eb-8f86-326e6628029e.png" alt="image"></p>
<p>按照<code>TDD</code>开发的顺序，先跟着<code>feel</code>盲写一波测试用例，然后开始简要的开发，让测试用例通过。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义函数模板</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> FilterPortProps &#123;</span><br><span class="line">    (url: <span class="built_in">string</span>): <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 编写最基本的函数</span></span><br><span class="line"><span class="keyword">import</span> &#123; FilterPortProps &#125; <span class="keyword">from</span> <span class="string">&#x27;../lib/interface/utils&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> filterPort: FilterPortProps = <span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> url.match(<span class="regexp">/(?&lt;=:)\d+/g</span>)?.[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来就是紧张而又自豪的时刻了：</p>
<p><img src="https://user-images.githubusercontent.com/39019913/96444809-8a748b80-1241-11eb-994b-d5bab299b8f9.png" alt="image"></p>
<p>按照<code>TDD</code>的规则，我们继续编写测试（<code>未实现的测试</code>）；</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">test(<span class="string">&#x27;返回 null&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">const</span> url: <span class="built_in">string</span> = <span class="string">&#x27;http://localhost&#x27;</span>;</span><br><span class="line">     <span class="keyword">const</span> res = filterPort(url);</span><br><span class="line">     <span class="built_in">console</span>.log(res)</span><br><span class="line">     assert(res === <span class="literal">null</span>);</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/39019913/96448545-21dbdd80-1246-11eb-811f-66932f79fcea.png" alt="image"></p>
<p>这里的行为，应该是返回<code>null</code>，所以源代码应该修改为这样：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; FilterPortProps &#125; <span class="keyword">from</span> <span class="string">&#x27;../lib/interface/utils&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> filterPort: FilterPortProps = <span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> url.match(<span class="regexp">/(?&lt;=:)\d+/g</span>)?.[<span class="number">0</span>] || <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/39019913/96449112-f4dbfa80-1246-11eb-9765-1b26f056e346.png" alt="image"></p>
<p>我们再次完成了一个 由<code>红</code>变<code>绿</code>的过程，但是这时候的设计并不完美。</p>
<p>再从<code>BDD</code>深扣实现细节出发，返回出一个正确的结果，我们需要两个步骤：</p>
<ol>
<li><code>url</code>确实存在；</li>
<li><code>正则匹配</code>返回结果；</li>
</ol>
<p>我们思考的是，在什么情况下，会有什么表现，代码层面会有什么体现。</p>
<p>所以针对这个工具函数，我们应该遵循<code>黑盒测试用例</code>设计方案，设计有效/无效等价类；</p>
<ul>
<li><p>有效等价类</p>
<ol>
<li>url存在，且只有一个</li>
</ol>
</li>
<li><p>无效等价类</p>
<ol>
<li>url 不存在</li>
<li>url 存在，但是数目大于一个</li>
</ol>
</li>
</ul>
<p>场景一：在后端数据存在问题时，我们的程序应该爆出合适的错误去引导开发者最快速度的定位到错误；</p>
<p>场景二：在别的开发者使用错误的时候，但是并不阻碍程序正常运行，应该适当地爆出<code>warning</code>去引导且告诉使用者，这样做是违反我工具的使用规则的；</p>
<p>接下来，我们的测试用例又会新增两条用例去覆盖我们的<code>无效等价类</code>或者<code>BDD场景 </code>；</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 源代码</span></span><br><span class="line"><span class="keyword">import</span> &#123; FilterPortProps &#125; <span class="keyword">from</span> <span class="string">&#x27;../lib/interface/utils&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> filterPort: FilterPortProps = <span class="function"><span class="keyword">function</span> (<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// if url is undefined \ null \ &#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span>(!url) &#123; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Function expect a param at least&#x27;</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if arguements&#x27;s length 大于 1</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">arguments</span>.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.warn(<span class="string">`</span></span><br><span class="line"><span class="string">        Function only handle one param, if you want to handle one group params: </span></span><br><span class="line"><span class="string">            you can use example as follow: </span></span><br><span class="line"><span class="string">              [param1, param2, ...].reduce(a, b =&gt; a.concat(filterPort(item)), [])</span></span><br><span class="line"><span class="string">        `</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> url.match(<span class="regexp">/(?&lt;=:)\d+/g</span>)?.[<span class="number">0</span>] || <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; filterPort &#125; <span class="keyword">from</span> <span class="string">&#x27;../../../utils&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> assert <span class="keyword">from</span> <span class="string">&#x27;assert&#x27;</span>;</span><br><span class="line"></span><br><span class="line">describe(<span class="string">&#x27;Util&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    it(<span class="string">&#x27;当调用工具函数后，且传入正确的 url 并且匹配到正确结果&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> url: <span class="built_in">string</span> = <span class="string">&#x27;http://localhost:8080&#x27;</span>;</span><br><span class="line">        <span class="keyword">const</span> res = filterPort(url);</span><br><span class="line"></span><br><span class="line">        assert(res === <span class="string">&#x27;8080&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">&#x27;当调用工具函数后，且传入正确的 url，但没有匹配到结果应该返回null&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> url: <span class="built_in">string</span> = <span class="string">&#x27;http://localhost&#x27;</span>;</span><br><span class="line">        <span class="keyword">const</span> res = filterPort(url);</span><br><span class="line"></span><br><span class="line">        assert(res === <span class="literal">null</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">&#x27;当调用工具函数后，接收入参为null的情况下，程序应该反馈出正确的信息&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> url = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            filterPort(url);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            assert(e.toString().length &gt; <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">&#x27;当调用工具函数后，接收参数超过一个的时候，只匹配第一个参数的结果，并且程序应该给出warning提示&#x27;</span>, (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> url: <span class="built_in">string</span> = <span class="string">&#x27;http://localhost:8080&#x27;</span>;</span><br><span class="line">        <span class="built_in">global</span>.console.warn = jest.fn();</span><br><span class="line">        <span class="keyword">const</span> res = filterPort(url, url);</span><br><span class="line">        assert(res === <span class="string">&#x27;8080&#x27;</span>);</span><br><span class="line">        expect(<span class="built_in">global</span>.console.warn).toBeCalledTimes(<span class="number">1</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最后：</p>
<p><img src="https://user-images.githubusercontent.com/39019913/96456695-6caf2280-1251-11eb-84b4-5469f70e4483.png" alt="image"></p>
<p><img src="https://user-images.githubusercontent.com/39019913/96457170-04ad0c00-1252-11eb-8fec-00e919b9559a.png" alt="image"></p>
<p>相信你已经对于如何去设计一个完美的测试用例有了一个大体的认识，也了解了从<code>UTDD</code>和<code>ATDD</code>层级去驱动设计测试进而驱动开发。最后，始终去关注测试原则：<br>保证<code>given-when-then</code>细则；</p>
<p><code>只考虑</code></p>
<p>名词解释：<br><code>ATDD(“Acceptance Test Driven Development)</code>: 验收测试驱动，所有的产品（代码产出）都应该符合验收细则，而不是虚拟的指标；（应该出现的时间节点在 需求分析时）<br><code>UTDD(Unit Test Driven Development)</code>: 单元测试驱动开发；（应该出现的时间节点在于：代码开发之前）</p>
<p>然后可以聊聊重构？</p>
<p>什么是重构，重构是重构代码细节，但是重构后的应用的表现形态是不该不破坏的。</p>
<p>依旧拿上面的示例来讲，有一天我接到了一个需求，要重构上面的函数，实现方案是不允许用正则去处理：</p>
<p>A同学，使用了一些<code>奇淫巧技</code>实现了这个功能，完了之后去跑我们的测试用例；用例应该是正常运行的。</p>
<p>这样的测试用例才算是健壮的，利于重构代码的，可以为重构代码提供导向性作用；</p>
<h2 id="可能你对于上面的表述会显得有些意识模糊"><a href="#可能你对于上面的表述会显得有些意识模糊" class="headerlink" title="可能你对于上面的表述会显得有些意识模糊"></a>可能你对于上面的表述会显得有些意识模糊</h2><p>那么我们开始一个简单的 todo list 开发；</p>
<p>需求：请完成一个<code>todolist</code>，纯新增：支持回车新增与按钮点击新增；</p>
<p>从（<code>UTDD</code>）角度出发：</p>
<p>分三个组件：</p>
<ul>
<li><code>Operate-Panel</code>用于操作；</li>
<li><code>List</code>用于展示<code>todo item</code>组；</li>
</ul>
<h5 id="operate-panel"><a href="#operate-panel" class="headerlink" title="operate-panel"></a><code>operate-panel</code></h5><p>先大致建好文件，分析测试：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">describe(&#39;Operate-Panel&#39;, (): void &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">    let wrapper: ShallowWrapper;</span><br><span class="line">    const dispatch &#x3D; jest.fn();</span><br><span class="line"></span><br><span class="line">    beforeEach(() &#x3D;&gt; &#123;</span><br><span class="line">        wrapper &#x3D; shallow(&lt;OperatePanel dispatch&#x3D;&#123;dispatch&#125;&#x2F;&gt;)</span><br><span class="line">    &#125;);</span><br><span class="line">    afterEach(() &#x3D;&gt; &#123;</span><br><span class="line">       wrapper.unmount();</span><br><span class="line">       jest.clearAllMocks();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">   test(&#39;输入内容后，回车调用外层的 dispatch&#39;, () &#x3D;&gt; &#123;</span><br><span class="line">        const todoContent &#x3D; &#39;今天需要读书&#39;;</span><br><span class="line">        wrapper.find(&#39;input&#39;).simulate(&#39;input&#39;, &#123; target: &#123; value: todoContent &#125; &#125;);</span><br><span class="line">        wrapper.find(&#39;input&#39;).simulate(&#39;keyup&#39;, &#123; key: &#39;Enter&#39; &#125;);</span><br><span class="line">        expect(dispatch).toBeCalledTimes(1);</span><br><span class="line">        &#x2F;&#x2F; expect(dispatch).toHaveBeenCalledWith(todoContent);</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br><span class="line">   test(&#39;input 内容为空时，什么都不做，不触发 dispatch&#39;, () &#x3D;&gt; &#123;</span><br><span class="line">       const todoContent &#x3D; &#39;今天需要读书&#39;;</span><br><span class="line">       wrapper.find(&#39;input&#39;).simulate(&#39;input&#39;, &#123; target: &#123; value: todoContent &#125; &#125;);</span><br><span class="line">       expect(dispatch).toBeCalledTimes(0);</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br><span class="line">    test(&#39;输入内容后，不回车，不会触发 dispatch&#39;, () &#x3D;&gt; &#123;</span><br><span class="line">        const todoContent &#x3D; &#39;今天需要读书&#39;;</span><br><span class="line">        wrapper.find(&#39;input&#39;).simulate(&#39;input&#39;, &#123; target: &#123; value: todoContent &#125; &#125;);</span><br><span class="line">        wrapper.find(&#39;input&#39;).simulate(&#39;keyup&#39;, &#123; key: &#39;Tab&#39; &#125;);</span><br><span class="line">        expect(dispatch).toBeCalledTimes(0);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/39019913/96727154-5934c080-13e5-11eb-810c-906f1cb6bfd0.png" alt="image"></p>
<p>然后按照这个思路完善与这个测试相关的业务代码，不要多写与当前测试用例无关的业务代码；</p>
<p>根据<code>TDD</code>测试模式，测试覆盖率通常可以达到<code>90%-100%</code>之间。<br><code>（小tip：在进行测试用例的设计中，可以依照白盒测试设计：路径覆盖、逻辑覆盖）</code><br><img src="https://user-images.githubusercontent.com/39019913/96736447-34454b00-13ef-11eb-85e8-ec3b3bd60e7b.png" alt="image"></p>
<h3 id="那么其实与TDD相互配合的还有BDD测试模式"><a href="#那么其实与TDD相互配合的还有BDD测试模式" class="headerlink" title="那么其实与TDD相互配合的还有BDD测试模式"></a>那么其实与<code>TDD</code>相互配合的还有<code>BDD</code>测试模式</h3><p><code>BDD</code>的行为细则属于怎样的呢？</p>
<p>全称：<code>Behavior Driven Development</code>行为驱动开发。说的直白一点，更多的应该是，需求驱动开发，也就是当前组件的测试是面向需求的，需求满足则测试通过。<br>但是不好的一点是失去了单测目的，非需求部分的逻辑代码得不到测试覆盖，无法谈及质量观。</p>
<p>测试模式宏观的方案就是写完业务代码后，针对需求进行编撰测试。</p>
]]></content>
      <categories>
        <category>单元测试</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>unit test</tag>
      </tags>
  </entry>
  <entry>
    <title>打通webpack任督二脉</title>
    <url>/article/webpack-advanced/</url>
    <content><![CDATA[<p><img src="https://user-images.githubusercontent.com/39019913/92306504-2c0d8980-efc2-11ea-80c7-bec809bc72e7.png" alt="image"></p>
<h2 id="一、基础梳理（上帝视角de灵魂拷问）"><a href="#一、基础梳理（上帝视角de灵魂拷问）" class="headerlink" title="一、基础梳理（上帝视角de灵魂拷问）"></a>一、基础梳理（上帝视角de灵魂拷问）</h2><h3 id="1-1-webpack是什么？"><a href="#1-1-webpack是什么？" class="headerlink" title="1.1 webpack是什么？"></a>1.1 webpack是什么？</h3><ul>
<li><del>webpack就是一个js的翻译器</del><ul>
<li>它只认识<code>import</code> 这样的语句，其他高级<code>js</code>语法，一概不认。</li>
</ul>
</li>
</ul>
<p><strong>核心定义</strong>：模块打包工具 👏👏👏</p>
<ul>
<li>识别<code>import</code>，引入<code>import</code>模块，打包生成最终的模块。</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/39019913/92325392-e3ff6d00-f07c-11ea-8f89-97ee4eaa5570.png" alt="image"></p>
<h3 id="1-2-什么是webpack模块"><a href="#1-2-什么是webpack模块" class="headerlink" title="1.2 什么是webpack模块"></a>1.2 什么是webpack模块</h3><p><img src="https://user-images.githubusercontent.com/39019913/92325431-4d7f7b80-f07d-11ea-9e37-2eef765bc862.png" alt="image"></p>
<h3 id="1-3-webpack-config-js的作用是什么？"><a href="#1-3-webpack-config-js的作用是什么？" class="headerlink" title="1.3 webpack.config.js的作用是什么？"></a>1.3 webpack.config.js的作用是什么？</h3><p>扩展<code>webpack</code>的能力，提供给<code>webpack</code>使用，<code>webpack</code>会默认读取<code>webpack.config.js</code>的信息。</p>
<h3 id="1-4-Loader是什么？"><a href="#1-4-Loader是什么？" class="headerlink" title="1.4 Loader是什么？"></a>1.4 Loader是什么？</h3><p>我的理解：它就是一个对于特定文件所提供给<code>webpack</code>打包的一种打包方案。</p>
<p><strong>stackoverflow Reference</strong> <a href="https://stackoverflow.com/a/46176755/7552246">https://stackoverflow.com/a/46176755/7552246</a></p>
<h4 id="Loaders"><a href="#Loaders" class="headerlink" title="Loaders"></a>Loaders</h4><p>Loaders work at the individual file level during or before the bundle is generated.<br><em>在<code>bundle</code>生成期间或之前，<code>loader</code>在单个文件级别工作。</em></p>
<h4 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h4><p>Plugins work at bundle or chunk level and usually work at the end of the bundle generation process. Plugins can also modify how the bundles themselves are created. Plugins have more powerful control than loaders.<br><code>plugin</code>在<code>bundle</code>或<code>chunk</code>级别工作，通常在<code>bundle</code>生成结束时工作。插件还可以修改<code>bundle</code>本身的创建方式。<code>plugin</code>具有比<code>loader</code>更强大的控制功能。</p>
<p><img src="https://i.stack.imgur.com/P7hTM.png" alt="image"></p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol>
<li>什么是AST？</li>
</ol>
<p>AST(Abstract Syntax Tree)，</p>
<ol start="2">
<li>AST在JS代码执行的那个阶段产生？</li>
</ol>
<p>词法分析–&gt;语法分析(生成AST)–&gt;预编译–&gt;解释执行</p>
<ol start="3">
<li>AST语法树</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">type:         描述该语句的类型  --&gt; 变量声明的语句</span><br><span class="line">kind:         变量声明的关键字  </span><br><span class="line">declaration:  声明内容的数组，里面每一项也是一个对象</span><br><span class="line">            type: 描述该语句的类型</span><br><span class="line">            id:   描述变量名称的对象</span><br><span class="line">                type: 定义</span><br><span class="line">                name: 变量的名字</span><br><span class="line">            init: 初始化变量值的对象</span><br><span class="line">                type:   类型</span><br><span class="line">                value:  值 </span><br><span class="line">                row:    值，判别是否 带引号</span><br></pre></td></tr></table></figure>

<h2 id="基础配置优化"><a href="#基础配置优化" class="headerlink" title="基础配置优化"></a>基础配置优化</h2><ol>
<li><p>利用好<code>webpack.config.js</code>配置中的<code>resolve</code>，主动告诉<code>webpack</code>，我们需要对于哪些文件进行一个打包查找：（这里优先介绍常用的）</p>
<p>1&gt; <code>extensions</code>，告诉<code>webpack</code>，我们需要优先查找哪些没有后缀名但是拥有<code>前缀名</code>的文件，列在数组首位的后缀名优先。</p>
<p>2&gt; <code>alias</code>设置别名路径，当路径过长的时候，可以使用<code>alias</code>设置短链接指向。</p>
</li>
<li><p>在<code>合适</code>的<code>场景</code>，利用好<code>合适</code>的<code>loader</code>去处理<code>合适</code>的<code>文件</code>，例如可以利用<code>url-loader</code>去处理图片文件，将图片适当的<code>base64</code>化。</p>
</li>
<li><p>在<code>loader</code>中配置<code>exclude</code> &amp; <code>include</code>，缩小<code>complier</code>范围。</p>
</li>
<li><p>利用<code>cache-loader</code> &amp; <code>cache-plugin</code>缓存大体量的<code>loader</code> OR <code>plugin</code>，实现提效。</p>
</li>
</ol>
<h2 id="分割打包策略"><a href="#分割打包策略" class="headerlink" title="分割打包策略"></a>分割打包策略</h2><p>为什么要分包？分什么包？怎么分包？分包可以达到什么效果？</p>
<ul>
<li>为什么要分包？<ul>
<li>原始的打包会将<code>node_modules</code>与<code>需要打包的(src)</code>文件打包进一个<code>bundle</code>，在<code>client</code>进行缓存的时候，重新打包请求，耗费时间，导致首页白屏时间较长，可以选择将<code>需要稳定版本的node_modules</code>持久缓存起来，经常变化的<code>lib</code>/<code>src</code>待编译文件打包进核心的<code>bundle</code>。</li>
</ul>
</li>
<li>分什么包？<ul>
<li>可以将稳定版本的<code>node_modules</code>分包进一个<code>stable vendor</code>；可以将需要<code>latest</code>版本的<code>node_modules</code>分包进一个<code>lazy vendor</code>；可以将核心待编译文件分包进<code>main bundle</code>；可以将测试文件分包进<code>test vendor</code>，注意需要在<code>main bundle</code>中<code>exclude</code>出<code>测试文件</code>；</li>
</ul>
</li>
<li>怎么分包？<ul>
<li><code>webpack 4</code>之前利用的是<code>SplitChunksPlugin</code>这个插件，但是<code>4</code>版本中已被废弃，可以直接在内部通过<code>optimization</code>进行配置。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">         optimization: &#123;</span><br><span class="line">             runtimeChunk: <span class="string">&#x27;single&#x27;</span>,</span><br><span class="line">             splitChunks: &#123;</span><br><span class="line">                 chunks: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                 maxInitialRequests: <span class="literal">Infinity</span>,</span><br><span class="line">                 minSize: <span class="number">0</span>,</span><br><span class="line">                 cacheGroups: &#123;</span><br><span class="line">                     <span class="keyword">default</span>: &#123;</span><br><span class="line">                         name: <span class="string">&#x27;common&#x27;</span>,</span><br><span class="line">                         chunks: <span class="string">&#x27;initial&#x27;</span>,</span><br><span class="line">                         minChunks: <span class="number">5</span>,  <span class="comment">//模块被引用5次以上的才抽离</span></span><br><span class="line">                         <span class="comment">// priority: -1 // 设置优先级</span></span><br><span class="line">                     &#125;,</span><br><span class="line">                     vendor: &#123;</span><br><span class="line">                         test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">                         name(<span class="built_in">module</span>) &#123;</span><br><span class="line">                             <span class="keyword">const</span> packageName = <span class="built_in">module</span>.context.match(<span class="regexp">/[\\/]node_modules[\\/](.*?)([\\/]|$)/</span>)[<span class="number">1</span>];</span><br><span class="line">                             <span class="comment">// 部分模块是以 @ 开头的，直接在分包命名中过滤掉</span></span><br><span class="line">                             <span class="keyword">return</span> <span class="string">`npm.vendor.<span class="subst">$&#123;packageName.replace(<span class="string">&#x27;@&#x27;</span>, <span class="string">&#x27;&#x27;</span>)&#125;</span>`</span>;</span><br><span class="line">                         &#125;,</span><br><span class="line">                     &#125;,</span><br><span class="line">                     testModule: &#123;</span><br><span class="line">                         chunks: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                         test: <span class="regexp">/__test__\/*/</span>,</span><br><span class="line">                         name: <span class="string">&#x27;test.vendor&#x27;</span> ,</span><br><span class="line">                     &#125;</span><br><span class="line">                 &#125;,</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>分包可以达到什么效果？<ul>
<li><img src="https://user-images.githubusercontent.com/39019913/100823073-823d7c00-348e-11eb-8954-1d76f1ae1add.png" alt="image"></li>
</ul>
</li>
</ul>
<h2 id="缓存优化构建策略"><a href="#缓存优化构建策略" class="headerlink" title="缓存优化构建策略"></a>缓存优化构建策略</h2><ol>
<li><p><code>happypack</code>，之前有提到这个工具，但是其作者已经不维护了，另外多进程打包考验<code>cpu</code>能力，核数越高，打包越快，所以一般可能很难见成效；</p>
</li>
<li><p><code>cache-loader</code>、<code>cache-plugin</code>可以很好的缓存那些大体量的<code>loader</code>或者<code>plugin</code>编译的结果在<code>disk</code>内存中，下次编译的时候可以直接从<code>disk</code>中拿。如果在服务端也可以在放置在<code>redis</code>中。</p>
</li>
<li><p><code>HardSourceWebpackPlugin</code>可以实现持久缓存，第一次构建可能效果不明显，第一次之后，效果可以实现提升。</p>
</li>
</ol>
<h2 id="怎么理解chunk、bundle？"><a href="#怎么理解chunk、bundle？" class="headerlink" title="怎么理解chunk、bundle？"></a>怎么理解<code>chunk</code>、<code>bundle</code>？</h2><p><img src="https://user-images.githubusercontent.com/39019913/100825341-c468bc80-3492-11eb-878a-5fae3529e211.png" alt="image"></p>
<p>如上图，其实还是很好理解的：</p>
<p><code>module</code>是打包前的引入文件，<code>chunk</code>是打包时的处理文件，<code>bundle</code>是<code>webpack</code>处理<code>chunk</code>的产物。</p>
<p><code>chunk</code>的数目怎么计算？很好识别的：一个入口文件一个<code>chunk</code>，一个分包策略一个<code>chunk</code>。</p>
<h2 id="webpack的构建流程是怎样的呢？"><a href="#webpack的构建流程是怎样的呢？" class="headerlink" title="webpack的构建流程是怎样的呢？"></a><code>webpack</code>的构建流程是怎样的呢？</h2><ol>
<li><p>合并<code>shell</code>参数与<code>webpack.config.js</code>中的配置。</p>
</li>
<li><p>在<code>config</code>配置文件中去确定<code>entry</code>入口。</p>
</li>
<li><p>开始执行<code>run</code>编译，对应文件使用对应<code>file-loader</code>，递归处理模块。</p>
</li>
<li><p>根据入口与代码分割方案生成<code>chunk</code>。</p>
</li>
<li><p>处理<code>chunk</code>，生成最终的 <code>bundle</code>。</p>
</li>
<li><p>输出完成。</p>
</li>
</ol>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://medium.com/@rajaraodv/webpack-the-confusing-parts-58712f8fcad9#.5fxzupi03">Webpack — The Confusing Parts</a></li>
<li><a href="https://webpack.js.org/contribute/writing-a-loader/">Write A Loader | Webpack</a></li>
<li><a href="https://cheogo.github.io/learn-javascript/201709/runtime.html">JavaScript 语法解析、AST、V8、JIT</a></li>
</ul>
]]></content>
      <categories>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>新得感悟</tag>
        <tag>总结</tag>
      </tags>
  </entry>
  <entry>
    <title>你还在头疼的`eslint`,`tsconifg.json`其实很好玩</title>
    <url>/article/tsconfig/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><code>typescript</code>是一个让人用习惯了就无法自拔的工具，作为<code>javascript</code>的类型扩展工具，可以让本是弱类型的<code>javascript</code>拥有强类型约束，<br>在编译期间报错，提示开发者类型是否符合约束，可以在开发期间和后期的维护期间起到很好的作用。</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>可能大多数人，看到一些配置文件都会各种头疼，其实完全没必要虚的，因为配置就是一个查阅文档的过程，没有人会全部记住它，用到什么配置就加一下，<br>不过一些常用的配置是需要知道的。</p>
<h2 id="我遇到了什么问题，我要解决什么问题？"><a href="#我遇到了什么问题，我要解决什么问题？" class="headerlink" title="我遇到了什么问题，我要解决什么问题？"></a>我遇到了什么问题，我要解决什么问题？</h2><ul>
<li>当在项目中引入非<code>ts</code>文件或者没有<code>d.ts</code>声明的时候，编辑器报<code>warning</code>怎么办？</li>
</ul>
<ol>
<li><p>第三方包且拥有<code>types</code>包的，下载对应的<code>@types/packageName</code>；</p>
</li>
<li><p>第三方包或者私有库的包，如果没有<code>types</code>，需要手动为包补全<code>d.ts</code>，或者是在项目的<code>src</code>目录下添加<code>@types</code>文件夹，定义<code>definition.d.ts</code>；</p>
</li>
</ol>
<ul>
<li>当项目中某些新特性不支持或者<code>window</code>下的某些参数，报错怎么处理？</li>
</ul>
<ol>
<li>添加<code>declare</code></li>
</ol>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @desc 手动声明 es2018 PromiseConstructor finally</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> PromiseConstructor &#123;</span><br><span class="line">    <span class="keyword">finally</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @desc 手动声明 es2016 ObjectConstructor assign</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> ObjectConstructor &#123;</span><br><span class="line">    assign(...objects: Record&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt;[]): Record&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @desc 手动声明 Window 全局对象 propTypes</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> Window &#123;</span><br><span class="line">    [key: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> &#x27;*.png&#x27;</span><br><span class="line">declare <span class="keyword">module</span> &#x27;*.jpg&#x27;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>经验</category>
      </categories>
      <tags>
        <tag>tsconfig</tag>
      </tags>
  </entry>
  <entry>
    <title>重识闭包</title>
    <url>/article/re-know-clouser/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为什么再次选择重温<code>闭包</code>这个神奇的物种呢？可能是脑海里还存在以前的<code>疑虑</code>吧？</p>
<blockquote>
<p>函数就是闭包，这是最暴力的解释，也是最直观的解释，因为在全局作用域下，函数引用了函数作用域外的变量，像<code>DOM</code>引用；</p>
</blockquote>
<blockquote>
<p>函数内的函数引用了函数内部的变量或者函数外部的变量，闭包由此生成；（也是目前我能接受的理解，包含《你不知道的JavaScript中》所解释的，回调皆闭包）；</p>
</blockquote>
<h2 id="切题引入"><a href="#切题引入" class="headerlink" title="切题引入"></a>切题引入</h2><blockquote>
<p>完成一个for循环，依次打印1-10，要求每隔一秒打印；</p>
</blockquote>
<h3 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 记录setTimeout堆栈</span></span><br><span class="line"><span class="keyword">let</span> timerQueue = &#123;&#125;</span><br><span class="line"><span class="comment">// 闭包打印</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 形成闭包作用域</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 每次打印结束后，清空上一次定时器的闭包引用</span></span><br><span class="line">        timerQueue[i] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i =<span class="number">0</span>; i &lt; <span class="number">10</span> ; i ++) &#123;</span><br><span class="line">    <span class="comment">// 保存定时器引用</span></span><br><span class="line">    timerQueue[i] = <span class="built_in">setTimeout</span>(printf(i), <span class="number">1000</span>*i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;<span class="number">10</span>; i ++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方案三"><a href="#方案三" class="headerlink" title="方案三"></a>方案三</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 睡眠函数</span></span><br><span class="line"><span class="keyword">const</span> sleep = <span class="function">(<span class="params">timer</span>) =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;<span class="built_in">setTimeout</span>(resolve, timer)&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印</span></span><br><span class="line"><span class="keyword">const</span> print = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i =<span class="number">0</span>; i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">        <span class="comment">// 睡眠</span></span><br><span class="line">        <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print()</span><br></pre></td></tr></table></figure>

<p>方案一主要利用了<code>闭包</code>的特性；方案二主要利用了<code>ES6``let</code>模块作用域的特性，for循环每次都保留上一次的值开始循环；方案三主要利用了<code>async</code>异步同步化；</p>
<h2 id="函数的生命周期"><a href="#函数的生命周期" class="headerlink" title="函数的生命周期"></a>函数的生命周期</h2><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-09_00-29-48.png" alt="alt"></p>
<h2 id="图解"><a href="#图解" class="headerlink" title="图解"></a>图解</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 记录setTimeout堆栈</span></span><br><span class="line"><span class="keyword">let</span> timerQueue = &#123;&#125;</span><br><span class="line"><span class="comment">// 闭包打印</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 形成闭包作用域</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 每次打印结束后，清空上一次定时器的闭包引用</span></span><br><span class="line">        timerQueue[i] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i =<span class="number">0</span>; i &lt; <span class="number">10</span> ; i ++) &#123;</span><br><span class="line">    <span class="comment">// 保存定时器引用</span></span><br><span class="line">    timerQueue[i] = <span class="built_in">setTimeout</span>(printf(i), <span class="number">1000</span>*i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-09_01-23-48.png" alt="alt"></p>
<p>每次执行完一次<code>for</code>循环之后，蓝色的线条都会断开，作为<code>函数生命周期的结束标志</code>，但是内部函数还是会保留上次<code>AO</code>对象，且闭包作用域是内部的<code>无名</code>函数。</p>
<p>利用外围<code>timerQueue</code>对象保存定时器引用，适时清空，优化内存占用。</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>知识</tag>
      </tags>
  </entry>
  <entry>
    <title>从设计模式出发，带你认识Blob、FileReader</title>
    <url>/article/design-pattern-blob-fileReader/</url>
    <content><![CDATA[<p>从设计模式入手，介绍<code>Blob</code>、<code>FileReader</code>。</p>
<h2 id="虚拟代理模式"><a href="#虚拟代理模式" class="headerlink" title="虚拟代理模式"></a>虚拟代理模式</h2><p>当提及<code>虚拟代理</code>时，你可能下意识的会想到<code>proxy</code>，虚拟代理的核心思想就是在目标对象身上架设起一座桥梁，为它去做一些额外的事。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> target = &#123;</span><br><span class="line">    message1: <span class="string">&quot;hello&quot;</span>,</span><br><span class="line">    message2: <span class="string">&quot;everyone&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> handler3 = &#123;</span><br><span class="line">    get (target, prop, receiver) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(target, prop, receiver)</span><br><span class="line">        <span class="keyword">if</span> (prop === <span class="string">&quot;message2&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;world&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(...arguments);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    set (target, prop, receiver) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;set&#x27;</span>, prop, target, receiver, <span class="built_in">this</span>)</span><br><span class="line">        <span class="keyword">if</span> (prop === <span class="string">&#x27;message1&#x27;</span>) &#123;</span><br><span class="line">            target[prop] = receiver</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> proxy3 = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, handler3);</span><br><span class="line"></span><br><span class="line">proxy3.message1 = <span class="string">&#x27;ssdsd&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(proxy3.message1); <span class="comment">// ssdsd</span></span><br><span class="line"><span class="built_in">console</span>.log(proxy3.message2); <span class="comment">// world</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>粘贴了<code>MDN</code>的<code>Proxy</code>示例，配合<code>Reflect</code>去做一些既保留原始行为，又可以自定义行为的功能。</p>
<p>同样的，虚拟代理的原理也很简单，拿一个图片的<code>预加载</code>举一个<code>栗子</code>：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 真实 dom 对象，以及行为   </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TDomObj</span> </span>&#123;</span><br><span class="line">       <span class="keyword">constructor</span>(obj) &#123;</span><br><span class="line">           <span class="built_in">this</span>.trueDom = obj;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       setSrc (url) &#123;</span><br><span class="line">           <span class="built_in">this</span>.trueDom.src = url</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// 代理真实 dom</span></span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">ProxyTDom</span> </span>&#123;</span><br><span class="line">       <span class="keyword">constructor</span>(TDom) &#123;</span><br><span class="line">           <span class="built_in">this</span>.TDom = TDom;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       setSrc (url) &#123;</span><br><span class="line">           <span class="comment">// 预加载已设置好的预览图</span></span><br><span class="line">           <span class="built_in">this</span>.TDom.setSrc(<span class="string">&#x27;https://segmentfault.com/img/bVbIDbC&#x27;</span>);</span><br><span class="line">           <span class="comment">// new 一个虚拟的 Image 对象</span></span><br><span class="line">           <span class="keyword">const</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">           img.onload =  <span class="function">() =&gt;</span> &#123;</span><br><span class="line">               <span class="comment">// 监听虚拟 img 加载完毕后，平滑 set</span></span><br><span class="line">               <span class="built_in">this</span>.TDom.setSrc(url);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// 虚拟 img 对象去加载真实 img 资源</span></span><br><span class="line">           img.src = url;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>那么，有人会问了，这些跟 <code>Blob</code>、<code>FileReader</code>有什么关系呢？</p>
<h4 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a><code>FileReader</code></h4><p><code>FileReader</code>可以读取用户计算机上的二进制文件。以<code>Blob</code>对象的数据格式去处理。</p>
<p>怎么获取用户计算机文件呢？</p>
<ol>
<li><p>利用<code>input</code>手动上传，监听<code>change</code>；</p>
</li>
<li><p>利用<code>ajax</code>获取服务端文件，可以设置<code>responseType</code>为<code>Blob</code>对象。</p>
</li>
</ol>
<p>（小<code>tip</code>: 阿里 <code>OSS</code> 的图片、文件（pdf等）<code>CDN</code>是不支持预览的，可以借助<code>ajax</code>获取服务端文件，以<code>Blob</code>形式获取后，创建<code>Blob URL</code>，利用<code>createObjectURL(:blob)</code>生成，<code>window.open</code>预览）</p>
<h4 id="Blob"><a href="#Blob" class="headerlink" title="Blob"></a><code>Blob</code></h4><p><code>Blob</code>是一种原始数据对象（其实就是二进制数据对象）；【<code>File</code>继承自<code>Blob</code>】</p>
<p><code>File</code>继承自<code>Blob</code>，所以也就可以引申我们接下来要提到的，<code>图片分片上传</code>，利用<code>Blob</code>对象的<code>splice</code>方法，它可以返回一个新的<code>Blob</code>对象。</p>
<p>相比于一般的<code>base 64</code>的 <code>data url</code>而言，<code>Blob Url</code>更短，字节数更少，所以文件也就很少，可以作为提升性能的一个手段，但是它的局限性在于只能在当前应用内使用，应为生成的<code>Blob URL</code>前缀为当前应用的根路径。不可以跨应用使用。</p>
<h2 id="Now-Show-My-Time"><a href="#Now-Show-My-Time" class="headerlink" title="Now, Show My Time!!!"></a><code>Now, Show My Time!!!</code></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot;</span><br><span class="line">          content&#x3D;&quot;width&#x3D;device-width, user-scalable&#x3D;no, initial-scale&#x3D;1.0, maximum-scale&#x3D;1.0, minimum-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;file&quot; placeholder&#x3D;&quot;请上传&quot; id&#x3D;&quot;UPLOAD&quot;&gt;</span><br><span class="line">&lt;img id&#x3D;&quot;OUTPUT&quot; src&#x3D;&quot;&quot;&#x2F;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    class TDomObj &#123;</span><br><span class="line">        constructor(obj) &#123;</span><br><span class="line">            this.trueDom &#x3D; obj;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setSrc (url) &#123;</span><br><span class="line">            this.trueDom.src &#x3D; url</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    class ProxyTDom &#123;</span><br><span class="line">        constructor(TDom) &#123;</span><br><span class="line">            this.TDom &#x3D; TDom;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setSrc (url) &#123;</span><br><span class="line">            this.TDom.setSrc(&#39;https:&#x2F;&#x2F;segmentfault.com&#x2F;img&#x2F;bVbIDbC&#39;);</span><br><span class="line">            const img &#x3D; new Image();</span><br><span class="line">            img.onload &#x3D;  () &#x3D;&gt; &#123;</span><br><span class="line">                this.TDom.setSrc(url);</span><br><span class="line">            &#125;</span><br><span class="line">            img.src &#x3D; url;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const tdom &#x3D; document.getElementById(&#39;OUTPUT&#39;);</span><br><span class="line"></span><br><span class="line">    const t &#x3D; new TDomObj(tdom);</span><br><span class="line"></span><br><span class="line">    const p &#x3D; new ProxyTDom(t);</span><br><span class="line"></span><br><span class="line">    document.getElementById(&#39;UPLOAD&#39;).addEventListener(&#39;change&#39;, (e) &#x3D;&gt; &#123;</span><br><span class="line">        console.log(e);</span><br><span class="line">        const reader &#x3D; new FileReader();</span><br><span class="line">        reader.onload &#x3D; function () &#123;</span><br><span class="line">            console.log(reader.result)</span><br><span class="line">            p.setSrc(reader.result)</span><br><span class="line">        &#125;</span><br><span class="line">        reader.readAsDataURL(e.target.files[0]);</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>


<ul>
<li>自律并不可怕，可怕的是坚持自律。</li>
</ul>
]]></content>
      <categories>
        <category>设计模式</category>
        <category>Blob</category>
        <category>FileReader</category>
      </categories>
      <tags>
        <tag>新得感悟</tag>
        <tag>总结</tag>
      </tags>
  </entry>
  <entry>
    <title>重温V8引擎事件循环，反思异步带来的现代化开发壁障</title>
    <url>/article/v8toasyncQeq/</url>
    <content><![CDATA[<blockquote>
<p>孔夫子有云：温故而知新。</p>
</blockquote>
<p>不断的回味以前对于知识的理解，不断的实践，不断的推翻，逆向思考，新的知识就会慢慢浮现。</p>
<h2 id="一分钟理解微任务、宏任务"><a href="#一分钟理解微任务、宏任务" class="headerlink" title="一分钟理解微任务、宏任务"></a>一分钟理解微任务、宏任务</h2><p><code>宏任务</code>:</p>
<ul>
<li><code>DOM</code>事件</li>
<li><code>setTimeout</code></li>
<li><code>setInterval</code></li>
<li>脚本</li>
<li><code>I/O</code></li>
</ul>
<p><code>微任务</code></p>
<ul>
<li><code>promise</code></li>
<li><code>GC</code></li>
<li>等等</li>
</ul>
<p><strong>当然，<code>requestIdleCallback</code>和<code>requestAnimationFrame</code>不属于<code>task</code>，它们是浏览器渲染过程的一步，和<code>task</code>／<code>microtask</code>的执行是分离的。</strong> </p>
<p>小二，先上一道烂大街的面试题！</p>
<p>讲述下事件循环：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;同步代码开始&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asycn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> async1()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;同步代码结束&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>答案公布：</p>
<p>同步代码开始</p>
<p>3</p>
<p>2</p>
<p>同步代码结束</p>
<p>4</p>
</blockquote>
<p>第一步：整个代码块被扔进了<code>宏任务</code>中；</p>
<p>第二步：<code>console</code>同步代码被放入执行栈中开始执行，打印 <em>同步代码开始</em></p>
<p>第三步：<code>Promise</code>构造函数是同步代码，压栈执行，打印<em>3</em>、<em>2</em></p>
<p>第四步：<code>console</code>同步代码被放入执行栈中开始执行，打印 <em>同步代码结束</em></p>
<p>第五步：宏任务代码执行完毕，检查是否有微任务代码可以执行。</p>
<p>第六步：<code>async</code>函数中的出现 <code>await</code> 后，之后的代码被放入<code>Promise.then</code>中，微任务队列开始执行。</p>
<h4 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h4><p>【1】从一道题浅说js事件循环（<a href="https://github.com/dwqs/blog/issues/61">https://github.com/dwqs/blog/issues/61</a> ）</p>
<p>【2】requestIdleCallback和requestAnimationFrame详解（<a href="https://www.cnblogs.com/cangqinglang/p/13877078.html">https://www.cnblogs.com/cangqinglang/p/13877078.html</a> ）</p>
<h2 id="反思壁障"><a href="#反思壁障" class="headerlink" title="反思壁障"></a>反思壁障</h2><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/fenbaobao.jpg" alt="alt"></p>
<h3 id="由快慢async发出的思考"><a href="#由快慢async发出的思考" class="headerlink" title="由快慢async发出的思考"></a>由快慢<code>async</code>发出的思考</h3><p>【1】slow-async-await（<a href="https://mdn.github.io/learning-area/javascript/asynchronous/async-await/slow-async-await.html%EF%BC%89">https://mdn.github.io/learning-area/javascript/asynchronous/async-await/slow-async-await.html）</a></p>
<p>【2】fast-async-await（<a href="https://mdn.github.io/learning-area/javascript/asynchronous/async-await/fast-async-await.html%EF%BC%89">https://mdn.github.io/learning-area/javascript/asynchronous/async-await/fast-async-await.html）</a></p>
<p>接下来，我们慢慢食用代码：</p>
<p>— <code>timeoutPromise</code> —</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeoutPromise</span>(<span class="params">interval</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      resolve(<span class="string">&quot;done&quot;</span>);</span><br><span class="line">    &#125;, interval);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>— <code>计时程序</code> —</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> startTime = <span class="built_in">Date</span>.now();</span><br><span class="line">timeTest().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> finishTime = <span class="built_in">Date</span>.now();</span><br><span class="line">  <span class="keyword">let</span> timeTaken = finishTime - startTime;</span><br><span class="line">  alert(<span class="string">&quot;Time taken in milliseconds: &quot;</span> + timeTaken);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>— <code>slow-async-await</code> —</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">timeTest</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">await</span> timeoutPromise(<span class="number">3000</span>);</span><br><span class="line">  <span class="keyword">await</span> timeoutPromise(<span class="number">3000</span>);</span><br><span class="line">  <span class="keyword">await</span> timeoutPromise(<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>— <code>fast-async-await</code> —</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">timeTest</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> timeoutPromise1 = timeoutPromise(<span class="number">3000</span>);</span><br><span class="line">  <span class="keyword">const</span> timeoutPromise2 = timeoutPromise(<span class="number">3000</span>);</span><br><span class="line">  <span class="keyword">const</span> timeoutPromise3 = timeoutPromise(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> timeoutPromise1;</span><br><span class="line">  <span class="keyword">await</span> timeoutPromise2;</span><br><span class="line">  <span class="keyword">await</span> timeoutPromise3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>看下<code>MDN</code>的解释：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-17_20-51-49.png"></p>
<p>这句<code>同时启动它们的关联进程</code>可能很难理解，其实不难，理解了<code>async await</code>—&gt; <code>promise</code>后，原理一目了然：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 转换前</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转换后</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">        res();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>起因就是因为<code>async</code>将异步代码真的<code>同步化</code>了，导致同步代码也进入了<code>异步等待中</code>，所以使用变量保存<code>Promise</code>的执行状态，实际上可以理解为<code>并行执行了异步的构造任务</code>。</p>
<h4 id="参考链接-1"><a href="#参考链接-1" class="headerlink" title="参考链接"></a>参考链接</h4><p>【1】MDN（<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Async_await">https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Async_await</a> ）</p>
<p>【2】js异步梳理：1.从浏览器的多进程到JS的单线程，理解JS运行机制（<a href="https://www.cnblogs.com/hezhi/p/10484884.html">https://www.cnblogs.com/hezhi/p/10484884.html</a> ）</p>
<p>【3】为什么要在变量中存储Promise对象？（<a href="https://www.debugcn.com/article/53568001.html">https://www.debugcn.com/article/53568001.html</a> ）</p>
<h3 id="由useState闭包引发的思考与如何跳出闭包壁障"><a href="#由useState闭包引发的思考与如何跳出闭包壁障" class="headerlink" title="由useState闭包引发的思考与如何跳出闭包壁障"></a>由<code>useState</code>闭包引发的思考与如何跳出闭包壁障</h3><p>国际惯例，先扔一道烂大街的面试题：</p>
<blockquote>
<p>React 闭包陷阱如何用 useReducer 解决? </p>
<pre><code>              ---- 阿里云前端面试</code></pre>
</blockquote>
<p>直接上代码地址：<a href="https://imweb.io/topic/5cd845cadcd62f86299fcd76">https://imweb.io/topic/5cd845cadcd62f86299fcd76</a></p>
<p>问题原因请慢慢食用，解决方案如下：</p>
<ul>
<li><code>useState</code> 的实现原理就是利用了闭包。</li>
</ul>
<blockquote>
<p>官方原话是：useEffect、useMemo、useCallback都是自带闭包的。每一次组件的渲染，它们都会捕获当前组件函数上下文中的状态(state, props)，所以每一次这三种hooks的执行，反映的也都是当前的状态，你无法使用它们来捕获上一次的状态。</p>
</blockquote>
<ul>
<li>怎么解决呢？</li>
</ul>
<p>useReducer 的 dispatch 可以在全局中保持唯一不变的引用，所以用它更新一定能操作最新的值，其次是借助 setState 使用函数更新，更新当前闭包 作用域的旧值，还可以借助 useRef 在外围拿到最新值，因为对象引用不变，所以也能拿到最新值，其次是添加依赖项。</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Kapture_2021_03_17_1.gif"></p>
<p><img src="https://tva1.sinaimg.cn/large/006tKfTcgy1fpn4emgz3ng308c04ohdt.gif"></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>以上就是今日份的知识总结，请君慢用～～～</p>
]]></content>
      <categories>
        <category>V8</category>
      </categories>
      <tags>
        <tag>原理</tag>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title>一道有意思的题目</title>
    <url>/article/a-meaning-page/</url>
    <content><![CDATA[<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * add = num =&gt; num+10</span></span><br><span class="line"><span class="comment"> * mult = num =&gt; num*2</span></span><br><span class="line"><span class="comment"> * 实现一个fn = compose(mult, add)</span></span><br><span class="line"><span class="comment"> * 使得fn(5) = 20</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="答案一"><a href="#答案一" class="headerlink" title="答案一"></a>答案一</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> add = <span class="function"><span class="params">num</span> =&gt;</span> num + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> mult = <span class="function"><span class="params">num</span> =&gt;</span> num*<span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> other = <span class="function"><span class="params">num</span> =&gt;</span> num *<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compose = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> _o = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>) || [];</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params">...rest</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!_o.length) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        <span class="keyword">if</span> (_o.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> inner.call(<span class="literal">null</span>, _o.splice(<span class="number">0</span>, <span class="number">1</span>)[<span class="number">0</span>].apply(<span class="literal">null</span>, rest))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> _o[<span class="number">0</span>].apply(<span class="literal">null</span>, rest);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function"><span class="params">num</span> =&gt;</span> num + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> mult = <span class="function"><span class="params">num</span> =&gt;</span> num*<span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> other = <span class="function"><span class="params">num</span> =&gt;</span> num *<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">...funcs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (funcs.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">arg</span> =&gt;</span> arg</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (funcs.length === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> funcs[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> funcs.reduceRight(<span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> a(b(...args)))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面是比较好的两种方法，其中第一种是利用了递归的思路，第二种利用了<code>reduce</code>函数，实现了函数组合，至于函数组合的执行顺序，借助<code>reduce</code>&amp;<code>reduceRight</code>来控制。</p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>结尾处，可以再次引什出函数柯里化：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 计算两数之和</span></span><br><span class="line"><span class="keyword">const</span> carry = <span class="function">(<span class="params">f, o</span>) =&gt;</span> &#123;</span><br><span class="line">    o = o || [];</span><br><span class="line">    <span class="keyword">const</span> _len = f.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> _o = [...o.slice(), ...Array.from(<span class="built_in">arguments</span>)];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(_o.length &lt; _len) &#123;</span><br><span class="line">            <span class="keyword">return</span> carry.call(<span class="built_in">this</span>, f, _o);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> f.apply(<span class="built_in">this</span>, _o);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">a,b,c</span>) =&gt;</span> a+b+c;</span><br><span class="line"><span class="keyword">const</span> newSum = carry(sum);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(newSum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>核心思维：借助闭包的活动对象，保留柯里参数，当柯里参数与被柯里函数的参数长度一致的时候执行。</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>知识</tag>
      </tags>
  </entry>
  <entry>
    <title>《重构》---- 读书笔记</title>
    <url>/article/refactor-code/</url>
    <content><![CDATA[<div><span><h1>读《重构》（第二版）有感</h1><h2><b>开篇一些好的语录</b></h2><ul><li><div>软件不死，重构不歇。----—余晟，《代码整洁之道：程序员的职业素养》译者</div></li><li><div>重构的最终目的始终是为了减少重构。</div></li><li><div>重构的先决条件是：测试先行。</div></li></ul><h3>第一章手札</h3><ul><li><div>重构手法</div></li></ul>
<img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Image.png"/>
  <div>我觉的最有感慨的还是对于多态取代条件表达式；</div><div>先来补一补，什么是<b>多态</b>？</div><div style="--en-callout:true;"><div>多态：一个事物的多种形态，例如动物中，小猫可以“喵喵喵”，小狗可以“汪汪汪”。</div></div><div style="--en-callout:true;"><div>为什么需要多态？</div><div>究其最终原因还是为了实现代码重用。</div></div>

  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name, price) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title">movieName</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title">moviePrice</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.price;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>恐怖电影</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HorrorMovie</span> <span class="keyword">extends</span> <span class="title">Movie</span></span>&#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title">movieName</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`恐怖片片名：<span class="subst">$&#123;<span class="built_in">super</span>.movieName&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComedyMovie</span> <span class="keyword">extends</span> <span class="title">Movie</span></span>&#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title">movieName</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`喜剧片片名：<span class="subst">$&#123;<span class="built_in">super</span>.movieName&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> horrorMovie = <span class="keyword">new</span> HorrorMovie(<span class="string">&#x27;惊悚乐园&#x27;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">const</span> comedyMovie = <span class="keyword">new</span> ComedyMovie(<span class="string">&#x27;小鬼当家&#x27;</span>, <span class="number">27</span>);</span><br><span class="line"><span class="built_in">console</span>.log(horrorMovie.movieName, comedyMovie.movieName)</span><br></pre></td></tr></table></figure>

<p>以上就是多态的展现手法之一，重写。</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210220213524.png?x-oss-process=image/quality,q_80"></p>
<p>当然。还可以通过方法重载去实现，不过<code>js</code>通常需要借助<code>arguements</code>去实现，利用<code>typescript</code>去强化实现则更佳。</p>
<p>个人观点：我觉的重构是什么？当读完第一章后，我觉的跟我之前理解的重构相差不大。</p>
<p>我们在每一次迭代中，尽量不去动那些运转正常的代码，当迭代或者需求变更时，那些“不该动”的代码，不得不动的时候，这个时候就需要警惕，我们需要重构了。</p>
<p>然而，重构需要遵循以下原则：</p>
<ul>
<li>不破坏以往的需求点</li>
<li>重构之前有完整的测试用例支撑现有功能点正常运行，保证我们写的重构代码是“可以被信任的”，可以用于“生产环境的”。</li>
<li>重构的目的是更好的维护与添加现有功能，而不是仅仅是当前迭代的重构，重构应该本着不需要再次重构的方向去靠拢。</li>
</ul>
<h2 id="第二章手札"><a href="#第二章手札" class="headerlink" title="第二章手札"></a>第二章手札</h2><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-02-22_20-18-12.png?x-oss-process=image/quality,q_80"></p>
<p>带着下面的疑问，我们继续探索书籍的第二章：</p>
<ul>
<li>什么时候应该重构，什么时候不应该重构？</li>
<li>重构势必会增加工作量，我们应该如何应对？</li>
<li>好的代码需要被重构吗？</li>
</ul>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-02-22_20-23-00.png?x-oss-process=image/quality,q_80"></p>
<p>好的设计方法：</p>
<ul>
<li>简单设计</li>
<li>增量式设计 </li>
<li>YAGNI[mf-yagni] ——“你不会需要它”（you arenʼt going to need it）的缩写</li>
</ul>
<p><em>重构与性能</em></p>
<blockquote>
<p>克莱斯勒综合薪资系统的支付过程太慢了。虽然我们的开发还没结束，这个问题却已经开始困扰<br>我们，因为它已经拖累了测试速度。</p>
<p>Kent Beck、Martin Fowler和我决定解决这个问题。等待大伙儿会合的时间里，凭着对这个系统的<br>全盘了解，我开始推测：到底是什么让系统变慢了？我想到数种可能，然后和伙伴们谈了几种可能的<br>修改方案。最后，我们就“如何让这个系统运行更快”，提出了一些真正的好点子。<br>然后，我们拿Kent的工具度量了系统性能。我一开始所想的可能性竟然全都不是问题肇因。我们<br>发现：系统把一半时间用来创建“日期”实例（instance）。更有趣的是，所有这些实例都有相同的几个<br>值。</p>
<p>于是我们观察日期对象的创建逻辑，发现有机会将它优化。这些日期对象在创建时都经过了一个<br>字符串转换过程，然而这里并没有任何外部数据输入。之所以使用字符串转换方式，完全只是因为代<br>码写起来简单。好，也许我们可以优化它。</p>
<p>然后，我们观察这些日期对象是如何被使用的。我们发现，很多日期对象都被用来产生“日期区<br>间”实例——由一个起始日期和一个结束日期组成的对象。仔细追踪下去，我们发现绝大多数日期区间<br>是空的！</p>
<p>处理日期区间时我们遵循这样一个规则：如果结束日期在起始日期之前，这个日期区间就该是空<br>的。这是一条很好的规则，完全符合这个类的需要。采用此规则后不久，我们意识到，创建一个“起始<br>日期在结束日期之后”的日期区间，仍然不算是清晰的代码，于是我们把这个行为提炼成一个工厂函<br>数，由它专门创建“空的日期区间”。</p>
<p>我们做了上述修改，使代码更加清晰，也意外得到了一个惊喜：可以创建一个固定不变的“空日期<br>区间”对象，并让上述调整后的工厂函数始终返回该对象，而不再每次都创建新对象。这一修改把系统<br>速度提升了几乎一倍，足以让测试速度达到可接受的程度。这只花了我们大约五分钟。<br>我和团队成员（Kent和Martin谢绝参加）认真推测过：我们了若指掌的这个程序中可能有什么错<br>误？我们甚至凭空做了些改进设计，却没有先对系统的真实情况进行度量。</p>
<p>我们完全错了。除了一场很有趣的交谈，我们什么好事都没做。</p>
<p>教训是：哪怕你完全了解系统，也请实际度量它的性能，不要臆测。臆测会让你学到一些东西，<br>但十有八九你是错的。</p>
<pre><code>                                       ——Ron Jeffries</code></pre>
</blockquote>
<p>上面的故事，其实也从反面思维告诉了我们一个道理，<em>写好每一行代码</em>是要义，还记得以前看过一句话<em>一个优秀的程序员并不是满天飞的架构，而是他写的每一行代码</em>。</p>
<p>看完了一整章的内容，有必要回答刚开始的三个问题：</p>
<ul>
<li>什么时候应该重构，什么时候不应该重构？<ul>
<li>当一大堆“丑陋”的代码工作正常，但是不影响你正常开发下，我们并不需要重构它，因为可能会显式的增加你的工作量。那么，什么时候应该重构呢？当你的需求要求你不得不改动<br>原有的“丑陋的代码”的时候，这个时候你就需要考虑重构了。</li>
</ul>
</li>
<li>重构势必会增加工作量，我们应该如何应对？<ul>
<li>提前做好预算是必须的，特别是时间预算，务必准备好你的“健全”的测试用例。</li>
</ul>
</li>
<li>好的代码需要被重构吗？<ul>
<li>答案是很显著的，好的代码的也需要被重构，随着每次迭代的进行，好的代码终将会有“不好”的那一面，始终记得我们一开始说过的“软件不死，重构不歇”。</li>
</ul>
</li>
</ul>
<h2 id="第三章-手札"><a href="#第三章-手札" class="headerlink" title="第三章 手札"></a>第三章 手札</h2><p><strong>无论是重构还是设计代码，我们的起点始终是写好每一行代码。</strong></p>
<p>好的代码的基本素养：</p>
<ul>
<li>好的命名：函数声明（124）（用于给函数改名）、变<br>量改名（137）、字段改名（244）等，其实有经验的程序员都明白一个东西就是，好的命名是不需要加注释的。</li>
<li>避免重复代码：简洁代码的要义的“抽象”，抽象一切可复用逻辑；</li>
<li>过长函数的优化：短小精悍的函数，更容易阐释其意思。（这里的过长函数指的是函数体内容过长，而不是函数命名）；</li>
<li>过长参数列表的优化：对象序列化参数；</li>
<li>抽离全局变量，添加作用域，避免污染全局；</li>
<li>注释，一些注释是必须的，但是在写注释之前，请先考虑重构是否可以解决添加注释的必要；</li>
</ul>
<blockquote>
<p>当你感觉需要撰写注释时，请先尝试重构，试着让所有注释都变得多余。</p>
</blockquote>
<p>小结：其实这一章节的内容主要还是阐述了如何去写好每一行代码，如何约束程序员去书写健壮的代码；’</p>
<h2 id="第四章-手札"><a href="#第四章-手札" class="headerlink" title="第四章 手札"></a>第四章 手札</h2><p>这一章节，其实重点的笔墨应该在如何准备“健全”的测试用例上。</p>
<blockquote>
<p>编写未臻完善的测试并经常运行，好过对完美测试的无尽等待。</p>
</blockquote>
<blockquote>
<p>不要因为测试无法捕捉所有的bug就不写测试，因为测试的确可以捕<br>捉到大多数bug。</p>
</blockquote>
<blockquote>
<p>每当你收到bug报告，请先写一个单元测试来暴露这个bug。</p>
</blockquote>
<p>其实，我个人属于<code>敏捷开发爱好者</code>，也就是<code>TDD</code>驱动者，不过常常因为<code>工时</code>制约了<code>TDD</code>的路途，<br>因为<code>TDD</code>的要义是：<code>测试先行，由红变绿</code>；</p>
<p>至于应该进行什么测试<code>黑盒测试</code>或者<code>白盒测试</code>，取决于你的场景。</p>
<p>适当的补全一些<code>BDD</code>行为测试的用例，方便<code>产品</code>、<code>测试</code>或者其他人员，像读短文一样读你的测试用例，在读懂测试用例的前提下，理解既有需求。</p>
<p>其实我觉得白盒测试更加适用于<code>TDD</code>敏捷开发思维，适用于<code>单元测试</code>层面。而<code>黑盒测试</code>更加适用于<code>BDD</code>思维，以行为驱动测试，以行为阐释需求。</p>
<blockquote>
<p>End：关于解释“黑匣子”和“白匣子”，我觉得这里有一篇qs问答说的比较准确，也值得推敲。<a href="https://qastack.cn/software/27491/black-box-or-white-box-testing-which-do-you-do-first">https://qastack.cn/software/27491/black-box-or-white-box-testing-which-do-you-do-first</a></p>
</blockquote>
<p><a href="https://qastack.cn/software/27491/black-box-or-white-box-testing-which-do-you-do-first">web端qsstack传送门</a></p>
<h2 id="第五章-手札"><a href="#第五章-手札" class="headerlink" title="第五章 手札"></a>第五章 手札</h2><p>重构手法之<code>核心要义</code>：</p>
<ul>
<li>首先是名称（name）。要建造一个重构词汇表，名称是很重要的。</li>
<li>名称之后是一个简单的速写（sketch）。这部分可以帮助你更快找到你所需要<br>的重构手法。</li>
<li>动机（motivation）为你介绍“为什么需要做这个重构”和“什么情况下不该做这<br>个重构”。</li>
<li>做法（mechanics）简明扼要地一步一步介绍如何进行此重构。</li>
<li>范例（examples）以一个十分简单的例子说明此重构手法如何运作。</li>
</ul>
<p>貌似第五章仅仅是作者的介绍重构的<code>前戏</code>，欲听<code>后戏</code>如何，请见下章内容。</p>
<h2 id="第六章-重构名录"><a href="#第六章-重构名录" class="headerlink" title="第六章 重构名录"></a>第六章 重构名录</h2><blockquote>
<p>低层级代码重构的精髓—形成函数并给函数命名。</p>
</blockquote>
<h3 id="提炼函数法则"><a href="#提炼函数法则" class="headerlink" title="提炼函数法则"></a>提炼函数法则</h3><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-02_23-55-22.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-03_00-09-37.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>核心观点阐释了：应该将“意图与实现分开”，“函数不要过长”；</p>
<p>做法：</p>
<ul>
<li>创造一个新函数，根据这个函数的意图来对它命名（以它“做什么”来命名，而<br>不是以它“怎样做”命名）</li>
<li>将待提炼的代码从源函数复制到新建的目标函数中。</li>
<li>仔细检查提炼出的代码，看看其中是否引用了作用域限于源函数、在提炼出的<br>新函数中访问不到的变量。若是，以参数的形式将它们传递给新函数。</li>
<li>所有变量都处理完之后，编译。</li>
<li>在源函数中，将被提炼代码段替换为对目标函数的调用。</li>
<li>测试。</li>
<li>查看其他代码是否有与被提炼的代码段相同或相似之处。如果有，考虑使用以<br>函数调用取代内联代码（222）令其调用提炼出的新函数。</li>
</ul>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-03_00-30-57.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<h3 id="内联函数"><a href="#内联函数" class="headerlink" title="内联函数"></a>内联函数</h3><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-03_00-47-20.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-03_00-47-20.png?x-oss-process=image/quality,q_80" alt="ALT"></p>
<p>核心观点：属于函数内部的代码就尽量去内敛它。</p>
<p>做法：</p>
<ul>
<li>检查函数，确定它不具多态性。</li>
<li>找出这个函数的所有调用点。</li>
<li>将这个函数的所有调用点都替换为函数本体。</li>
<li>每次替换之后，执行测试。</li>
<li>删除该函数的定义。</li>
</ul>
<h3 id="提炼变量"><a href="#提炼变量" class="headerlink" title="提炼变量"></a>提炼变量</h3><p>提炼变量的法则其实很简单，就是将返回变量作为行内表达式，避免多声明一堆不必要的变量。</p>
<ul>
<li>检查确认变量赋值语句的右侧表达式没有副作用。</li>
<li>如果变量没有被声明为不可修改，先将其变为不可修改，并执行测试。<blockquote>
<p>这是为了确保该变量只被赋值一次。</p>
</blockquote>
</li>
<li>找到第一处使用该变量的地方，将其替换为直接使用赋值语句的右侧表达式。<br>测试。</li>
<li>重复前面两步，逐一替换其他所有使用该变量的地方。</li>
<li>删除该变量的声明点和赋值语句。</li>
<li>测试。</li>
</ul>
<p><code>摘录来自: 马丁·福勒(Martin Fowler). “重构：改善既有代码的设计（第2版）。” Apple Books. </code></p>
<h3 id="改变函数声明"><a href="#改变函数声明" class="headerlink" title="改变函数声明"></a>改变函数声明</h3><p>通常的手法就是给函数换一个名字，或者去除不必要的函数，以这个函数<code>做了</code>什么去描述，而不是<code>如何去做</code>命名。</p>
<h3 id="封装变量"><a href="#封装变量" class="headerlink" title="封装变量"></a>封装变量</h3><p>动机：<code>数据不可变性</code>；</p>
<p>做法：提供 <code>get</code> |  <code>set</code>方法给使用者使用。</p>
<h3 id="变量改名"><a href="#变量改名" class="headerlink" title="变量改名"></a>变量改名</h3><p>好的变量是代码阅读的基石；</p>
<h3 id="函数组合成类"><a href="#函数组合成类" class="headerlink" title="函数组合成类"></a>函数组合成类</h3><p>当一组函数形影不离的操作一段数据，那么就可以利用函数组合成类；</p>
<h3 id="代码拆分"><a href="#代码拆分" class="headerlink" title="代码拆分"></a>代码拆分</h3><p>将耦合代码拆分；</p>
<h2 id="第七章-封装"><a href="#第七章-封装" class="headerlink" title="第七章 封装"></a>第七章 封装</h2><p>封装是面向对象的编程思想，好的封装手法可以更好的杜绝一些不必要的失误，也是扩展性的阐释。</p>
]]></content>
      <categories>
        <category>读书笔记</category>
      </categories>
      <tags>
        <tag>《重构》</tag>
      </tags>
  </entry>
  <entry>
    <title>从防抖节流再次思考业务，怎么让用户体验更佳</title>
    <url>/article/debounce-throlle/</url>
    <content><![CDATA[<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-03-14_14-09-41.png"></p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>早些时候看到了防抖节流的一个新的实现，<a href="https://github.com/mqyqingfeng/Blog/issues/22">传送门</a>;</p>
<p>当看到第四部分的实现，源码如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第四版</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait, immediate</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> timeout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">            <span class="comment">// 如果已经执行过，不再执行</span></span><br><span class="line">            <span class="keyword">var</span> callNow = !timeout;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                timeout = <span class="literal">null</span>;</span><br><span class="line">            &#125;, wait)</span><br><span class="line">            <span class="keyword">if</span> (callNow) func.apply(context, args)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                func.apply(context, args)</span><br><span class="line">            &#125;, wait);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于这个<code>immediate</code>参数也是不明觉厉，思考了一番，那我们之前的用法岂不是稍微有一点问题的？<br>带着这个疑问，我再次打开了<code>IDE</code>，开始调试代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 连续触发 n 秒后执行</span></span><br><span class="line"><span class="comment">// 连续触发，但是只执行第一次触发的函数，之后在n秒后，再次执行函数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> debounce = <span class="function">(<span class="params">fn, delay, immediate = <span class="literal">false</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> timer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...rest</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(timer) &#123; <span class="built_in">clearTimeout</span>(timer) &#125;</span><br><span class="line">        <span class="comment">// 当开启立即模式，也就是先执行，后防抖，更加合理</span></span><br><span class="line">        <span class="keyword">if</span>(immediate) &#123;</span><br><span class="line">            <span class="keyword">const</span> nowDo = !timer;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">            &#125;, delay);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (nowDo) &#123;</span><br><span class="line">                fn.apply(<span class="built_in">this</span>, rest);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                fn.apply(<span class="built_in">this</span>, rest);</span><br><span class="line">            &#125;, delay);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 模式一</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> print = <span class="function">() =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">&quot;dayin&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deP = debounce(print, <span class="number">800</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;模式一&#x27;</span>)</span><br><span class="line">deP()</span><br><span class="line">deP()</span><br><span class="line">deP()</span><br><span class="line">deP()</span><br><span class="line">deP()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;模式二&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deP2 = debounce(print, <span class="number">800</span>,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">deP2()</span><br><span class="line">deP2()</span><br><span class="line">deP2()</span><br><span class="line">deP2()</span><br><span class="line">deP2()</span><br><span class="line">deP2()</span><br></pre></td></tr></table></figure>

<p>分别从两种模式出发，看到了这个参数的作用，这个时候真实眼前一亮，这不是更符合用户体验规则。</p>
<p><strong>从开发人员过度到用户，我们始终追求的是用户体验极致的效果，因为，用户希望一点击之后就会有效果，而不是点击后若干秒之后再去响应</strong></p>
<p><code>demo</code>如下:</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Kapture%202021-03-14%20at%2016.09.46.gif"></p>
<p>应该可以很清晰看到：模式二先执行，并且只打印了一次，而模式一后执行，也只打印了一次。</p>
<h2 id="真实线上体验"><a href="#真实线上体验" class="headerlink" title="真实线上体验"></a>真实线上体验</h2><p>以下是我重构且维护过的一块业务逻辑，其中登陆为了防止用户恶意触发登陆接口，所以加了防抖控制。</p>
<p>略微有点缺陷就是，防抖时机可能不太合适，后续可以考虑优化掉，虽然影响不大，但是程序猿就是要追求极致。</p>
<h2 id="番外篇"><a href="#番外篇" class="headerlink" title="番外篇"></a>番外篇</h2><p>今天是<code>白色情人节</code>，这么晴朗的日子里，小王当然是在<code>KFC</code>陪我的代码女朋友度过了。</p>
<p>生活中有许多我们可以坚持的事，无论好与坏，都是值得的。</p>
<p>有若干次都有一种感觉，仿佛回到了高三那个时候，再次寒窗苦读，这或许就是学习负债吧，学校不努力，毕业徒伤悲，再次给补回去。</p>
<p>为了什么呢？让自己变<code>聪明</code>点吧，通过不断思考，希望勤能补拙。</p>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>防抖</tag>
        <tag>节流</tag>
      </tags>
  </entry>
  <entry>
    <title>单元测试--终章</title>
    <url>/article/the-end-unit-test/</url>
    <content><![CDATA[<h2 id="被测组件划分"><a href="#被测组件划分" class="headerlink" title="被测组件划分"></a>被测组件划分</h2><blockquote>
<p>展示组件：通常定义为只用于展示的组件，例如 Icon、Badge……，遵循 Props –&gt; UI；</p>
</blockquote>
<blockquote>
<p>业务组件：为业务服务，通常集成了独立的功能，可以单独作为模块组件，也可自定义配置；</p>
</blockquote>
<blockquote>
<p>功能组件：通常是支撑业务组件的基类组件，提供一些功能性的支撑，像分页组件的跳转；</p>
</blockquote>
<h2 id="测试场景"><a href="#测试场景" class="headerlink" title="测试场景"></a>测试场景</h2><h3 id="网络请求模拟-发起真实请求"><a href="#网络请求模拟-发起真实请求" class="headerlink" title="网络请求模拟/发起真实请求"></a>网络请求模拟/发起真实请求</h3><ol>
<li>可以模拟封装网络请求的方法，借助<code>jest.mock</code>模拟引用文件，返回需要结果的<code>Promise</code>。</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc <span class="variable">example</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> &#123; mount &#125; <span class="keyword">from</span> <span class="string">&#x27;enzyme&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;Componets/app.jsx&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> postData <span class="keyword">from</span> <span class="string">&#x27;../api&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// we can mock it like this as follow</span></span><br><span class="line">jest.mock(<span class="string">&#x27;../api&#x27;</span>, <span class="function">() =&gt;</span> jest.fn(<span class="function">() =&gt;</span> <span class="built_in">Promise</span>.then(&#123;<span class="attr">data</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;eric&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;&#125;)));</span><br><span class="line"></span><br><span class="line">describe(<span class="string">&#x27;An Test Example&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    it(<span class="string">&#x27;Should called if mount&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> wrapper = mount(<span class="xml"><span class="tag">&lt;<span class="name">App</span>/&gt;</span></span>);</span><br><span class="line">        expect(postData).toBeCalledTimes(<span class="number">1</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>直接模拟真实请求，借助<code>enzyme</code>断言回调的<code>done</code>函数或者<code>async</code>。</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc  </span>done example</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date </span>2021-01-13  19:56:58</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author </span>eric wang &lt;jadeface.scholar<span class="doctag">@gmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@copyright </span>2021 Eric</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> &#123; mount &#125; <span class="keyword">from</span> <span class="string">&#x27;enzyme&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> fetchData <span class="keyword">from</span> <span class="string">&#x27;../api&#x27;</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&#x27;Test Fetch Data&#x27;</span>, <span class="function">(<span class="params">done</span>) =&gt;</span> &#123;</span><br><span class="line">    fetchData()</span><br><span class="line">        .then(<span class="function"><span class="params">r</span> =&gt;</span> r)</span><br><span class="line">        .finally(<span class="function">() =&gt;</span> done())</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>async example</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date </span>2021-01-13  20:02:29</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author </span>eric wang &lt;jadeface.scholar<span class="doctag">@gmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@copyright </span>2021 Eric</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">test(<span class="string">&#x27;Test Fetch Data&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> fetchData();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.error(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>根目录新建<code>__mocks__</code>文件夹，内部新建<code>request.js</code>，模拟用户请求。</li>
</ol>
<p>测试异步请求其实还有其余的两种方案可以选择，像请求成功与请求失败：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jest.mock(<span class="string">&#x27;../request&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> user <span class="keyword">from</span> <span class="string">&#x27;../user&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//断言必须返回一个primose</span></span><br><span class="line">it(<span class="string">&#x27;works with promises&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  expect.assertions(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> user.getUserName(<span class="number">4</span>).then(<span class="function"><span class="params">data</span> =&gt;</span> expect(data).toEqual(<span class="string">&#x27;Mark&#x27;</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">it(<span class="string">&#x27;works with resolves&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  expect.assertions(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> expect(user.getUserName(<span class="number">5</span>)).resolves.toEqual(<span class="string">&#x27;Paul&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="jest测试环境之node-amp-browser切换"><a href="#jest测试环境之node-amp-browser切换" class="headerlink" title="jest测试环境之node&amp;browser切换"></a><code>jest</code>测试环境之<code>node</code>&amp;<code>browser</code>切换</h3><p><code>jest</code>默认<code>browser</code>环境，如果需要切换<code>node</code>环境，在顶部追加一段注释就可以了。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@jest</span>-environment jsdom</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@jest</span>-environment node</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p>也可以自己内置沙盒去做为<code>jest</code>预置环境。<br><a href="https://jestjs.io/docs/en/configuration">文档指引</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@jest</span>-environment ./my-custom-environment</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="定时器模拟"><a href="#定时器模拟" class="headerlink" title="定时器模拟"></a>定时器模拟</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jest.useFakeTimers();</span><br><span class="line"></span><br><span class="line">test(<span class="string">&#x27;Test one timer unit case&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    jest.runAllTimers();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="未实现模块模拟"><a href="#未实现模块模拟" class="headerlink" title="未实现模块模拟"></a>未实现模块模拟</h3><p>诸如<code>window</code>上的某些模块并未实现，像<code>location</code>模块，我们可以借助<code>node</code>环境的<code>global</code>模块下去模拟一个纯净的模块。</p>
<p>像包中的<code>peerDependences</code>我们可以借助，虚拟模块或者真实自定义模块模拟。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> user = jest.createMockFromModule(<span class="string">&#x27;../user&#x27;</span>);</span><br><span class="line"></span><br><span class="line">user.getAuthenticated = <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">  age: <span class="number">622</span>,</span><br><span class="line">  name: <span class="string">&#x27;Mock name&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> user;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例如我们也可以在 TDD 模式下去模拟写未完成的虚拟模块，纯虚拟的</span></span><br><span class="line">jest.mock(</span><br><span class="line">    <span class="string">&#x27;../moduleName&#x27;</span>,</span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * Custom implementation of a module that doesn&#x27;t exist in JS,</span></span><br><span class="line"><span class="comment">         * like a generated module or a native module in react-native.</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;<span class="attr">virtual</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>在观摩<code>antd</code>的测试用例的时候，有看到过这样的代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// https://github.com/ant-design/ant-design/issues/20948</span></span><br><span class="line">it(<span class="string">&#x27;not repeat render when Form.Item is not a real Field&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> shouldNotRender = jest.fn();</span><br><span class="line">  <span class="keyword">const</span> StaticInput = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    shouldNotRender();</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Input</span> /&gt;</span></span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> shouldRender = jest.fn();</span><br><span class="line">  <span class="keyword">const</span> DynamicInput = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    shouldRender();</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Input</span> /&gt;</span></span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> formRef = React.createRef();</span><br><span class="line"></span><br><span class="line">  mount(</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Form ref=&#123;formRef&#125;&gt;</span><br><span class="line">        &lt;Form.Item&gt;</span><br><span class="line">          &lt;StaticInput /&gt;</span><br><span class="line">        &lt;/Form.Item&gt;</span><br><span class="line">        &lt;Form.Item name=<span class="string">&quot;light&quot;</span>&gt;</span><br><span class="line">          &lt;DynamicInput /&gt;</span><br><span class="line">        &lt;/Form.Item&gt;</span><br><span class="line">      &lt;/Form&gt;</span><br><span class="line">    &lt;/div&gt;,</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  expect(shouldNotRender).toHaveBeenCalledTimes(<span class="number">1</span>);</span><br><span class="line">  expect(shouldRender).toHaveBeenCalledTimes(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  formRef.current.setFieldsValue(&#123; <span class="attr">light</span>: <span class="string">&#x27;bamboo&#x27;</span> &#125;);</span><br><span class="line">  <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve();</span><br><span class="line">  expect(shouldNotRender).toHaveBeenCalledTimes(<span class="number">1</span>);</span><br><span class="line">  expect(shouldRender).toHaveBeenCalledTimes(<span class="number">2</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>单元测试</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>每日一记之21413</title>
    <url>/article/algorithm-350/</url>
    <content><![CDATA[<h2 id="算法进阶"><a href="#算法进阶" class="headerlink" title="算法进阶"></a>算法进阶</h2><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">第350题：两个数组的交集</span><br><span class="line">给定两个数组，编写一个函数来计算它们的交集。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例一</span></span><br><span class="line"></span><br><span class="line">输入: nums1 = [1,2,2,1], nums2 = [2,2]</span><br><span class="line"></span><br><span class="line">输出: [2,2]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二</span></span><br><span class="line"></span><br><span class="line">输入: nums1 = [4,9,5], nums2 = [9,4,9,8,4]</span><br><span class="line"></span><br><span class="line">输出: [4,9]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>废话不多说，直接上最优解！</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nums1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>, <span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> nums2 = [<span class="number">2</span>,<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> queryOmit = <span class="function">(<span class="params">nums1, nums2</span>) =&gt;</span> &#123;</span><br><span class="line">    nums1 = nums1.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a-b)</span><br><span class="line">    nums2 = nums2.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a-b)</span><br><span class="line">    <span class="keyword">let</span> point1 = <span class="number">0</span>, point2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums1.length &gt; nums2.length ? nums1.length : nums2.length; i ++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums1[point1] === nums2[point2]) &#123;</span><br><span class="line">            res.push(nums1[point1]);</span><br><span class="line">            point1++;</span><br><span class="line">            point2++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums1[point1] &gt; nums2[point2]) &#123;</span><br><span class="line">                point2++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                point1++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (point1 === nums1.length || point2 === nums2.length) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(queryOmit(nums1, nums2));</span><br></pre></td></tr></table></figure>

<h2 id="正则玩法"><a href="#正则玩法" class="headerlink" title="正则玩法"></a>正则玩法</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions">权威参考</a></p>
<h3 id="前瞻后瞩"><a href="#前瞻后瞩" class="headerlink" title="前瞻后瞩"></a>前瞻后瞩</h3><p><code>?=</code>前瞻，就是匹配<code>xxx</code>之前的串，<code>?&lt;=</code>后瞩，就是匹配<code>xxx</code>之后的串。</p>
<p><code>example，这里只展示前瞻，后瞩暂不做演示</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">给定字符串<span class="string">&#x27;你好，李焕英！&#x27;</span>，匹配<span class="string">&#x27;！&#x27;</span>之前的字符串；</span><br></pre></td></tr></table></figure>
<p><code>we can do as follow!</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;你好，李焕英！&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.match(<span class="regexp">/.*(?=！)/</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// <span class="built_in">printf</span> </span><br><span class="line"></span><br><span class="line">[ <span class="string">&#x27;你好，李焕英&#x27;</span>, index: 0, input: <span class="string">&#x27;你好，李焕英！&#x27;</span>, groups: undefined ]</span><br></pre></td></tr></table></figure>

<h3 id="分组匹配"><a href="#分组匹配" class="headerlink" title="分组匹配"></a>分组匹配</h3><p>以一道题目入门分组匹配（题目来源于：热心网友 <code>单女士</code>）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">题目：[1,2,2,2,3,1,4] 变成 1，222，3，1，4</span><br></pre></td></tr></table></figure>

<p>乍一看，肯定有小可爱想上去就是一梭子遍历了吧！</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 一行代码搞定</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.join(<span class="string">&#x27;&#x27;</span>).match(<span class="regexp">/(\d)\1*/g</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// <span class="built_in">printf</span> </span><br><span class="line"></span><br><span class="line">[ <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;222&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;4&#x27;</span> ]</span><br></pre></td></tr></table></figure>

<p><code>perfect</code>，完美解决！</p>
<p>另外一种解法，来源于<code>圈圈</code>的朋友；</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sameItem</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!arr) <span class="keyword">return</span> arr</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line">  <span class="keyword">let</span> j = <span class="number">1</span></span><br><span class="line">  <span class="keyword">let</span> item = arr[i]</span><br><span class="line">  <span class="keyword">const</span> res = []</span><br><span class="line">  <span class="keyword">while</span>(j &lt; arr.length) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[j] === arr[i]) &#123;</span><br><span class="line">      item = item + arr[i] * <span class="built_in">Math</span>.pow(<span class="number">10</span>, (j - i))</span><br><span class="line">      j++</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.push(item)</span><br><span class="line">      i = j</span><br><span class="line">      item = arr[i]</span><br><span class="line">      j ++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  res.push(item)</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>时间复杂度<code>T(n)</code>，空间复杂度<code>O(2n + 1)</code></p>
<h3 id="零宽断言"><a href="#零宽断言" class="headerlink" title="零宽断言"></a>零宽断言</h3><p><a href="https://www.cnblogs.com/onepixel/articles/7717789.html">权威参考</a></p>
<p>一听这么高大上的名字，肯定被吓到了吧！其实<code>零宽断言</code>就是所谓的<code>前瞻</code>.</p>
<p>以一道题目开始（来源：<code>单女士</code>）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// const arr = [1,2,3, 1,2,3,4,6, 4, 5, 6,7,8]</span><br><span class="line"></span><br><span class="line">// 输出： [<span class="string">&quot;1-3&quot;</span>, <span class="string">&quot;1-4&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;4-8&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>看到这个题目，我的第一直觉是，零宽断言可以实现！</p>
<p>直接上代码:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;1235679&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.match(<span class="regexp">/(0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9))*\d/g</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// <span class="built_in">printf</span> </span><br><span class="line"></span><br><span class="line">[ <span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;567&#x27;</span>, <span class="string">&#x27;9&#x27;</span> ]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>简明扼要的叙述下上述正则：</p>
<ul>
<li><code>?=</code>就不说了吧，上文有介绍</li>
<li><code>(0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9))*</code>，匹配<code>0-9</code>的任意连续数字，并以此为一个组，匹配<code>0</code>次或多次，其实换<code>+</code>也<code>ok</code>。</li>
<li><code>\d</code>的效果，就是约束匹配组后面的东西，说到这里你可能不太理解，继续往下看！</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 随便加了任意字母，结尾匹配以 .</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;123sssss5679zsss&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.match(<span class="regexp">/(0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9))*./g</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  <span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;s&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;s&#x27;</span>,   <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;s&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;567&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;z&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;s&#x27;</span>,   <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;s&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后再对比加了数字约束的消效果，其实就是每次匹配到子串之后的串的格式约束。</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/fenbaobaos.webp?x-oss-process=image/quality,q_80"></p>
<p>最后：</p>
<p>清风明月，几分轻狂几分傲，我也想拥有自己的一人之下！</p>
<p>莫念语，清，夙命！</p>
<p>狂。</p>
]]></content>
      <categories>
        <category>日常提升</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>正则</tag>
      </tags>
  </entry>
  <entry>
    <title>每日一记之21414</title>
    <url>/article/algorithm-314/</url>
    <content><![CDATA[<h2 id="简要回顾"><a href="#简要回顾" class="headerlink" title="简要回顾"></a>简要回顾</h2><p>昨天的<code>leetcode 350</code>，市面上的解法各有千秋，但是时空复杂度以及内存消耗极高。</p>
<p>下面简单再介绍下，我琢磨出来的思路：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/Snipaste_2021-04-15_00-02-34.png?x-oss-process=image/quality,q_80"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [1,2,2,1]</span></span><br><span class="line"><span class="comment"> * [1,2]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> intersect = <span class="function">(<span class="params">nums1, nums2</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> mark = &#123;&#125;;</span><br><span class="line">    nums1.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (mark[item]) &#123;</span><br><span class="line">            mark[item] +=<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mark[item] = <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> nums2.filter(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (mark[item]) &#123;</span><br><span class="line">            mark[item]--</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(intersect([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>]))</span><br></pre></td></tr></table></figure>

<p>上面的代码应该比较直观！</p>
<h3 id="新的题目"><a href="#新的题目" class="headerlink" title="新的题目"></a>新的题目</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">编写一个函数来查找字符串数组中的最长公共前缀。</span><br><span class="line"></span><br><span class="line">如果不存在公共前缀，返回空字符串 <span class="string">&quot;&quot;</span>。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 1</span></span><br><span class="line">输入：strs = [<span class="string">&quot;flower&quot;</span>,<span class="string">&quot;flow&quot;</span>,<span class="string">&quot;flight&quot;</span>]</span><br><span class="line">输出：<span class="string">&quot;fl&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 2</span></span><br><span class="line">输入：strs = [<span class="string">&quot;dog&quot;</span>,<span class="string">&quot;racecar&quot;</span>,<span class="string">&quot;car&quot;</span>]</span><br><span class="line">输出：<span class="string">&quot;&quot;</span></span><br><span class="line">解释：输入不存在公共前缀。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> longestCommonPrefix = <span class="function"><span class="keyword">function</span>(<span class="params">strs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!strs.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (strs.length === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> strs[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    strs.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.length - b.length);</span><br><span class="line">    <span class="keyword">let</span> minStr = strs.shift();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; strs.length; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> point = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (!minStr) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (; point &lt;= minStr.length; point++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(minStr.charAt(point) !== strs[i].charAt(point)) &#123; <span class="keyword">break</span>;&#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        minStr = minStr.substring(<span class="number">0</span>,point);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> minStr;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>谈不上最优解，但是处理边界和大体量数据处理上应该是比较具有优势的。</p>
]]></content>
      <categories>
        <category>日常提升</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>正则</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows安装WSL</title>
    <url>/article/install-wsl/</url>
    <content><![CDATA[<h1 id="Windows-安装-WSL"><a href="#Windows-安装-WSL" class="headerlink" title="Windows 安装 WSL"></a><code>Windows</code> 安装 <code>WSL</code></h1><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/2021-1-31-2.png" alt="alt"></p>
<h2 id="详细教程"><a href="#详细教程" class="headerlink" title="详细教程"></a>详细教程</h2><p><a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">https://docs.microsoft.com/en-us/windows/wsl/install-win10</a></p>
<h2 id="Install-oh-my-zsh"><a href="#Install-oh-my-zsh" class="headerlink" title="Install oh-my-zsh"></a><code>Install</code> <code>oh-my-zsh</code></h2><h3 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># update install source</span></span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get upgrade</span><br></pre></td></tr></table></figure>

<h3 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install zsh</span></span><br><span class="line">$ sudo apt-get install zsh</span><br></pre></td></tr></table></figure>

<h3 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># set default shell</span></span><br><span class="line">$ chsh -s $(<span class="built_in">which</span> zsh)</span><br></pre></td></tr></table></figure>

<h3 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install oh-my-zsh</span></span><br><span class="line">$ sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ sh -c <span class="string">&quot;<span class="subst">$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Step-5（安装-nvm）"><a href="#Step-5（安装-nvm）" class="headerlink" title="Step 5（安装 nvm）"></a>Step 5（安装 <code>nvm</code>）</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install &amp; update</span></span><br><span class="line">$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># setUp Path</span></span><br><span class="line">$ vi ~/.zshrc</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/.nvm&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span>  <span class="comment"># This loads nvm</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span>  <span class="comment"># This loads nvm bash_completion</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>

<h3 id="Step-6（重要提示）"><a href="#Step-6（重要提示）" class="headerlink" title="Step 6（重要提示）"></a>Step 6（重要提示）</h3><p>完成了上述步骤，需要做最后一步，屏蔽<code>windows</code>的环境变量，使<code>wsl</code>与<code>windows</code>独立环境。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vi ~/.zshrc</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>

<h2 id="采坑指南"><a href="#采坑指南" class="headerlink" title="采坑指南"></a>采坑指南</h2><ol>
<li>当你的 <code>WSL</code>抽风时，例如报错<code>错误0x8000000d</code>;</li>
</ol>
<p>解决办法：</p>
<p><code>可以打开管理员（PowerShell），运行Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</code></p>
<p><em>如果没用！请重装系统，或者是重置 <code>windows</code></em></p>
<ol start="2">
<li>当<code>curl</code>的时候报如下错误：</li>
</ol>
<p>1&gt; <code>SSL certificate problem: unable to get local issuer certificate</code></p>
<p>2&gt; <code>curl:Failed to connect to raw.githubusercontent.com port 443: Connection refused </code></p>
<p>3&gt; <code>404 not found</code></p>
<p>我们可以选用 <code>ProxyChains</code> 这个软件，能够使特定的命令走<code>SOCKS5</code></p>
<ul>
<li>Step 1</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt install proxychains</span><br></pre></td></tr></table></figure>

<ul>
<li>Step 2</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo vim /etc/proxychains.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">###按i键进入vim的写入模式####</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###将最后一行改成socks5 你的代理服务器IP 端口号###</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># socks5 127.0.0.1 1080</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###按下Esc后键入“:x”保存并退出vim编辑器###</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><code>github</code> clone 仓库很慢？</li>
</ol>
<p>添加如下 <code>host</code> 到 <code>/etc/hosts</code>;</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 199.232.68.133  raw.githubusercontent.com</span></span><br><span class="line"><span class="comment"># 199.232.68.133  user-images.githubusercontent.com</span></span><br><span class="line"><span class="comment"># 199.232.68.133  avatars2.githubusercontent.com</span></span><br><span class="line"><span class="comment"># 199.232.68.133  avatars1.githubusercontent.com</span></span><br><span class="line"><span class="comment"># 151.101.108.133 raw.github.com</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo vi /etc/hosts</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">source</span> /etc/hosts</span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/2021-1-31-1.png" alt="alt"></p>
]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>WSL</tag>
      </tags>
  </entry>
  <entry>
    <title>记一次 mac m1 上安装 canvas 的踩坑记录</title>
    <url>/article/mac-m1-i-canvas/</url>
    <content><![CDATA[<p>最近接触的一个项目是与<code>canvas</code>比较相关的，然后在启动项目的时候就<code>GG</code>了，困难重重，浪费了还是蛮多时间的。</p>
<p>先来看下错误的罪恶源头：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/canvas_err_for_mac_m1.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>我的第一反应是让同事也装一遍：</p>
<p>同事<code>A</code>: <code>Node</code> 版本 <code>v14.0.0</code>  安装会报错，但是不阻塞项目启动。</p>
<p>我的第二反应是：</p>
<p>查看自己的<code>Node</code>版本(<code>v14.6.0</code>)，这可是当前官网的<code>stable</code>版本。<br>然后紧接着心中一声<code>what fuck???!!!</code></p>
<p>随后就是一顿<code>google</code>。</p>
<p>最终。</p>
<hr>
<p><strong>2000 years later</strong></p>
<p><code>m1 的GPU、CPU</code>不支持，那只能手动编译了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># node-canvas github 首页的介绍</span></span><br><span class="line"></span><br><span class="line">If you don<span class="string">&#x27;t have a supported OS or processor architecture, or you use --build-from-source, the module will be compiled on your system. This requires several dependencies, including Cairo and Pango.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">如果您没有受支持的OS或处理器体系结构，或者使用--build-from-source，则该模块将在您的系统上编译。这需要几个依赖项，包括Cairo和Pango</span></span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/npm_i_canvas_error_resolve.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p><code>Perfect</code>，完美解决～～～</p>
<hr>
<p>然而，又有另外一个问题：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/npm_i_canvas_error_info.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>虽然是警告，但是值得关注一波，<code>why?</code></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/npm_i_node_gyp.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>好家伙，原来是被废弃了，推荐我们用另外一个人的：<code>@mapbox/node-pre-gyp:</code></p>
<p>然后紧接着奔着<code>canvas</code>仓库去了。</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/canvas_commit_update_info.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>过然在<code>master</code>分支是做了变更的，但是：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/canvas_2.7.0_info.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>心里又是一句：<code>oh my god! what fuck!!??</code></p>
<p>然后，<strong>但行好事，莫问前程</strong>，我提了<code>issue</code>给仓库：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/canvas_issue.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p><a href="https://github.com/Automattic/node-canvas/issues/1798">The source code of the 2.7.0 npm package does not contain the changes in the repository. #1798</a></p>
<hr>
<p>But，仓库管理员在30分钟后给我关掉了，给出的回复是：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">You are comparing with master and not v2.7.0, there has simply been some commits to master since we cut the 2.7.0 release...</span><br><span class="line"></span><br><span class="line">https://github.com/Automattic/node-canvas/blob/v2.7.0/package.json</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我直呼好家伙，最新版本的<code>release</code>版本不跟<code>master</code>最新代码保持同步？？</p>
<p>老外果然懒啊！</p>
<p>最终就放弃吐槽了，我的问题也解决了。</p>
<hr>
<p>最后，我叫<code>Eric</code>,我跟我的同学在<code>github</code>建立一个<code>Awesome</code>的仓库，有兴趣可以一起参与呀～～～</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/awesome_info.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>仓库地址：<a href="https://github.com/bigbigDreamer/awesome">https://github.com/bigbigDreamer/awesome</a></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>经验</tag>
      </tags>
  </entry>
  <entry>
    <title>涅槃重生，顺势而为</title>
    <url>/article/my-life-and-me/</url>
    <content><![CDATA[<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/wangye.png?x-oss-process=image/quality,q_80" alt="akt"></p>
<p>好久没发过文章了，我也不知道最近怎么了，有些些许消沉与懒散。</p>
<p>我相信会好起来的，一定会的，明天就会！</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>生活</tag>
      </tags>
  </entry>
  <entry>
    <title>从错误监控方案出发，灵性阅读 Sentry 源码</title>
    <url>/article/error-and-sentry/</url>
    <content><![CDATA[<p>单从 <code>React</code> 应用而言，我们的错误大致分为以下几类：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/react_error_types.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>但是以上的错误类型并不完全，接下来将一一作以阐述：</p>
]]></content>
      <categories>
        <category>技术</category>
        <category>经验</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>从页面死循环“命案”，探究React边界错误</title>
    <url>/article/react-error-boundry/</url>
    <content><![CDATA[<h2 id="事故现场前夕"><a href="#事故现场前夕" class="headerlink" title="事故现场前夕"></a>事故现场前夕</h2><p>不妨先来看看<code>子组件</code>发生异常后，没有捕获错误的情况：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 第一步：程序正常运行，自组件计时器开始运行</span></span><br><span class="line"><span class="comment"># 第二步：计时器开始计数到3，子组件抛出异常</span></span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/react_error1.gif" alt="alt"></p>
<p>可以比较清晰的看到，页面是挂掉了，但是对于正常情况下，这样的情况是很不友好的，当页面组件足够多的时候，可能只是某一块内容挂掉而导致把全局全部挂掉，不是特别理想。</p>
<h2 id="事故现场"><a href="#事故现场" class="headerlink" title="事故现场"></a>事故现场</h2><p>为什么会死循环？什么导致的死循环？怎么避免呢？</p>
<hr>
<p>划重点：<strong>当父组件使用了<code>getDerivedStateFromError</code>去处理捕获异常的时候，这时候没有后备渲染，就会导致异常无效，进而陷入死循环，更新&lt;===&gt;报错的往复</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ErrorBoundary</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> 	 <span class="comment">// 稍加打印，但不启动后备渲染</span></span><br><span class="line">    <span class="keyword">static</span> getDerivedStateFromError(err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.props.children;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/react_error2.gif" alt="alt"></p>
<h2 id="事故溯源"><a href="#事故溯源" class="headerlink" title="事故溯源"></a>事故溯源</h2><ul>
<li><p>什么是错误边界？</p>
<blockquote>
<p>部分 UI 的 JavaScript 错误不应该导致整个应用崩溃，为了解决这个问题，React 16 引入了一个新的概念 —— 错误边界。</p>
<p>错误边界是一种 React 组件，这种组件<strong>可以捕获并打印发生在其子组件树任何位置的 JavaScript 错误，并且，它会渲染出备用 UI</strong>，而不是渲染那些崩溃了的子组件树。错误边界在渲染期间、生命周期方法和整个组件树的构造函数中捕获错误。</p>
</blockquote>
</li>
</ul>
<p><a href="https://react.docschina.org/docs/error-boundaries.html">React 官网传送门</a></p>
<ul>
<li><p>异常分类</p>
<p>先介绍下<code>React 16之后的两个核心调度阶段</code>：<code>render</code>&amp;<code>commit</code>阶段：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/react-life-cycle.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>图片来源于：<a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</a></p>
<p>而异常分类也发生在这两个阶段，且会有不同的表现：</p>
<h4 id="Render阶段的异常捕获流程"><a href="#Render阶段的异常捕获流程" class="headerlink" title="Render阶段的异常捕获流程"></a><code>Render</code>阶段的异常捕获流程</h4><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/fiber-error-render.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>有必要释疑上面无备用渲染时的场景，先上代码，后上动图。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Child 组件模拟 render 阶段异常</span></span><br><span class="line"><span class="keyword">const</span> BugCounter = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [state, setState] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// setInterval(() =&gt; &#123;</span></span><br><span class="line">        <span class="comment">//     setState(pre =&gt; pre += 1);</span></span><br><span class="line">        <span class="comment">// &#125;, 1000);</span></span><br><span class="line">    &#125;, []);</span><br><span class="line"></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(state, <span class="string">&quot;commit 阶段&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if (state === 3) &#123;</span></span><br><span class="line">    <span class="comment">//     // Simulate a JS error</span></span><br><span class="line">    <span class="comment">//     throw new Error(&#x27;I crashed!&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;I crashed!&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;span&gt;&#123;state&#125;&lt;/span&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/react_error3.gif" alt="alt"></p>
<p>可以很明显看到，整个视图界面不会崩溃ℳ</p>
<h4 id="Commit阶段的异常捕获流程"><a href="#Commit阶段的异常捕获流程" class="headerlink" title="Commit阶段的异常捕获流程"></a><code>Commit</code>阶段的异常捕获流程</h4><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/fiber-error-in-commit.jpg?x-oss-process=image/quality,q_80" alt="alt"></p>
</li>
</ul>
<p><strong>CARE：</strong></p>
<ul>
<li><p><code>Render</code>阶段注意点：</p>
<blockquote>
<p>父组件同时定义 getDerivedStateFromError 和 componentDidCatch，如果使用 getDerivedStateFromError 处理异常信息时，没有启用备用渲染， componentDidCatch 不会触发， 异常处理无效，最后还是使用  console.error 打印异常信息。</p>
<p>这一点作一下特别解释：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// BugCounter 组件（也即我们的子组件）</span></span><br><span class="line"><span class="keyword">const</span> BugCounter = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [state, setState] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// setInterval(() =&gt; &#123;</span></span><br><span class="line">        <span class="comment">//     setState(pre =&gt; pre += 1);</span></span><br><span class="line">        <span class="comment">// &#125;, 1000);</span></span><br><span class="line">    &#125;, []);</span><br><span class="line"></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(state, <span class="string">&quot;commit 阶段&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// if (state === 3) &#123;</span></span><br><span class="line">    <span class="comment">//     // Simulate a JS error</span></span><br><span class="line">    <span class="comment">//     throw new Error(&#x27;I crashed!&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;I crashed!&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;span&gt;&#123;state&#125;&lt;/span&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ErrorBoundary (异常捕获组件，注意：这里并没有开启“备用渲染”)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ErrorBoundary</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> getDerivedStateFromError(err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err, <span class="string">&#x27;getDerivedStateFromError&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> &#123;err&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentDidCatch(error: <span class="built_in">Error</span>, <span class="attr">errorInfo</span>: React.ErrorInfo) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error, errorInfo, <span class="string">&quot;didCatch&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.props.children;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/react_error4.gif" alt="alt"></p>
</blockquote>
<blockquote>
<p>使用 getDerivedStateFromError 处理子组件异常信息时，要启用备用渲染，否则异常处理无效，最后还是使用 console.error 打印异常信息。</p>
</blockquote>
</li>
<li><p><code>Commit</code>阶段注意点：</p>
<blockquote>
<p>子组件 commit 阶段发生异常，如果父组件定义 getDerivedStateFromError 且没有启用备用渲染，会导致异常处理无效，而且会陷入死循环。</p>
</blockquote>
</li>
<li><p><code>Commit &amp; Render</code>阶段注意点：</p>
<blockquote>
<p>子组件发生异常，react 会寻找离它最近的且定义getDerivedStateFromError、componentDidCatch 的父组件进行异常处理。</p>
</blockquote>
<blockquote>
<p>子组件发生异常，如果父组件没有捕获措施，react 会使用 console.error 打印异常信息。</p>
</blockquote>
</li>
</ul>
<h2 id="事故补救"><a href="#事故补救" class="headerlink" title="事故补救"></a>事故补救</h2><p><strong>当同一种异常在ErrorTimeLimit秒内出现次数大于ErrorNumLimit次时显示错误页面，中断页面显示</strong></p>
<p>大白话讲就是不想让页面一报错就崩掉。</p>
<p><strong>但是，如果错误的异常请求是 XHR，且时间各为一秒，就会几率性绕过补救</strong></p>
<hr>
<p>最合适的方案：<strong>给页面内的组件最小粒度化添加错误边界</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; FC &#125; from &#39;react&#39;;</span><br><span class="line">import &#123; ErrorBoundary &#125; from &#39;@sentry&#x2F;react&#39;;</span><br><span class="line">import &#123; ErrorBoundaryProps, FallbackRender &#125; from &#39;@sentry&#x2F;react&#x2F;esm&#x2F;errorboundary&#39;;</span><br><span class="line">import CareIcon from &#39;.&#x2F;care-icon.png&#39;;</span><br><span class="line"></span><br><span class="line">import &#39;.&#x2F;index.less&#39;;</span><br><span class="line"></span><br><span class="line">export type TooCatchErrorPropsExportForUser &#x3D; &#39;fallback&#39; | &#39;onError&#39; | &#39;onMount&#39; | &#39;onUnmount&#39;;</span><br><span class="line">export type ToolCatchErrorProps &#x3D; Pick&lt;ErrorBoundaryProps, TooCatchErrorPropsExportForUser&gt;;</span><br><span class="line"></span><br><span class="line">const t &#x3D; (txt): string &#x3D;&gt; &#123;</span><br><span class="line">    if (window.I18N_T &amp;&amp; typeof txt &#x3D;&#x3D;&#x3D; &#39;string&#39;) &#123;</span><br><span class="line">        return window.I18N_T(txt);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return txt;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const DefaultFullback: FallbackRender &#x3D; (&#123; componentStack &#125;) &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">    const modulePos &#x3D; componentStack?.split?.(&#39;\n&#39;)?.[1];</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;div className&#x3D;&quot;tool-catch-error-default-fullback&quot;&gt;</span><br><span class="line">            &lt;img src&#x3D;&#123;CareIcon&#125; alt&#x3D;&quot;care-icon&quot;&#x2F;&gt;</span><br><span class="line">            &lt;span className&#x3D;&quot;text&quot;&gt;&#123;&#96;$&#123;t(&#39;模块渲染出错！&#39;)&#125;$&#123;modulePos ? &#39;(&#39; + modulePos + &#39;)&#39; : &#39;&#39;&#125;&#96;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const ToolCatchError: FC&lt;ToolCatchErrorProps&gt; &#x3D; (&#123; children, ...rest &#125;) &#x3D;&gt; &#123;</span><br><span class="line">    const props: ToolCatchErrorProps &#x3D; &#123;</span><br><span class="line">        fallback: DefaultFullback,</span><br><span class="line">        ...rest,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;ErrorBoundary &#123;...props&#125;&gt;</span><br><span class="line">            &#123; children &#125;</span><br><span class="line">        &lt;&#x2F;ErrorBoundary&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default ToolCatchError;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这里直接用了 <code>Sentry</code>封装好的针对于 <code>React</code>错误边界的组件；</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/react_error_5.gif" alt="alt"></p>
]]></content>
      <categories>
        <category>技术</category>
        <category>经验</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>抛却迷茫，拥抱生活</title>
    <url>/article/giveup-unknow-and-bow-life/</url>
    <content><![CDATA[<p>三月底到五月初的日子里，我像极了一具行尸走肉，微信公众号停更，博客停更。</p>
<p>过完了五一，仿佛想通了一些东西：</p>
<ul>
<li>我需要什么？</li>
<li>我要做什么？</li>
<li>我为了什么？</li>
</ul>
<p>身处互联网行业，最应该被需要的就是”持续学习”，但是持续学习却往往不能够精准落地，实时落地。这才是我最懊恼的地方。</p>
<p>所以长达一个月的时间，我处于一副行尸走肉的状态，无所事事，闲暇的时间都交给了”游戏”和”没有营养的博客”。</p>
<p>一直在提醒自己，一定要做点什么，一直下不去手，”why”？”where is my 动力”？</p>
<p>也曾愤怒的摔过东西，懊恼的抱怨过这，抱怨过那，但是最终还是归于平静。</p>
<h2 id="碎片化时间"><a href="#碎片化时间" class="headerlink" title="碎片化时间"></a>碎片化时间</h2><p>碎片化时间尝试弯道超车，超过同起跑线的人。</p>
<h2 id="厚积薄发"><a href="#厚积薄发" class="headerlink" title="厚积薄发"></a>厚积薄发</h2><p>每天也只有那么点时间去充实知识盲区，所以需要很必要的温习与总结，因为需要积累。</p>
<h2 id="克制与坚持"><a href="#克制与坚持" class="headerlink" title="克制与坚持"></a>克制与坚持</h2><p>克制欲望（游戏、各种乌七八糟的东西），坚持一件事，坚持走到底。</p>
<p>的确，得到一些东西就会失去一些东西，但我希望我失去的换来的是值得的东西。</p>
<p>为了自己，需要克制，我要坚持。</p>
<p>毕。</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>生活</tag>
      </tags>
  </entry>
  <entry>
    <title>新兴前端框架 Svelte 从入门到原理</title>
    <url>/article/svelte/</url>
    <content><![CDATA[<p><strong>以下文章来源于字节前端 ByteFE ，作者雾豹</strong></p>
<hr>
<p>在这篇文章中，我们将会介绍 Svelte 框架的特性、优缺点和底层原理。</p>
<blockquote>
<p>本文尽量不会涉及 Svelte 的语法，大家可以放心食用。因为 Svelte 的语法极其简单，而且官方教程学习曲线平缓<a href="https://www.sveltejs.cn/%EF%BC%8C%E7%9B%B8%E4%BF%A1%E5%A4%A7%E5%AE%B6%E5%BE%88%E5%BF%AB%E5%B0%B1%E4%BC%9A%E4%B8%8A%E6%89%8B%E8%AF%AD%E6%B3%95%E7%9A%84%EF%BC%8C%E8%BF%99%E9%87%8C%E5%B0%B1%E4%B8%8D%E5%81%9A%E5%AE%98%E7%BD%91%E6%90%AC%E8%BF%90%E5%B7%A5%E4%BA%86%E3%80%82">https://www.sveltejs.cn/，相信大家很快就会上手语法的，这里就不做官网搬运工了。</a></p>
</blockquote>
<p>前端领域是发展迅速，各种轮子层出不穷的行业。最近这些年，随着三大框架<code>React</code>、<code>Vue</code>、<code>Angular</code>版本逐渐稳定，前端技术栈的迭代似乎缓慢下来，<code>React 16</code>版本推出了 <code>Fiber</code>， <code>Vue 3.0</code> 也已经在襁褓之中。</p>
<p>如果我们把目光拉伸到未来十年的视角，前端行业会出现哪些框架有可能会挑战<code>React</code>或者<code>Vue</code>呢？我们认为，崭露头角的 <code>Svelte</code> 应该是其中的选项之一。</p>
<h2 id="Svelte-简介"><a href="#Svelte-简介" class="headerlink" title="Svelte 简介"></a>Svelte 简介</h2><p><code>Svelte</code>叫法是<code>[Svelte]</code>, 本意是苗条纤瘦的，是一个新兴热门的前端框架.</p>
<p>在最新的<code>《State of JS survey of 2020》</code>中，它被预测为未来十年可能取代React和Vue等其他框架的新兴技术。如果你不确定自己是否该了解 <code>Svelte</code>，可以先看一下 <code>Svelte</code> 的一些发展趋势。</p>
<h3 id="开发者满意度"><a href="#开发者满意度" class="headerlink" title="开发者满意度"></a>开发者满意度</h3><p>从<code>2019</code>年开始, <code>Svelte</code>出现在榜单中。刚刚过去的<code>2020</code>年，<code>Svelte</code>在满意度排行榜中超越了<code>react</code>，跃升到了第一位。</p>
<h3 id="开发者兴趣度"><a href="#开发者兴趣度" class="headerlink" title="开发者兴趣度"></a>开发者兴趣度</h3><p>在开发者兴趣度方面，Svelte 蝉联了第一。</p>
<h3 id="市场占有率"><a href="#市场占有率" class="headerlink" title="市场占有率"></a>市场占有率</h3><p>如果你在19年还没有听说过Svelte，不用紧张，因为svelte 当时仍是小众的开发框架，在社区里仍然没有流行开来.</p>
<p>2020年，Svelte 的市场占有率从第6名跃升到第4名，仅次于 React、Angular、Vue 老牌前端框架。</p>
<h2 id="svelte作者——Rich-Harris"><a href="#svelte作者——Rich-Harris" class="headerlink" title="svelte作者——Rich Harris"></a>svelte作者——Rich Harris</h2><p><code>Svelte</code>作者是前端轮子哥 <code>Rich Harris</code>，同时也是<code>Rollup</code> 的作者。<code>Rich Harris</code> 作者本人在介绍 <code>Svelte</code> 时，有一个非常精彩的演讲<code>《Rethinking reactivity》</code>，<a href="https://www.youtube.com/watch?v=AdNJ3fydeao&t=1900s">油管连接</a>，感兴趣的同学不要错过。</p>
<p>他设计<code>Svelte</code>的核心思想在于『通过静态编译减少框架运行时的代码量』，也就是说，<code>vue</code> 和 <code>react</code> 这类传统的框架，都必须引入运行时 <code>(runtime)</code> 代码，用于虚拟<code>dom</code>、<code>diff</code> 算法。<code>Svelted</code>完全溶入<code>JavaScript</code>，应用所有需要的运行时代码都包含在<code>bundle.js</code>里面了，除了引入这个组件本身，你不需要再额外引入一个运行代码。</p>
<h2 id="Svelte-优势有哪些"><a href="#Svelte-优势有哪些" class="headerlink" title="Svelte 优势有哪些"></a>Svelte 优势有哪些</h2><p>我们先来看一下 <code>Svelte</code> 和<code>React</code>，<code>Vue</code> 相比，有哪些优势。</p>
<h3 id="No-Runtime-——-无运行时代码"><a href="#No-Runtime-——-无运行时代码" class="headerlink" title="No Runtime —— 无运行时代码"></a>No Runtime —— 无运行时代码</h3><p><code>React</code> 和 <code>Vue</code> 都是基于运行时的框架，当用户在你的页面进行各种操作改变组件的状态时，框架的运行时会根据新的组件状态（state）计算（diff）出哪些DOM节点需要被更新，从而更新视图。</p>
<p>这就意味着，框架本身所依赖的代码也会被打包到最终的构建产物中。这就不可避免增加了打包后的体积，有一部分的体积增加是不可避免的，那么这部分体积大约是多少呢？请看下面的数据：</p>
<p>常用的框架中，最小的<code>Vue</code>都有<code>58k</code>，<code>React</code>更有<code>97.5k</code>。我们使用<code>React</code>开发一个小型组件，即使里面的逻辑代码很少，但是打包出来的<code>bundle size</code>轻轻松松都要<code>100k</code>起步。对于大型后台管理系统来说，<code>100k</code> 不算什么，但是对于特别注重用户端加载性能的场景来说，一个组件<code>100k</code> 多，还是太大了。</p>
<p>如果你特别在意打包出来的体积，Svelte 就是一个特别好的选择。下面是Jacek Schae大神的统计，使用市面上主流的框架，来编写同样的<code>Realword</code> 应用的体积：</p>
<p>从上图的统计，Svelte简直是神奇！竟然只有 9.7 KB ! 果然魔法消失 UI 框架，无愧其名。</p>
<p>可以看出，Svelte的bundle size大小是Vue的1/4，是React的1/20，体积上的优势还是相当明显的。</p>
<h3 id="Less-Code-——写更少的代码"><a href="#Less-Code-——写更少的代码" class="headerlink" title="Less-Code ——写更少的代码"></a>Less-Code ——写更少的代码</h3><p>在写svelte组件时，你就会发现，和 Vue 或 React 相比只需要更少的代码。开发者的梦想之一，就是敲更少的代码。因为更少的代码量，往往意味着有更好的语义性，也有更少的几率写出bug。</p>
<p>下面的例子，可以看出Svelte和React的不同：</p>
<ol>
<li><code>React</code>的代码</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">increment</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  setCount(count + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><code>Svelte</code>的代码</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">increment</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  count += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>虽然用上了<code>16</code>版本最新的 <code>hooks</code>，但是和<code>svelte</code>相比，代码还是很冗余。</p>
<p>在React中，我们要么使用<code>useState</code>钩子，要么使用<code>setState</code>设置状态。而在<code>Svelte</code>中，可以直接使用赋值操作符更新状态。</p>
<p>如果说上面的例子太简单了，可以看下面的统计，分别使用<code>React</code>和 <code>Svelte</code> 实现下面的组件所需要的代码行数.</p>
<p>下面还是 Jacek Schae 老哥的统计，编写同样的Realword 应用，各个框架所需要的行数.</p>
<h3 id="Hight-Performance-——高性能"><a href="#Hight-Performance-——高性能" class="headerlink" title="Hight-Performance ——高性能"></a>Hight-Performance ——高性能</h3><p>在Virtual Dom已经是前端框架标配的今天， Svelte 声称自己是没有Virtual Dom加持的， 怎么还能保证高性能呢？</p>
<p>不急，慢慢看。</p>
<h4 id="性能测评"><a href="#性能测评" class="headerlink" title="性能测评"></a>性能测评</h4><p>Jacek Schae 在《A RealWorld Comparison of Front-End Frameworks with Benchmarks》中用主流的前端框架来编写 RealWorld 应用，使用 Chrome 的Lighthouse Audit测试性能，得出数据是Svelte 略逊于Vue, 但好于 React。</p>
<p>是不是很惊奇？另外一个前端框架性能对比的项目也给出了同样的答案：<a href="https://github.com/krausest/js-framework-benchmark%E3%80%82">https://github.com/krausest/js-framework-benchmark。</a></p>
<p>为什么 Svelte 性能还不错，至少没有我们预期的那么糟糕？我们接下来会在原理那一小结来介绍。</p>
<h2 id="Svelte-劣势"><a href="#Svelte-劣势" class="headerlink" title="Svelte 劣势"></a>Svelte 劣势</h2><p>说完了<code>Svelte</code>的优势，我们也要考虑到<code>Svelte</code>的劣势。</p>
<h3 id="和Vue，-React框架的对比"><a href="#和Vue，-React框架的对比" class="headerlink" title="和Vue， React框架的对比"></a>和Vue， React框架的对比</h3><p>在构建大型前端项目时，我们在选择框架的时候就需要考虑更多的事情。<code>Svelte</code>目前尚处在起步阶段，对于大型项目必要的单元测试并没有完整的方案。目前在大型应用中使用<code>Svelte</code>, 需要谨慎评。</p>
<table>
<thead>
<tr>
<th>类目</th>
<th>Svelte</th>
<th>Vue</th>
<th>React</th>
</tr>
</thead>
<tbody><tr>
<td>UI组件库</td>
<td><code>Material design ( 坦率的说，不好用 )</code></td>
<td><code>Element UI / AntD</code></td>
<td><code>AntD / Material design</code>｜</td>
</tr>
<tr>
<td>状态管理</td>
<td>官网自带</td>
<td>Vuex</td>
<td>Redux/MobX</td>
</tr>
<tr>
<td>路由</td>
<td>Svelte-router</td>
<td>Vue-router</td>
<td>React-router</td>
</tr>
<tr>
<td>服务端渲染</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr>
<td>测试工具</td>
<td>官方网站没有相关内容</td>
<td>@vue/test-utils</td>
<td>Jest</td>
</tr>
</tbody></table>
<p>我们在用 Svelte 开发公司级别中大型项目时，也发现了其他的一些主要注意的点</p>
<p>没有像AntD那样成熟的UI库。比如说需求方想加一个toast提示，或者弹窗，pm：”很简单的，不用出UI稿，就直接用之前的样式好啦~“<br>但是 Svelte 需要从0开始 ”抄“ 出来一个toast或者弹窗组件出来，可能会带来额外的开发量和做好加班的准备。</p>
<ul>
<li><p>Svelte 原生不支持预处理器，比如说less/scss，需要自己单独的配置 webpack loader。</p>
</li>
<li><p>Svelte 原生脚手架没有目录划分</p>
</li>
<li><p>暂时不支持typescript，虽然官方说了会支持, 但是不知道什么时候.</p>
</li>
</ul>
<p>还需要注意的一点是，React / Vue等框架自带的runtime虽然会增加首屏加载的bundle.js，可是当项目变得越来越大的时候，框架的runtime在bundle.js里面占据的比例也会越来越小，这个时候我们就得考虑一下是不是存在一个Svelte生成的代码大于React和Vue生成的代码的阈值了。</p>
<h2 id="原理篇"><a href="#原理篇" class="headerlink" title="原理篇"></a>原理篇</h2><p><code>Svelte</code>原理相对于<code>React</code> 和 <code>Vue</code> 来说，相对比较简单，大家可以放心的往下看。</p>
<p>首先，我们从一个问题出发：</p>
<h3 id="Virtual-Dom-真的高效吗"><a href="#Virtual-Dom-真的高效吗" class="headerlink" title="Virtual Dom 真的高效吗"></a>Virtual Dom 真的高效吗</h3><p>Rich Harris 在设计 Svelte 的时候没有采用 Virtual DOM 是因为觉得Virtual DOM Diff 的过程是非常低效的。</p>
<p>在他的一文《Virtual DOM is pure overhead》原文连接：<a href="https://www.sveltejs.cn/blog/virtual-dom-is-pure-overhead%EF%BC%8C%E6%84%9F%E5%85%B4%E8%B6%A3%E7%9A%84%E5%90%8C%E5%AD%A6%E5%8F%AF%E4%BB%A5%E7%BF%BB%E4%B8%80%E4%B8%8B%E3%80%82">https://www.sveltejs.cn/blog/virtual-dom-is-pure-overhead，感兴趣的同学可以翻一下。</a></p>
<p>人们觉得 Virtual DOM高效的一个理由，就是它不会直接操作原生的DOM节点。在浏览器当中，JavaScript的运算在现代的引擎中非常快，但DOM本身是非常缓慢的东西。当你调用原生DOM API的时候，浏览器需要在JavaScript引擎的语境下去接触原生的DOM的实现，这个过程有相当的性能损耗。</p>
<p>但其实 Virtual DOM 有时候会做很多无用功，这体现在很多组件会被“无缘无故”进行重渲染（re-render）。</p>
<p>比如说，下面的例子中，React 为了更新掉message 对应的DOM 节点，需要做n多次遍历，才能找到具体要更新哪些节点。</p>
<p>为了解决这个问题，React 提供pureComponent,shouldComponentUpdate，useMemo,useCallback让开发者来操心哪些subtree是需要重新渲染的，哪些是不需要重新渲染的。究其本质，是因为 React 采用 jsx 语法过于灵活，不理解开发者写出代码所代表的意义，没有办法做出优化。</p>
<p>所以，React 为了解决这个问题，在 v16.0 带来了全新的 Fiber 架构，Fiber 思路是不减少渲染工作量，把渲染工作拆分成小任务思路是不减少渲染工作量。渲染过程中，留出时间来处理用户响应，让用户感觉起来变快了。这样会带来额外的问题，不得不加载额外的代码，用于处理复杂的运行时调度工作</p>
<h4 id="那么-Svelte-是如何解决这个问题的？"><a href="#那么-Svelte-是如何解决这个问题的？" class="headerlink" title="那么 Svelte 是如何解决这个问题的？"></a>那么 Svelte 是如何解决这个问题的？</h4><p>React 采用 jsx 语法本质不理解数据代表的意义，没有办法做出优化。Svelte 采用了Templates语法（类似于 Vue 的写法），更加严格和具有语义性，可以在编译的过程中就进行优化操作。</p>
<p>那么，为什么Templates语法可以解决这个问题呢？</p>
<h4 id="Template-带来的优势"><a href="#Template-带来的优势" class="headerlink" title="Template 带来的优势"></a>Template 带来的优势</h4><p>关于 <code>JSX</code> 与 <code>Templates</code> ，可以看成是两种不同的前端框架渲染机制，有兴趣的同学可以翻一下尤雨溪的演讲《在框架设计中寻求平衡》：<a href="https://www.bilibili.com/video/av80042358/%E3%80%82">https://www.bilibili.com/video/av80042358/。</a></p>
<p>一方面， <code>JSX</code> 的代表框架有 <code>React</code> 以及所有 <code>react-like</code> 库，比如 <code>preact</code>、 <code>stencil</code>, <code>infernal</code> 等；另一方面， <code>Templates</code> 代表性的解决方案有 <code>Vue</code>、<code>Svelte</code>、 <code>ember</code>，各有优缺点。</p>
<h3 id="JSX-优缺点"><a href="#JSX-优缺点" class="headerlink" title="JSX 优缺点"></a>JSX 优缺点</h3><p><code>jsx</code> 具有 <code>JavaScript</code> 的完整表现力，非常具有表现力，可以构建非常复杂的组件。</p>
<p>但是灵活的语法，也意味着引擎难以理解，无法预判开发者的用户意图，从而难以优化性能。你很可能会写出下面的代码：</p>
<p>在使用 <code>JavaScript</code> 的时候，编译器不可能<code>hold</code>住所有可能发生的事情，因为 <code>JavaScript</code> 太过于动态化。也有人对这块做了很多尝试，但从本质上来说很难提供安全的优化。</p>
<h4 id="Template优缺点"><a href="#Template优缺点" class="headerlink" title="Template优缺点"></a>Template优缺点</h4><p><code>Template</code>模板是一种非常有约束的语言，你只能以某种方式去编写模板。</p>
<p>例如，当你写出这样的代码的时候，编译器可以立刻明白：”哦！这些 <code>p</code> 标签的顺序是不会变的，这个 <code>id</code> 是不会变的，这些 class 也不会变的，唯一会变的就是这个“。</p>
<p>在编译时，编译器对你的意图可以做更多的预判，从而给它更多的空间去做执行优化。</p>
<p>左侧 <code>template</code> 中，其他所有内容都是静态的，只有 <code>name</code> 可能会发生改变。</p>
<p>右侧 <code>p</code> 函数是编译生成的最终的产物，是原生的<code>js</code>可以直接运行在浏览器里，会在有脏数据时被调用。<code>p</code> 函数唯一做的事情就是，当 <code>name</code> 发生变更的时候，调用原生方法把 <code>t1</code> 这个原生<code>DOM</code>节点更新。这里的 <code>set_data</code> 可不是 <code>React</code> 的 <code>setState</code> 或者小程序的 <code>setData</code> ，这里的<code>set_data</code> 就是封装的原生的 <code>javascript</code> 操作<code>DOM</code> 节点的方法。</p>
<p>如果我们仔细观察上面的代码，发现问题的关键在于 <code>if</code>语句的判断条件——<code>changed.name</code>， 表示有哪些变量被更新了，这些被更新的变量被称为脏数据。</p>
<p>任何一个现代前端框架，都需要记住哪些数据更新了，根据更新后的数据渲染出最新的<code>DOM</code>.</p>
<h4 id="Svelte-记录脏数据的方式：位掩码（bitMask）"><a href="#Svelte-记录脏数据的方式：位掩码（bitMask）" class="headerlink" title="Svelte 记录脏数据的方式：位掩码（bitMask）"></a>Svelte 记录脏数据的方式：位掩码（bitMask）</h4><p>Svelte使用位掩码（bitMask） 的技术来跟踪哪些值是脏的，即自组件最后一次更新以来，哪些数据发生了哪些更改。</p>
<p>位掩码是一种将多个布尔值存储在单个整数中的技术，一个比特位存放一个数据是否变化，一般<code>1</code>表示脏数据，<code>0</code>表示是干净数据。</p>
<p>用大白话来讲，你有<code>A</code>、<code>B</code>、<code>C</code>、<code>D</code> 四个值，那么二进制<code>0000 0001</code>表示第一个值A发生了改变，<code>0000 0010</code>表示第二个值<code>B</code>发生了改变，<code>0000 0100</code>表示第三个值<code>C</code>发生了改变，<code>0000 1000</code>表示第四个<code>D</code>发生了改变。</p>
<p>这种表示法，可以最大程度的利用空间。为啥这么说呢？</p>
<p>比如说，十进制数字<code>3</code>就可以表示 <code>A</code>、<code>B</code>是脏数据。先把十进制数字<code>3</code>， 转变为二进制<code>0000 0011</code>。从左边数第一位、第二位是<code>1</code>，意味着第一个值<code>A</code> 和第二个值<code>B</code>是脏数据；其余位都是<code>0</code>，意味着其余数据都是干净的。</p>
<h4 id="JS-的限制"><a href="#JS-的限制" class="headerlink" title="JS 的限制"></a>JS 的限制</h4><p>那么，是不是用二进制比特位就可以记录各种无穷无尽的变化了呢？</p>
<p><code>JS</code> 的二进制有<code>31</code>位限制，<code>number</code> 类型最长是<code>32</code>位，减去<code>1</code>位用来存放符号。也就是说，如果 <code>Svelte</code> 采用二进制位存储的方法，那么只能存 <code>31</code>个数据。</p>
<p>但肯定不能这样，对吧？</p>
<p><code>Svelte</code> 采用数组来存放，数组中一项是二进制<code>31</code>位的比特位。假如超出<code>31</code>个数据了，超出的部分放到数组中的下一项。</p>
<p>这个数组就是<code>component.$.dirty</code>数组，二进制的<code>1</code>位表示该对应的数据发生了变化，是脏数据，需要更新；二进制的<code>0</code>位表示该对应的数据没有发生变化，是干净的。</p>
<h4 id="一探究竟component-dirty"><a href="#一探究竟component-dirty" class="headerlink" title="一探究竟component.$.dirty"></a>一探究竟component.$.dirty</h4><p>上文中，我们说到<code>component.$.dirty</code>是数组，具体这个数组长什么样呢？</p>
<p>我们模拟一个 <code>Svelte</code> 组件，这个 <code>Svelte</code> 组件会修改33个数据。</p>
<p>我们打印出每一次<code>make_dirty</code>之后的<code>component.$.dirty</code>， 为了方便演示，转化为二进制打印出来，如下面所示：</p>
<p>上面数组中的每一项中的每一个比特位，如果是1，则代表着该数据是否是脏数据。如果是脏数据，则意味着更新。</p>
<p>第一行<code>[&quot;0000000000000000000000000000001&quot;, &quot;0000000000000000000000000000000&quot;]</code>, 表示第一个数据脏了，需要更新第一个数据对应的<code>dom</code>节点</p>
<p>第二行<code>[&quot;0000000000000000000000000000011&quot;, &quot;0000000000000000000000000000000&quot;]</code>, 表示第一个、第二个数据都脏了，需要更新第一个，第二个数据对应的<code>dom</code>节点。</p>
<p>……</p>
<p>当一个组件内，数据的个数，超出了<code>31</code>的数量限制，就数组新增一项来表示。</p>
<p>这样，我们就可以通过<code>component.$.dirty</code>这个数组，清楚的知道有哪些数据发生了变化。那么具体应该更新哪些DOM 节点呢？</p>
<h4 id="数据和DOM节点之间的对应关系"><a href="#数据和DOM节点之间的对应关系" class="headerlink" title="数据和DOM节点之间的对应关系"></a>数据和DOM节点之间的对应关系</h4><p>我们都知道， React 和 Vue 是通过 Virtual Dom 进行 diff 来算出来更新哪些 DOM 节点效率最高。Svelte 是在编译时候，就记录了数据 和 DOM 节点之间的对应关系，并且保存在 p 函数中。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73z8zVrOwuwOCBxjsf0osDx8Nbmvp9xd7GszgEaaLrlRecCYD0WqicibAQR9jSJVucZfJgybB3hxQXWzw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"></p>
<p>这里说的<code>p</code>函数，就是 <code>Svelte</code> 的更新方法，本质上就是一大堆<code>if</code>判断，逻辑非常简单.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> ( A 数据变了 ) &#123;</span><br><span class="line">  更新A对应的DOM节点</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ( B 数据变了 ) &#123;</span><br><span class="line">  更新B对应的DOM节点</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>为了更加直观的理解，我们模拟更新一下<code>33</code>个数据的组件，编译得到的<code>p 函数</code>打印出来，如：</p>
<p>我们会发现，里面就是一大堆if判断，但是if判断条件比较有意思，我们从上面摘取一行仔细观察一下：</p>
<p>首先要注意，<code>&amp;</code>不是逻辑与，而是按位与，会把两边数值转为二进制后进行比较，只有相同的二进制位都为<code>1</code> 才会为真。</p>
<p>这里的<code>if</code>判断条件是：拿<code>compoenent.$.dirty[0]</code>(<code>00000000000000000000000000000100</code>)和<code>4</code>（<code>4</code> 转变为二进制是<code>0000 0100</code>）做按位并操作。那么我们可以思考一下了，这个按位并操作什么时候会返回1呢？</p>
<p><code>4</code>是一个常量，转变为二进制是<code>0000 0100</code>， 第三位是<code>1</code>。那么也就是，只有<code>dirty[0]</code>的二进制的第三位也是<code>1</code>时, 表达式才会返回真。换句话来说，只有第三个数据是脏数据，才会走入到这个if判断中，执行<code>set_data(t5, ctx[2])</code>， 更新<code>t5</code>这个 <code>DOM</code> 节点。</p>
<p>当我们分析到这里，已经看出了一些眉目，让我们站在更高的一个层次去看待这 <code>30</code>多行代码：它们其实是保存了这<code>33</code>个变量 和 真实<code>DOM</code> 节点之间的对应关系，哪些变量脏了，<code>Svelte </code>会走入不同的if体内直接更新对应的<code>DOM</code>节点，而不需要复杂 <code>Virtual DOM DIFF</code> 算出更新哪些<code>DOM</code>节点；</p>
<p>这 <code>30</code>多行代码，是<code>Svelte </code>编译了我们写的<code>Svelte </code>组件之后的产物，在<code>Svelte</code> 编译时，就已经分析好了，数据 和 <code>DOM </code>节点之间的对应关系，在数据发生变化时，可以非常高效的来更新DOM节点。</p>
<p><code>Vue</code> 曾经也是想采取这样的思路，但是<code>Vue</code>觉得保存每一个脏数据太消耗内存了，于是没有采用那么细颗粒度，而是以组件级别的中等颗粒度，只监听到组件的数据更新，组件内部再通过 <code>DIFF </code>算法计算出更新哪些 <code>DOM</code> 节点。<code>Svelte</code> 采用了比特位的存储方式，解决了保存脏数据会消耗内存的问题。</p>
<h4 id="整体流程"><a href="#整体流程" class="headerlink" title="整体流程"></a>整体流程</h4><p>上面就是Svelte 最核心更新DOM机制，下面我们串起来整个的流程。</p>
<p>下面是非常简单的一个 Svelte 组件，点击<code>&lt;button&gt;</code>会触发onClick事件，从而改变name 变量。</p>
<p>上面代码背后的整体流程如下图所示，我们一步一步来看：</p>
<p>第一步，<code>Svelte</code> 会编译我们的代码，下图中左边是我们的源码，右边是 <code>Svelte</code> 编译生成的。<code>Svelte</code> 在编译过程中发现，『咦，这里有一行代码 <code>name</code> 被重新赋值了，我要插入一条<code>make_dirty</code>的调用』，于是当我们改写 <code>name </code>变量的时候，就会调用<code>make_dirty</code>方法把 <code>name</code> 记为脏数据。</p>
<p>第二步，我们来看make_diry方法究竟做了什么事情：</p>
<ol>
<li><p>把对应数据的二进制改为1</p>
</li>
<li><p>把对应组件记为脏组件，推入到 dirty_components 数组中</p>
</li>
<li><p>调用<code>schedule_update()</code>方法把<code>flush</code>方法推入到一帧中的微任务阶段执行。因为这样既可以做频繁更新 的截流，又避免了阻塞一帧中的 <code>layout</code>， <code>repaint</code> 阶段的渲染。</p>
</li>
</ol>
<p><code>schedule_update</code> 方法其实就是一个<code>promise.then()</code>，</p>
<p>一帧大概有 <code>16ms</code>, 大概会经历 <code>layout</code>, <code>repaint</code>的阶段后，就可以开始执行微任务的回调了。</p>
<p><code>flush</code> 方法做的事情也比较简单，就是遍历脏组件，依次调用<code>update</code>方法去更新对应的组件。</p>
<p><code>update</code>方法除了执行一些生命周期的方法外，最核心的一行代码是调用<code>p</code>方法，<code>p</code>方法我们已经在上文中介绍过很熟悉了。</p>
<p><code>p</code> 方法的本质就是走入到不同的<code>if</code> 判断里面，调用<code>set_data</code>原生的 <code>javascript</code> 方法更新对应的 <code>DOM</code>节点。</p>
<p>至此，我们的页面的DOM节点就已经更新好了。</p>
<blockquote>
<p>上面的代码均是剔除了分支逻辑的伪代码。<br>Svelte 在处理子节点列表的时候，还是有优化的算法在的。比如说[a,b,c,d] 变成 [d, a, b, c] ，但是只是非常简单的优化，简单来说，是比较节点移动距离的绝对值，绝对值最小的节点被移动。<br>所以，严格意义上来说，Svelte 并不是100%无运行时，还是会引入额外的算法逻辑，只是量很少罢了。</p>
</blockquote>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>一个前端框架，不管是<code>vue</code>还是<code>react</code>更新了数据之后，需要考虑更新哪个<code>dom</code>节点，也就是，需要知道，脏数据和待更新的真实<code>dom</code>之间的映射。<code>vue</code>, <code>react</code> 是通过 <code>virtualDom</code> 来 <code>diff</code> 计算出更新哪些<code>dom</code>节点更划算，而<code>sveltedom </code>是把数据和真实<code>dom</code>之间的映射关系，在编译的时候就通过<code>AST</code>等算出来，保存在<code>p</code>函数中。</p>
<p><code>Svelte</code> 作为新兴的前端框架，采用了和 <code>React</code>， <code>Vue</code> 不同的设计思路，其独特的特性在某些场景下还是很值得尝试的。</p>
<blockquote>
<p>免责声明：本文章来自转载，不会有任何盈利部分，如有侵权，请联系<code>jadeface.scholar@gmail.com</code>删除，遵循<code>开放知识共享协议--GNU</code>。</p>
</blockquote>
]]></content>
      <categories>
        <category>转载</category>
      </categories>
      <tags>
        <tag>转载</tag>
      </tags>
  </entry>
  <entry>
    <title>Git commit info 大杀器 和 给你的 OSS 加防盗门</title>
    <url>/article/git-commit-info-and-oss-safe/</url>
    <content><![CDATA[<h2 id="Git-commit-info-大杀器"><a href="#Git-commit-info-大杀器" class="headerlink" title="Git commit info 大杀器"></a>Git commit info 大杀器</h2><p>我们应该在<code>git</code>提交上遇到过比较常见的一个问题：</p>
<hr>
<p>全局的<code>git Author</code>信息与本地仓库的信息不一致，但是有时候会忘记改动本地<code>git Author</code>信息，最终导致代码提交了，但是作者信息有误！</p>
<hr>
<p><strong>以下内容来源于翻译</strong></p>
<ol>
<li>通过运行以下命令，将存储库重新设置为您要更改的存储库的上一次提交：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git rebase –i &#123;&#123;previous-commit-hash&#125;&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>上面的脚本会提示您以降序排列的提交列表。在这个VI / vim的观点，替换词pick，以edit每每次提交你想编辑。然后退出并保存。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 大白话讲就是：将 pick 换成 e，代表当前这条记录被编辑过</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>当重新设置基础过程开始时，通过运行来更改提交的作者。然后，使用以下命令继续下一次提交.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git rebase –<span class="built_in">continue</span> </span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 注意：这里的 &lt;&gt; 不能丢</span></span><br><span class="line">$ git commit --amend --author=<span class="string">&quot;Author &lt;your email&gt;&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>变基过程完成后，请通过运行以下命令来推送更改：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git push -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上面是简写</span></span><br><span class="line"></span><br><span class="line">$ git push --force</span><br></pre></td></tr></table></figure>

<hr>
<p><a href="https://stackoverflow.com/questions/3042437/how-to-change-the-commit-author-for-one-specific-commit">参考溯源</a> ： <code>https://stackoverflow.com/questions/3042437/how-to-change-the-commit-author-for-one-specific-commit</code></p>
<h2 id="给你的OSS加防盗门"><a href="#给你的OSS加防盗门" class="headerlink" title="给你的OSS加防盗门"></a>给你的<code>OSS</code>加防盗门</h2><p>近期在为自己的博客做优化：</p>
<ul>
<li>整体体积瘦身</li>
<li>访问速度优化</li>
<li>所有资源全部走<code>OSS</code></li>
<li>图片走<code>CDN</code>加速且压缩</li>
</ul>
<p>但是，这个时候我发现我的<code>OSS</code>访问量剧增，流量也剧增（这可是烧钱的买卖）</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2105/2151301.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>偶然看到了阿里云控制台的防盗链：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2105/2151302.png?x-oss-process=image/quality,q_80" alt="alt"></p>
<p>然后我们来康康不在白名单的域名访问效果吧！</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2105/2151303.png?x-oss-process=image/quality,q_80" alt="alt"></p>
]]></content>
      <categories>
        <category>技术</category>
        <category>Git</category>
        <category>Ali OSS</category>
      </categories>
      <tags>
        <tag>经验</tag>
      </tags>
  </entry>
  <entry>
    <title>JS深入系列之闭包</title>
    <url>/article/js-deep-closure/</url>
    <content><![CDATA[<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2106/1297.jpg_wh300.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p>今天是儿童节，然鹅，学习还是要的，但是还是要祝各位<code>大朋友</code>，儿童节快乐～～～</p>
<hr>
<p>紧接着上一篇的内容，我们来回顾一遍<code>JS</code>闭包。</p>
<p>什么是闭包？</p>
<p>列举下我所看到的相对比较官方的解释：</p>
<ul>
<li>闭包是指那些能够访问自由变量的函数。— MDN</li>
<li>从技术角度来讲，所有函数都是闭包。 — 《JavaScript权威指南》</li>
</ul>
<p>那意味着：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> temp = <span class="number">123</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述代码也相当于是闭包。</p>
<p>但是<code>ECMAScript</code>中的规范定义，闭包即便是上下文销毁，也依旧存在，且保持着对于自由变量的引用。</p>
<blockquote>
<p>自由变量是指在函数中使用的，但既不是函数参数也不是函数的局部变量的变量。<br>补充：这里的函数指的是闭包函数。</p>
</blockquote>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">localScope</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">123</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> print;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> add = localScope();</span><br><span class="line"></span><br><span class="line">add()</span><br><span class="line">add()</span><br><span class="line">add()</span><br><span class="line">add()</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># print console</span></span><br><span class="line"></span><br><span class="line">/Users/wangbinlin/.nvm/versions/node/v14.16.0/bin/node /Users/wangbinlin/Project/daily_exercise/blog/test.js</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>现在，你可以清楚的看到闭包的魅力。</p>
<p>下面过两道面试必刷题：</p>
<p>题目来源于：<a href="https://github.com/mqyqingfeng/Blog/issues/9">https://github.com/mqyqingfeng/Blog/issues/9</a></p>
<h4 id="题目一"><a href="#题目一" class="headerlink" title="题目一"></a>题目一</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  data[i] = (<span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i);</span><br><span class="line">        &#125;</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data[<span class="number">0</span>]();</span><br><span class="line">data[<span class="number">1</span>]();</span><br><span class="line">data[<span class="number">2</span>]();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>解析过程请参见：<a href="https://github.com/mqyqingfeng/Blog/issues/9">https://github.com/mqyqingfeng/Blog/issues/9</a></p>
<h4 id="题目二"><a href="#题目二" class="headerlink" title="题目二"></a>题目二</h4><p><code>请写一个计时器，每隔一秒打印一次</code>。</p>
<p>这道题，虽然实现思路很多，其实就像考察闭包！下面我来列举下常规解法：</p>
<p><strong>解法一</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;<span class="number">60</span>;i++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;, <span class="number">1000</span>*i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>why?</code>为什么这样写可以呢？我想市面上百分之<code>50</code>的回答应该都是：</p>
<blockquote>
<p>因为<code>let</code>可以创建块作用域，完了结束。</p>
</blockquote>
<p>其实我这里再出一段代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span>(; i&lt;<span class="number">60</span>;i++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;, <span class="number">1000</span>*i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结果肯定不是预期，但是我也用了 <code>let</code>，请思考一分钟。</p>
<blockquote>
<p><code>for</code>循环头部的<code>let</code>声明有一个特殊的行为，在每次循环的时候不止被声明一次，每次迭代都会声明，且初始值用上次的，也就是会出现下面的伪代码：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一次</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;<span class="number">60</span>;i++) &#123;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i);</span><br><span class="line">        &#125;, <span class="number">1000</span> * i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 第二次</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i&lt;<span class="number">60</span>;i++) &#123;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i);</span><br><span class="line">        &#125;, <span class="number">1000</span>*i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 此处省略 58 次</span></span><br></pre></td></tr></table></figure>

<p>现在能看懂吧，第二个写法虽然用了<code>let</code>，但是它不在<code>for</code>循环头部。</p>
<p><strong>解法二</strong></p>
<p>闭包现身</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">60</span>; i++) &#123;</span><br><span class="line">    (<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i)</span><br><span class="line">        &#125;, i*<span class="number">1000</span>);</span><br><span class="line">    &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">60</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(print(i), i*<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述两种写法，应该是比较常见的闭包写法，其实就是前文提到的<code>自由变量</code>与<code>闭包作用域</code>。</p>
<blockquote>
<p>当函数可以记住并且访问所在词法作用域，即使函数是在当前词法作用域外执行的，这时候就产生了闭包。<br>                               —– 《你不知道的JavaScript》上卷 p57</p>
</blockquote>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>闭包</tag>
      </tags>
  </entry>
  <entry>
    <title>Monaco 探索（一）</title>
    <url>/article/approval-monaco-1/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="db6ca102a9acd9f3024136663c1538e480232b6a2b4c3c77ff22bcdb7072aae1">c2ce16366b42eef496e3c8bcd12b0c56f9cdcaf0c071c54363da286867afe294648e41a4bd5ae19fc361ba70ff90a1bab50b1a44e1f840858fc5f8dd8312af53b2eba67e454a6b6ce17faa3f50a7057aabf75a3bce74a5e6e541bc7f722d1f515355388ffb962f5131e4a13e59b07fa48f57f496c5d1baf4435291d3c9c73451a334d7ff14ef9417b5a06f4c3450796750ccd61e7575a7705d1d58e74a5db16ee20814b9a3fe2a46e9d22c11d2a62fe0af1e8357a53c85ad73c8a8e0d200305802e5bd54267334e47bc17b75329713d58cb4f1ed587f739ca78c4f47a2dc727dc569eda05936ed1e850e8fd803ec50bdabe24571a8c1a734cb7437dc41a9904b0c2844833ef4623b90059f99f873907ec9e3e7a167787a05c2378a823cc74888a2226aa48bc56f9026bad1b0c00b9927c6e1c7b5ed9e96129b9c124123baa2a18d92c1cc127a5b5fbebc6afc0d96af95a825b036e52c9ab1582e2f4a1c6153598e9d27ae7ed171047ed3fef1577e4cc97d0054dbd2ccc145d52ee20f652fad56050a84cfaa6fef492c4801d7dcdebbfedeff4fa87d1a2d2560e85bccaff29c64881de6a8de3320c5aa370506d895f9ccb4e15211fa9f7d1dd605c7badf86f1283139a928fe0c780960cc92dc04c777d5764091ac21b54284b571124b107f89c7d263cdffb5d0cc647459c0f45176c5f5fc944ca3ef06e1c543a9afd4b1a30c5a0f8994339353a2992d14ff65f677e22a78442ab776e1e484845b7d1ac2a5a33b0bad0d59140692b412eecf8afe0593347e4719bf2f8be0ed2a7e33598b970b836a6dfe81b52ee8128cb2820d81197119f67b4da1792d5a0cb090dcc293e268a05a106b1ee00f4f8619af753d2eea56f743de7cf5f24d27c1345da91b6014f74d59024e38b3e34f9ea5aad399c9294704857fff4a2d67a163acd23503aa724728dfa797cff0a41394330d78ff33189a2ab832871966146b1ae86b402844268e05fdc324dd20de3840484dd9b7ce16f7de2dad39e6d9f92ad9538f18d2c3511e1aa70bd2f6cb5661deee5bc5795fa8dbec34702bc7363a72bcf21eebcdf75f9c75c24470297b91dc0c754ac85e3c8c0629010d615d6a59a6f60a47def0ffc6fdc8936b3b1cdd5259fa12147b5626037315153a0aa948d8dc71735635005eb71155b975cdc770a9c4029ce751a46b74a5e28217f4994807a17321473543d46cb15aceee79c34eb6f018374faeae3121fa0a9ac58338d1714de26ae7c26351bd6e582192724e32746981235b9243ab4af7b20b0df09619b1aea354df8284f6aba814a310a9cbf2e9aba25888b2de5ed4ab890cd2a06f20d3e1a29e5d99e88938493b727886910019deea2ea8d9886bf674d40c37255b5bc39932a48d88377733a37f5a654c6cc5027228cfdfc03cae310dd2828fbaaf30402592dbb735b32b47afe017fd3423cbd280055bbd712f1f18015c6b7eae759c4781d8d261628b2ad17d18bcb506a42e34a6a40226d07d34b221e84196ef2dcd987db463b1bdab2b06ddc25b92b935deeaaeb13a5720dc7b80b9988db27099f97cb5ffac611cee6a0cdfc014025ade872f581f87a2b8e3addbb8224763be190a6dcb56e0ae773f0d34cd3b1333924408f413e22c8cb720736a33cd31c0be625979eba8511dfd2416ec5a21ee6135454147d65b13546c20a01eb5a6235664d19b47cd24bb43631f33c8deb6909017fcf53a9e7f6178c687ea5acdbf2f6ea618809c520e989d978d8b9053ce8fe14970429b344220c2cc3824d4651fd95bec84a7ef58a9e61067dfb1e25f0c55cd522754453a72a01c5f36635411d5ab9181b6faeb3541b14f6589ded7f8d12ee7c7f010821f3413bb632c1f8a6c1865fc45fa75acd47e86d037889a35f93a564c5936648eb88247be0e4bb854c8f8464d2ade02e8e5c07e9ff236ba0e37b1fbf855b8b30ae5e057654c60131924094feaa72167c4a751e3287359fe6800e900df9645ac11d448042dbfde39e402de308dae194dc309d8e38e1c46941f7122e8423f34e5d5ae3bab4eddeb3ea23f2298bf093c14065b7435d83023f76575b166f388e16836f545e1c360ed727b81bb156b92dcff429ede23e488e039c0ae001622011ddfb9e237a1b160fe643303f52e27ce7cec64e4139b2b703796440d48dfa6a564fc043d9e5dc0eb6acc38f760bd62107357c8ceceecd09ea51a202ba6fad10c05c66b2ea10e6b3d23f19b8c6927181ffb339510ce8c3622b354edb474b7f8cd55dbb588a56d8dbcdc0f22a9ff6c97702641f9f7d76a189a364eca5032757842e8a75609578865b106ffc7586adf9809226944d0aac9b47bb07eaef0cbc6cbbf0a30f7a1b49c54eab2dfc8bdd5ab1ff52ea22fc19883ffeebbdb3134fa65ff397c3606f2d6dd55b7d6b9cc1dc1350bb43f03bc6e171116b41bcaf42eddfdcde42805951bd1c13395e6506b5908eacbeeaf54715a23ce0c1cea714f5ea5df650de3519ac3b4ed7aa729a2811ca885db28c23878994219c92a3395893e28959120f74ab5737671adce244bd2e8b4c7dbb314f9213f9512b14bf5922b36ce075a815aaa8bf5c5f2f59ff3a3fe4e95e4510aa4c9c53e698059848546702c5578c07b05eb0c18ea95d1decf58b5d4b09020acb1344ea88b6f96e06284362906c589b40deda5e031f44b551d92c458520085b234320cd0a93830534939cb60d82cbc80df54c2b7b04c097b2ea168da515b9a6585cb126f0dc62193ee24ce5a34b6ef6c301e970571c961bc6e541aef8ff15ae46e1ca8df098dc8fcd081b388b47bd46761f25c89e07f4977ce2ddcd4f20d0a85b3849c69b1a5ef110680c399f49ed7c4a536e28c00a67862360a77ce20ad3bd9fcb23f1fb5a97f764970df6de537d4ab0a26066d67b9d1996028a2bf1d03bd841700507c3fbaed80b13689ae3146c1b3c578512d18f75290812bba031b04c9d439e311f7609e9bf597d07d5b8c1feba88b202c26e09f479e2ae2cfde9bdfe9f8fe527b18164b539ed3bb64fa2d1df8325a6d1b02354c73907f0b14daea917446054ff53473ab4355e5949198e574481072a530c0cb38942bf2b71022c391175d0dbb4d18ac67fb1b9c4732457174345a2d44472c603340848ca367a1d87d124f1b77ce670e463498968850bbc444a1900ae1cbd6685396fec5363f42a7bda8e54dc320635d0496a684dcbd57364da59902394ca50e43d0ddfc947d64c7987c09abb92062c8105b7c7025a7cf6cc91af54a63a5e020be7c9564d6caa2d0b4fcd5de9213d1891e56e36b5910ec0038699999a8a34c57651ab9f11a3fce4d5176814e3f10602ca72db2637a2af42dd27e004c366d561c202fcff8d69dc8660b0c9ae8aa2c228236b592b68eeafd7961a5d6a74afcfe42d446f7bc0fdd7b2106c9af7956be635f48c18d669fb5a513220821805a65ebae31139c9a823640aff94de93ca6bec25eb5a5f30555f253def7c5b1cc62bb44023b5c139182f12824fe9bdb1744b1c1145edb6d73046279e5ed51fe59c38e2728355b563bba0f3f6d549c7e515c3c390a80ee98c7ff4d7974e234ae81d2096f66637bf514beafd25d4098472dc9448b75b989839d7454d652968d38b0e443b53d7987badfea66cce9fe0c931453d0fbbd17e388e2eb303f92f1d28938ba7a5cc5a9094af604e30ac78ccca2ef5bcc0d832913c616177c33bb8b411c1062e6ce9baf1c1a171067e344d2c319190c7fa0ffb7afcede7b5381ea2d5a41842fc53716ae8a6097dbf0e7c23a2d01c322266323e79f61376816e6069e844064a69172b222e259a6dd5fd95a02edb843b837d2e202cd45be50a8e169057acbd2189bed72b120f43afd36cd70992ab61e93426a6a360198bb6dbd4d5fbd481e9c5e6f32667a8f2dd3faae2244bf2cf27c1aa5989966fbd68aabb55ab55aaab59cbb21efdd7cdae581dafbc770805764a30152c052a4ddcc4914fac39134e4227df21d880b17552f656adb9a02c627373a3759cac46fce66c18cb92e58393457581db202417c2bde981e63692b0710eefbffd1a1739ba189f8f21121edd82b6f6280bf9d23ffe3e983df041dafd5e4a27961fdb08dfb1af3ff7a6ad0a6e603c90fc403a25fdc8e02f8693bf45a8900d910ab37183073b69d436a95cb8cc169cfe0af67b892e459201426e85717204ee2002e3023997023c20d4ff8f7551031c0c79486ca9d2ebab34db115ec9064851ae6f5631cc009ee15bb33a80361d5ca4f92477d585a0638bbadedf906ef59e09d02b2f2a4f88e3effe1b836f6e14dae0d30d4aa922b5d63e6c07116e8edb06c923e79dbddde56b45816dedb66e0ff1d4cc46edc0dc9f2e25d2be1ac8e4839bb994a63b1dedf36d871f2cc5aa4fe924539b42ce9cb4581a32dff1bbdd69169df0ef1c277c03010352a2d26828089fa4530c9bdd91843ca8d85a2a4ebc69ec633c528a16f8454deb0479e0421f9183a1306e3c6c1504b697c38a224a9bd320306c1ef354d56f193c2cdcaa40a315ac085bacaa7e2712416a56caa6ec0da09611dbf7e8e117523577b7c7ae6349973789a7901a51ae11d1b663ff037c57386a5e57f934785954ea09876a4f90adf4b2f04f649e6e6877030c9bf8f6cd295f8e9ad60a2058a8e8dc60fb2a28d5f8abb3486115c6f2b17d8e5dbc7ccba9977e35afe20170de6bd8443e4308586c4e718ae480a5a126792cb990e6f9bab326740a948d9ebf869b2f4589b027d1f4f0bb87e0cc19f9ffc8b1751ff13160dcb8637c0d87a16fe4cb961e0482bada333a021bc53a16db6ca0897fa51397fcb7844a5446903af91b9d41310ebb9e99a929634e5cbdfeb83895e52a353eff343941983f3a96846a268e87573040fcceaf063fc9e47cbb9d24d7468cb79bb4cd5c95530b5adb76a09c19bf0a2fa0472bc05ead86ad26b121de66bac98eafdfa28892def9261ed75e99e600b24f3425278a975fda75ec0a79ef77f4455fa46d1deaf048ac5f81cd42888b67240588e1290881e7deac5b572cfb110423d8de6dd0afbc01c580a0ddeb5d057996e9acc4b2d034ae9b7eda5b4a00805b4a3cc47e8cbe3c4297a5de741857c148b10f6b648afd3f2fa5ccb5a00638e0b8d17fd3d3fcf7b92b4f2a52c51e971984b7543cbdc422d36ff015062706d1d8c4772e0d00a3b99e8c9f475704272bdfce5c7f1eff715df5414df6b65504757723962ee195d2af0fa9068f74d4bbfae880519a5ec2eb61d7bcbddc5de1e5f96dd7cbe7fa9c198eaa39440f39feb12a485bcd13cb446ec272bad71a00b3c3ba09dbadeb39c1f2fa3fb329355ec5defa8827109f82c5de7fd72c4efb3481ea9e8b1f78ab22c3aca512df0a2d3a6365cb120f95e0f6d8b43795aa6a066620eed2ece0907c8c3aae8bb28ab9875f0639139a9b802248c10e9e0f658d22455fd8e09e684c51002608ac93310d5dd8b3208599fd4bf580c892f7b0710948734878fca91ee6356c92ff46ea3f6a2846f0a151b64733c5914aa6825928bf58d0eb88bb7f7cf89346c5de5904dfbba18e84c8118067e3d120daadb62e3aa3a911c62e2f3bc847c8f7b828c109c2df719262e67eff3fd179eb3f78b6e184431e01509afd2175c4c813c717efa156e8839110fca9805fcd4e74cc46f48674ed3732dbe4a9ffe30182ec0cf5e7d5ed9b5d002c176c68260bebd37b31cb1b48f0f121d1b2d8d87a11f883808a4df972e07b9d1bf93f571def13837a8b2392b97b23d15e94ba3637d4ceee9a9a3e15ad1056b1eaa4c6687cb77fa6af07a88bf7c93a8b52ea86fbc2e3830177f29ba80a696bec8904189eed34a551ee90a5651c584b1c64275906e5cf38605b81b956f36068965d5193069795676777845306c44d77d90120e87330f69a1f8ba47970d9b7894ccd38941449e1a866949526223676c71789c7b22625348b4aaba5b49f2c0fc1631dae493591b634a3e56b2b68af3c12610a63c7f3e5d2b1f6a0ff6d2515d5ded6ac19bc733d81abbd555592704236b90603644299eb8b6f1b8a8f98e560f4867e325665a272fc15b1a376fddf4dac7abe045e39c0855b0ed8bb95c72d006ec55e1006862cf1c8c725bddd92c8cfc56d838d7b9fe06ec960ffb84c590c52719fbfc469bf3784098abb78548286ec3adbe0dcf3eaa72acfe53c519bf5bef4804a169f6f1cd8d7c2f3ddfc86eeac14527ff452ea5ae7e015f62e6e065e6336b1f3851b9f07f8651e872d5f413ed75ecc19186eb7378f2ba57cd761af618474c135fcad91714a86826f9204f84f1b9eec08bc5d74973bb0a29922b9378e04ebd37e2d9049836d2a67517af63872b9ac9dec0a2b52c0e114e001b5c8500f62c8c056d8f9bcea946b034bd19bf90fba07417409b67f336c3355aa94ffd5c4575b6b6005602dc8cce5def21eb030f0d554baa025f7825d40fdb7902983237903fc768f9a62d57117975da2c6ac2e8815c74a4b077d0f96ccce08e5e295c0002eccf0803eb5938a64a7972de3d0867cd2b203ebc452cf59b783d0126a2a565bbdf3c1f29249da7508a6081ed9f6d81861a6874fb4a76e06a435ef65f68b36662c0aef0d1120cc3391c321df5557facc1e88ae8ebf36a660ee60e36a6e73b114c16b4ee8c9ae3b58e5a1e0d555812b9dbfe7023a1c356fa96aed705115f908ba4caae2af28a567efabbf03b74833645f6473d5c083bc03bc7b395a1dc2f0551dc427f4473097c71bdf6070aa096b67cce39db12fef3a318c1f9ae5eab0a5384a9973d1a92959a1097c1ab4636e144798045b234e6a349346b213ce62953125a0eb3cdd7060610c6218e4b4d3b8e343aa9660f14a2e03ce25f3e5dde6d8147e27282c3494011a798ed480582136d88ab7f7218717445734cde1ff9fa88938d6d13c49ce3b1d4386374bdb663b15ade322bba060a87e885ef36b4e24e3561624469516bb1dbbf15d0fa67d0e5ac30a9fb0d1edf9aafc6e8f91aa7801da8d01ba57b3cd6ab9f87178d557fc32c34f7fbec48184ab081f86cb822abe7e5b5f3fb3341133a6b8e42102e9ff0a5c2ffd6e3234ac49602282a77187ec9d468063d04f2a758caf3c02745e1cec35d6433d85b5a0acbafe1a10cc273d9441129dfc3160f2ac7e5015af8e78ec7ebb0cc09b072d0484a8f8c3f82c37272359383bc6311aa60785858dbcae07ed1bcc830f53153c1be0aa7b00b101ec621edeeb513797dbba32b1ec54b1080447147d23a3da5def9d789f8b687333fe5a5db2428076c5bbe6604e2a224f7cd3ca580520ae547b4e7759cda0bd7080b4763dec2d542e9f93be2933516f222d55e60f25bdc9715301dcd9083669b393d173fe332bb7d733802f7653fb20b8a4f0b8ea0086273d74e2628cf7f8d0f021808237edd109377d551069ea9877942eaaec913193a348762178f3e88fbbd51eab153a8765c60bcc9c3d2bffbedf0966b5f3c781c07ca7a685535b5d680e5e90a8ae767a23c5cbaa30d03588d28a624bccb35fa0f20a978dc48b8a86e0eb71b7e83a6aa35ce0b94bc71c415bbab8a51fd4fda28c2403d23537b8278cfe731a2c93aa0e16b44f5c01a24f6781c1810d1e4d7d7d322a592bb07db7a955e5681b2a02829106277087ca3ca5b22f624224d07aee5bf22a1f98c8e0f756cf90289722f6abeda074a7d6248afb62e2afa563657b70a02dce9cb681a3b9525f221246683202697a5a4d9d0a516a9164225a519d8593fb2fe0d7d8ca5160f34a0021eec26ec6f1cd5fdf3faad6468ae89d580784cbed07c051bbfce51ecacf88d15c4fcf400d26871a967bcde006fe6f26864d46187b5f80a09ba026f0d876e0ce3d1760d693e46969071d6b075d61549a2f33aa708e97be420a01225d1d718ed5e00263e535fb48c976b13ea9b64f49dd3ab09ef588b4c7eef0a906dd109da7d7a6154b93be6d705f6b7958a0796929b1cef8d833a64f675d0cb681fd33c521be3da83dbcb7ba4642c4dd575e58813a798ed78eefd4a80022613d220ae085a7abb5e1487d4b5c32018aa1fb83aed851ea433458de1880a3bf21d8f764226daebbf9634aae223fb905dce8a38f4e2b79a840203939a26b0d9525190b28850a9c3115234d06f6481a5f7a29e41f600a6ff9f8441d1f27a721cd05ec82e1394236a55fe375c8abc63b9bae8826c8cc516bafda23fed87d9c3e7764d11e00f1fb4ca90869a116918398ef848d4b2cdaa9a8626b49b51708440596500cef23400a8aa0bf1555af88135d3257945fd599a21405d39fba9f2f80650efafb277e8ae2e6fa901f5d0eb0ccc28f913d7596a4ec4cd50fe6b66288a0e3d41173b4c65b419c3bf86c4d00dda68d74b5bc680b201078c6d01ce04a42d07c141d3a55b54671d24726c50ea6969d75df81c3a1fe6d53a5c02c7a70362e6a18b06ca50d73e47a59691cb4814f8f12d96a64633333d191935d6fc2fafdee3d9adfbdade22e75e1b0305639e8e02a445e53c43de3120b0a777ff9b5f5e6fbfe2911c3481eb8f2f5e6cd192bcc6628c65d0fa1d898a6825bfa5ce727f1790216929227b896470da1d8851f0239b8b040631e6a3bf65d5b9d6c45eddef638da3c05e9db61ff7d131d2c7140d7125c0aec136120b9fed841d0b55567ae673d349b5195d4cfa90ac065ae3bbf592d40a3cc88837b7ff112840c2cdb5e119ba1cce0af45134bf77975b978939184c9d3251acc2dcf4bf3cf898525d5f70312f8a9f7994df5f0c44bbf5927ff85b9e48105740fc7426f7f39946cd3b681f4b670b353b491668b0627d09ec55858161824e4a23c5565a248f5f1b7b7e8e15b88414765873fc022af666739d38ea7d8608f7f0e5cd49d33f086584337b15a237e57591fe5cc104417e03fc28e1999690b36fa0d825c85bf8f8f9700593a5b982b8556bc9f622ed4f45c16b55ec990c05506cc58a0612f63bbb74ec71f5fe6a22822d6cc8b4fc35c478c1a67965739837d15461e08b7da4841507f31361a857491ef27208d5d1814eb63046e32a36b202033ad0fe445997686b70613b6ac35aec7e53e03a6f8635e82fbc24ef7286f0e7024a51245f269fa9c3b3117defde164a0d9493565e890638576846cf95f1852c274ca00e741e70c420a9646bf84ac17c9c89089681b2b48074930530a95b61c2db19af3e0cc71fd7b57fac4692f6021d09f305ef315f351b075b0f541124abada850482b9d0f9cbb64e12102e055be946e984ccd96b5dc3d13202bcad349bda811c0029d28d6505e614909968a708bdef6ed599c9c8e38b15779eda34e31aa07851bb70641c9eb765d3c6e860550d4c629f32b28d5e2b6526f3b9aa5db549fb17bb08953d28f9a53d24f3e787daa056d30ca2e699c5584fc81261ca1078402727636f4ce647b7dfe1679786a64ca72c325e6641e8c253e16a3cf9000e37858d9eb35cce17efa839d9ef544f57e71286df2e2978ddaf634d021ed5ee454120b180f4e1396e31c8b2c9fb98e0c08ff3638deae0fca5b23e2d0e1f206b59bfe0eb5799232dbb417337211c1bafe405a4a0ec689926ba60c847ec29509eefd280c93284d48eb7bb73054b0e483a8aeb995dd3e01e8490fd88e4e6e9caf9f9502df2bd73b75ba9523f75cf5963c894dec4fc6dc8f57699269a2b387a695c44a3ca2345c26f12761b24a6024edf40c26c8f251bfd61809c547c2b6f263ec856293d425a3a5430d525affabfb86916aff7442dd36b4a26488f1d2e85ef5ba4638f1734afdb50b5d55df4e629d785a4d14a12fe29e0f95b0515ad7a9f6109e9fb9950290af13009874ffaa430752f29ebe1a092be6557984284663308f99fc420d3f9d17647cd8520d867842e45932b7da70bcd535687ff194e25f489eb4ba87b5be5d2c59fc2cf8bb59417bfd4500a6e6237049ca6966ccf678c7e9dc609fb2de576e16b8fc833cf22b511f9a280f2bdaae8670a2ed46db221e0d2971a9ec823b8091db87fb9b65139a6062845d05fad9d8b80e6c087d246bb132f3379d72f4480babac377b8c9f107c7f8b70a3aeae38949f972babb9b303738e5782dbd689e2b515d4795f31967322be268134445515f26fce3a0cf25906f8cafb1087bfbf541b3a3685386be601550f64036e7a39438583f3c07792a99c659059bc7f4da678e7f8525698f88c12b626fb2d9786393c68d18d16946fa5b3a7224a2fd1ad51defaa5e36409998fecfa78c143c3ef66867767348c30972ea7e70691a99acd6b3ce31c32dd15e0184edcd2a21efe9ffa53ffe1716ef6fc1c5dc437dd9f21fe579cbf8051ffac121aec902ae5dc8cabaa36ebda2329c4abe7f76ac25b06fdee1df831336585c676ab6a8d8ec93b0ba30b4da4b154fe2821d99cbc94d2cbd3aa155d29abfbde0e5250bb353f82609841923603e00093584e8f2321d41d62852f0ca7cb3ac8098bdf6b7c50c452ff9910faa60ec8a6070fe2519c9b332fa6cf93d6a5463e862c5e26153a60a1c46a96975aa73f4f15bb5f3240bc3e0b1945a57400f34cc29c2ca008c4f29021cfabf5652cda3d7258768861ca1d40e9b92c82e419a889fc6dd4463615d6346c30cf46ae786aa46fd2fd44326c5928d0cca3387127f3eb8464a30f07b1c696d3b1befca06be5b35aa83da3d74cec9b056007966dba79791bd98ae5ed6c02993e716f02f45cb90528080fceaf3b4a6e46655a131ee3d38210d5fe878bdad6f50650488a01576ecc60b97f048edc221c7eb0b10b22e8477850c94c7e796ecac576ad612f3422ad08d3abc60e14dbf9d7db679325d9762575328e68dc24b4873cd9874795ba8be25874dd88321d4e6dc4833747cbe22728f087ce1ab0c024030c30fdd32e2e86d5f3889ce15c8b8675e0b0b1a370ef5acd3e7cc57892c379ae29b2e6de3d9dcb629412848a37d5b6da92bb5fa30d33ace23c04aed0c0a804e14a2dd544aef4c283ced02a17d46366a25aadb72317c7a7de8ec5c8eb906cf3f80934ce792c4048cc901e73f5a0e9473a3fb1107f0814901038b3228a85c09d2a77c6b1a1975269a9d1a21b06633d276a7f31b902f7ff760ba89a1942a267e27892053ef08097c47db06a76ec1f702b350276e31b266f12711cd56e68a969898d886777a1500789ff3b644651e826b3873007fea12b8794b2b27a68bdbfb06315fb2274688eb8e503127cbc6efd3114eec5d2698074dbb1ea081c97206ab2ec132c908696f5a0c00674a7c927397f08c16d9e1a875273c106d8e0371005fd59c35bd6bda5156c02cd20a07378de461e350a6594ca0b54929e7157ccd30eede70b81858d2c3cec30095a9d0967fb0366d3be255fc7d5da298937c9ffe043f26af463ec58d9dd5ac6a80b85e969dcc90a6212afe6eaf22476c3f17426d2a34d1e562ea6e9d1688e15acd2a163698d42dab58640b52806730586f83e1a5c97fd4535b7c17897079196e491b9c5f4fb094d7f1bb6449a660fb6545c172349441de84c9b4e905dd4aef8b03ce2988e80530a1298c89556934e8608e403eeb9ddf739a4409b58b7294271622dd43f225e96851db0609dcfdcded432564a5818cc6818e84697b248cdf9aaffd595065d2006c1f853feeeebfab89aa407daec1fdff1f4d079978140514641536568b525c0a558e75ff0793215799a581d16190444a3c661cc1dc3975c5be2766b4a9531be590cdf9d858c04590cb1f9cd0e654df03e8bbb7cb776047ec15fd49e912e164b3c9e8aa703c76249e74d9230a7fd16b8e1a370cc279fc0596a05bedb091bab548cc15085b006236d3ecda836ad8aa4beb65cf20cb92af008a2ebaa9c24714bdbb76a0d85e1088d03201e77d8cd8a518c7791190582662e29150b986b57cc40745fca070edaf6b434690bd1a4e60cc5ee936d030a8a961dc198436ad4506eeba8a40506931ed22064b7981af050aaf240fe6b786d8f2aa80ba9713f615c2083866c471c000d3868e5ccadd8697fc51f076eafbbb0e0d5cef8078518f89adac09a0f00579c78e5a781b9beb0aa825e0894e7f14a39688caee49787d7715ad2964cb193d004becb5e4a7c6217e0cdba47417568bd0058c541635bb073a4bed9c0a40bcc3b1e35e78a1951cd25453ba0cbd68ed723dade00d63b8f318f3b017fc388cc80f078fb493158118c009639ae52fca867296a7bbc82523e45ac9488707e5720b1f08eb696920e698e164b204deede0deecc82f8358e9955ac94cdd086621bbe8337dfd29ca7ffbde2e2165fc5d525c8bbc32e4bf8962013b718606e4453ea068effa8ba95be20b12d6514d3a66fb8f1c42baff4c5e0f4c3abbb6a445ecf41254292bcd3dcb71985542d124c48b458c3b6ce1fb5f8d646d6bbfe2821cc188fcf60be9ebd47e3ad19c901cf5de3e049dee6ecbb13a209917f777e15296cb8fe9554061d9d3393f83370aa7927880def49f3c9767ef697473c7ff74da99b891739e55c5b2e9c712ce2de3729205d3972392bde095accb86a4a306973fc7d75d19635699dfa6ab434ac7499282b75eb7b41a885445f8b125637ae7a94454bdee4c695a99cbf761e452fa6e7e5f52ab2c48d524d5139e3306ddcd3a5e479cde1532a5e7f08481e8d12344ff21628bd6bc9bff7e23c73168f894fd47bb290a8e5cdc7ac09b4fad739e5c451db2a097713ab4c7da2311f669822b208c31651fa9f35e3a1314ddd86f8e21cbdea03d485f88b2f0874d891662e9756056d12c390bd85f0a33c2ec9dcff1c8121aab9dbc01d983f09b1012677b7df021f5e5b4626801a0005fcbcec3d7aed3b3f4546f3d99165b23edce07d383644044ad85a52a48a0e0d2c0ea7e9755f7b6dc5a1648ef0238403b16cca5937f6498a100d4b2785d28de3204e47a4969b55f2e3b3acf48b3bbded2bfbbe525f860a49214b4bf49ad3da93ab6917e4d77c30002b7536d8576d9961d7fcb31d3d5f918d1101564a45f2a917952309112338a2b100579899f5bfa3c196a769a96dbbc08c0e54fd2079a79e095c30ebf211fd6f6cfbb573e022e2b9b6125b593324d2e4628c23734a8f149b641c86cdd06970f2cb311c6a98089fcd29262e8972cec05b06d52d69cb3845becd23b9754914677b9ad496086d9a8ebd2115c0bc55926037f981c19c99fb0c5e9f43381a45a71124060a718da77a497ceb9ae8daa62e99b48ceeb047cec92b0cc28c8a3345069492f15006d794fcb6519c5682e787d03a6eaef89d1be656535d9f3006ca8e7d5c4cf63879025ce6b7cd1ef5371cb04ebe4e59d67176bee4e617185cabb94d74af49a78cd9e3cc0bed1babfc05f5621db0e20890a20c22c69b8c9c38aded926b484dadad35abeaa0b100720fef311f0a6e5cd9c2706ec6b623673a952497839202d7fa98d618c9a5457fbfe3d89e6cb7edfc6109fec33a5fd64459937c31b55516f4c3bdd550eebab6704d675591319fa3e8a51cf7358608de18b42d21e3d6bdc83d03475879a6735b23fc0792850ece59e0bfb308309bcaa274c491b62741c157274ef8b5e532e8d13d625a9bbd90cbab86f9238354f9fa6b5e9c36316ae40dee292918dfe5203b195859cae53d38d2a640a6428e3852cd64acffe92b787a5fb2743a448477c8b45510ae73cb4e6f83c8932848fd5c62da8c6a6930a18577bcb3bcca5c2073580179900f7c28849c4c80067a8dd768ba9aa58e89a8ad93c861be3d4c428724056ae53022c55495c607516148c460772ad088f8938b575495aec5adca17233abbf6d652fac41a3b9f0b5fb6f918c8cc35fa5a558dfb4271b3867833ca9319b6df3cf59fdb2ef0b326ff08862df891ceb4ac1f1a35848b281ef35ec38feb1125d2b0c5d5660d42c885c1c185c4532a5dee55b2070959d23be7342c0196f969177f480384ed298febea033bc3166cd31c216b32a5a3fa5366d70adff2b44a6f2263c4fa79a0a6541f9eb520bb86f46e755ec2d0f212d00e7f2e517f532200ab5283491099079d19f13bafa8a3a9bf40a51edfce4322315dbbabc97734bf9d17303bfabf82626c9edeada7cf839542454bf25ef41dd72b5e6f9a6b4d48849d9fcce756d8682bbe0a8ee0c1ba4dd7dd8372e12637f2946d41f0570e0b05e854cbfb67e91a202830bde144c7fb42a14be307a63b5b471762373d74e3e72790ceee0c6b1200ffd42585443258b15ed957fd7a13aa66d57ecc3b75cb21d136d0f1161530ac6b8dc865a95e7462ca25265f4d2fc4c3dacf36fd98af41158d0cb85a64c1caa5ed9f42ee5ff989da3dea1a48945ffb695ecb383568755080f11cdc60c7a26c9a7135dd994006305ca872e5b26872a225f4e69e772a3f629f5d694676b676950bcdab2e7dc48e6928f6f18b85920b860f6846bd98336c7e9acae0a684edfa28ba0c30963eb0fb3c5731f17d84afc4b94ab58dd1b38304906bc1988cc5cf7c4e59e1b6493022a24d4e634826780fe3f97e9233c07f9ff3016d3a1637a7a29132af478068e179b945b783c1020e2a0107f841f648c5671881464699b122ac0a562172c175e7c8bfd3e7bed3911e77b306c23ee3e688cbdc9791b0d80e818ed491bc1a539b03f148cac909443c48602bc70170c7f7debeb1712770ed8476cd60d74cb2dda9bb1840c08cfaf1d8db497fd47c9acf004127c9513fab3c5e80bee6778bd4e017fb91f62aec333a6bc892a0c37be981b65425ab485ed020cb8aa1aa6ddc174aea3576742fd370de5cd594814efbaab211169d928b21724a8717f052d4b5aae4c00c53d9c30cdd609860f5512351a41eacf48f4f338a52aa273aea08561911a62eb21ac76b63fa71a1a18f3cf67097361c99b8f331f45f151307c8e455cf44525fb07670069b7d24133161a04390f42b9e3cab9e66f0fdc3bb51ec3c0e88d285ea8715cb1380d1a99b2cb104aff822b00b09ab26254b23870aa04e8cdde9d6f0c0aa280709606d087053e27691c50b25cdc04c260a1577614be4ba96c5fd986c90bd6be7d01d4042ad01b705b0d0a7bdbdc49f8ee1d39f998a698d3674785001057b921a5be450f32a5803ac3659fbcc6829c6bc2d5b5bbaf47a2db9cc45ba7b073df0d580cc8a061afb92688e1d06a7dfe5a594a034005ddf6adf38a59123aab1538b60028e94a1d90fce086957fc5e5f0d0f2ac4b26432eda309f3ff6fc698811b3c65e0e9bf86a7de6b57d54f028f215433dd05b08e1249e140ff91078c0fcb6bbfde7adc1c83e3ec0e4d0f0090a5308e4c78fa49b4e0d7a40904f98f369f1aa33c3aaa99b3f9c6f0b64ee5d1251da8dd251c5c5d0ece2b6973af2abf1cb89c55dae17a65cacb812f41636a26c88715b4d36218fc53d43182877facd9a875a4ec7debd932abb3ca5869694e1b5eb0e63bb25a6a11249917888851f1e6a2544ac038289ddc778688ea57bbc8a914bee3579557fbb983bfcf3746f68163a1851765ed53694361dcfd9fe7a540680f94fc6220447f3afb284d092555a6797a1619890f089bf3f854600bf7ada1d675cf2bd44979c49b515336855ed731aacc49c0583a71ecbdf69c6ba2a88220ffd3be0d62e6b487779ab82ae87552762e263a2e4ba50c6f1cb0aa9f0a928f00ccd88c09aa256ce2bb5e1ee38f430a08d41b8a8421d69b2277be4476997a6e03cd16396f53da80363e90c78652360a2cf54e2f43dc70bff0ec9b4901654d7b3c2f0977a4e30f9d23a02a947472f4639565c6ba02ef84885b97000aff21217640c9372a9522af1e8703436e7106d7a70708bfdbec8a02161ac5a2ea4de4d3c05dd5e5550c13d78ab4bb91325eafd28b0495900cd50ef3c450bd602c5744c853e04f364cd15ce52e5688eb224d37fdefb49a9d278aeeacda1487529cf7d8844f404ea50bd69b8dbf228277460fc993cdc2071a330d926bdc5120961713a0aa82abbeaca49fea28467db5c13742030c6c75d8c466820554841303e2482f71a7cc48cab525cd8b2c592b28b31926d10ae77111d37c80134ca8b4064b4b363b09204fe4643f98c0af5ae073b618ca0d321c634863f4d37ddd524d67a3ca94170cbc767ec25ec420aac4f70ac0c500f4d95dc715e01e431f07e7309b1cacd23aa1db2a729089b7109a209bd9bedaa25b8fbb351c9105f0ea54019801a4cb0875dd0978856f3ed97392b8a0f0ec4f9f1ff852c72eb29ddf152ff50d9fc3ebe5dc31c1aaa1b6e53b28df531ec0559487c512cc0f5302c9a4689dcf9c4fddeaf4d558b55b611acaff1081933350501e37583688f26c97e9d1690c0c6d90e31f6998dc2ca2bce2c619705709a562cbf2ae35f7be11919797c9beb3ae6460df1f05607642a8d1f4b9dec030459e1483201f5e7d07b76c475cec0422a35ac5c771fe8093ab1a714564c15798ed8e435bcff8cb8f019aba2491a14cb8bd853777ad6815a38499cbc599b353c2ed8e48a6296fc71a3cc97a030eca47a0e7faae02c18063f14d95504ec1dc0808b177bd79dff911e60b302bbb78b0fd92db44b769c81fbc0edf4090be402dd0b8b6c21812019b830f99374f4f8899d3cef6cf583d0229443553cfd63bda0a8e1edccb37865856f92d9673ecd9e2d972bd828249df923c6533e796dca8cdb55baf9c6937d0f7cc0b3ca55bcf8a5883e62a1c0b7798a06a8947076cb18438e8b60e287d3e5b33b223c6649b74423e7e546f62536b4386d0a52411a16b7c236cb74bc92b26f4e4b45344591130fee7b18f9f28d5e5017402407dc0fa157a30b8f7a86ee51ed10ee0cd076da7adbe0e8853cf9d31badfb4f084eabc334bcf3abfe0b229fd504c8c14892b0134a1289022470aa5e60e2ee74f7172e4f87fe3b4569b2420b10460bac9213e9820671598f6758b400555ddd65d386d44cbaee75ad7c8d1ae4acb06d9651e7378e182e1220cf00bcc62f1c88518addaafc3e579ecc66f066f32bd602e2a8530fd42ac9bb1da1e8557ab0f04d93f559f65e88751208bf7a6bfbd08c55b41b2dd367fb57f2d21eaed0a401b0c42be3e435cfa3e51b7cd39f49a9294e8257da1befc872f51f153f47cc456347a37c0102115bbb42988e50b52d849f3ade0c7a612351c3506994fb8a73a6372f19de14464ec4e32a145fca78f15757b83b0ec3542a4dc053600e7111d50ddc078b04c23e2009f00aa737168a7174f43ea0509439cbdb245248a4f4a85db8ae5b20f56bda4d01c60637139ed42a3b96369b2fbc36ac655d96b63bc968a329394e48f82c6cb1aa9de34713c566fe4bd2e790582ff03e9d9bcab18d35620a0f3e943aebf602f719cc487864d27fbef162c48a16e2c8c25a84a8b2c64aea564f57b530877de9f40d30b027c3f33a45636dbbecb3f3659a4043993851b61c3f3958e996ed520dde046e735c6cf04b58679fd07d1dce50cc38b7bb2acabdce1dfccf71a1726237394cbb3f22da75321fcc1340ac2be777bf04e79d7666dc90bda9fa6d33676310de8f3a0dd292b2297b0321fb5bc47c5d427b84727d4aeba05b6aca3764086ab4d313327f4cd7cd9368489a270b9a8b4e2a7c16acdc582034632c8fdefc16aec5576c7738e9aedbec1c60f0617670c8b3fe4968855206ff78d6386bc82548a6932779d2ba6678eb87215134cab65ba4e88be4e37bcda9c9dc04457d0dd0b39abbe38a4c62ab68578a121d1e1dfd07afe1508b7bf12a60ca4d7499e2989891f2bb3b51544e68d1f51dd1381b749b0483ee988bc3d7c0d81feb4ecf81db16aed67b93c9bbd985b79166e6ad9d67317e052f5b7c25a77977ba86b7fea2b8cfd15880b288424b2b188d7f97e413e300a6a51228cbd241d949ca8241e24e872cc885de36ed2b57ff3cf3676cc6d8e9e7c2ee04aea8eefaddfa35b1616e34a718f0b382480869c4974c1075eac142d061be100c6fd1c1c6b80abf72382586ee195dec7034d013c8b8c7d5fb921d21c15d9d0861b8ebac7466b5bfa0fb95dc2106f4d7033e6ef70a9bf949e02b71b1bcd49c84e044395638edd5fe7c1afe313a516635d1309ddc6de03cc18ff51c384f1ed2cac163249e5a21784c67ecd1ee878883eae61936e6e1343035783b2840c0916fea19dedb69d335b5e95eb51cb5dcd3a609b58c9f262db7998086fd9d46acc7925ba803142864bfad8cdfb648c251d29c694d9c525b70b6e7cdbf08173cb253d1721c8a4407d3c465dbb6da482aa268909beb94205ee8e2ed9c7c9299c466b45c977e63a8a575e642d07ed2a090ac9bf07f7262684f409230c8960453351e1e3162f8b6d9f0d37985ddc950ef1dd094127995a5eb3b8fe16abae8b96843a5800c30e530c2ed4b1e3ce1bf49d1b3c58910f7042d4a5bb4de087dec4c9f59543218bcac57789f1beee09f79670f42590379e741ca9d7fbc53987d4c754e03069194c59bfa6b69e71e366c24e5da1e2fd38b0136ad992e241344278d11c363f600e1fe4ddf297e04ce0a8975ae2585259ab417684c24926d1d4bdf41da62304c2718f48873d7883facf782a1fe11fe8f43d6c41448b4833ee95a56325c05bdd93bf3f5d26119b7a0cb3d8fef31edc4da2141f436122383e580ba224f4bca882887e7fca4e62d6bb46ed684cb0e95740ca839e7778fc4769f9e15fd4adef9e2ee2b1b6ee72c12e8daaaff75bf339141425ce13e7929218ff1682a0baebf409af6ea38b45292ede4820c00a61ab9fd3b24f229f01918c8826ed547ef2f2ea7e25cafb2efe10453103698303eb5575a3b4ea375b4f846b32aa3d0b043cf2e80525a64984d41322c6fba69ca6003ce66dafaf2df0b90ba73db97093ebb96ea2322f0d07ed8fe3f6602963cd1a7f9cada3a0b092471daea610928a31b1dcbc0d275ee427db727e4aaf23b284bcfa5ef799726d857d80d18c41e0536edd1437cc0ddc628ba7794e714c596dad0b1552dcde029e0dd47137a078880dd17dc382efd47c2402f656207a14a1302f0a5d0c3ae9ef4c9932fe6a5d877a9e9b98bfebf52c271c4e476e533c220166aab3b7cfe15d8cd84337b76621313651eb27444d0144ec3b973e1722021f3bc72f93120651ff6afdc3dd99de4536570bc4acc1933b63caa6aced10f4a84e4533a740dce9e9fee5072461bf50948789c3688384b0075971de61d073b9a910dcd5c85377aa625f963f1b12323de64d01bc77a702c1d278406d83cd0b5278dd61a5f013d9270f2790fc60f7b366584cff8619973cdc8011f99dc28c6adcad8eb0965783ccdff94196238c6303b3aeaa3c50b8d785dce52e9780a7c6b9191b5dd555bc247efb61e42555108cd465caf86beef1e1fbe834e0205e67a7d4e06eae1a3487c45832ab3685726ca9e26af26e64ad0654fdaf547537ca455fe3e4638d973ed99c886c7823899a05716b297a2c52ba14a941b86282923bf4bd3d3b520c22a40d3830753e31b86e3c8c8977d519e90b30ede8261e720e605e86c6b923149ba6aecdb6436e86742630f0bad1f193cce6b105485a4a8be2a291aa2b6a1e4279e29129a1c2877da59e6ddf0db0416989c4bd801689337f8756d0c09609e3700c9f80faf98c54e489dea075a3bbf978939f392f6eeafcad3cc514d8331b8510901204c82ab6d5b4e5b96dd044c33b374b705617a3e062cc5a7df61176f1ca9120decab52e0ed17d7678c3131ca5c2b6156b607aec821f542df1d4b7d608de2073bd8b3825163b2706dbe2006676cbf0710b9c7c829dc6c867b54ba9200a0aee5e9ae33ea481c365a4dd82c0e950a956a60b7584349d4d706c6cf9b9317062746d436e80007e5a388cd8cea44c855d637cc4352b522e9f599e571733f0d62ab3fd2a32d9de03ec672198bc303a1bf9b7374ac34e89cb87c2b503e665ba7fe2f22abebd35ab287dff8be35ec07a918616247c2145354d8d1f2f3545397605dc8d4e92e35075a82652be1423d4003122aaf9576b28178409d44ee20eb160a54d62f7d9573fe8674e2433efe022ba03974af29247f9d884559ec50506bc9c3b34935d27efdfca1f40dfc0479b93b602c193af3c735a67d7ddea3ee185d609b3f4f89577fa8ea7de2153af81bbcf06e3afa47903bd90901dd3872c18a667849ad56df275408cd6a9af58b7ffad08e7e4c0b1c5275a6ed5f07d0eea4ef561cae965ed1f3f059fe925e28762814d1545bc55a6836dec3c447870df61a731f72ee687a9be3310ca887258450fedd408372c9f76b9ccc60ed1ff5372fabaa9571ad16a807aba3f3dab092278f965299a38e7319b947d53a598f30fc5b6607cacc224444a69637e5a7ebcb247f2863fa6a84d1ad25e268282c348223edd3b8bb979a66b83e4535819a5a553878a85b7dce1332aea17e63e6e6e4d757ed833d2eaccb93731f0aaf883c2acac0d435a14eced7d427246f73fe086daf9ba2e9f8e913606440e0cfcdadd8d13edfb580620453c6fe6ae44f31cd28f432252ba4f0c1bf9bbea1b76dbe843e3cff7ee65ed6b6384140340fbc4a0cd414d61a234dfe188790f52da75a24c989eb59193a6aa5168d0693c0575c85014239573be1d0beaf1a766ec9d58ae4aad6b8d9fec7c9707e0a9a305493cd15e6a8ea2e73d6331e1fb917867d3345d128a95719e05c8a8e22e2a497c81e5450145fbae63458dbf58abb7a2b02a0b5b6f2b17edf4373ba0e40949d30320089e77930131245deaab96222b66cecdc7e70c626e9c2705fbd653936874133486e077f6eec32c6cde5ed0f93f43bcf45ebf10d7ca6155397af4d2e846866b5fb70871e24c600d08c8575cedd74753d4b0409c574b24d167b6b620b4d01d4b0827a37a8e75db9a162a426fac98d9253f149cfe6bd0ecd265731b3a8ea40aa173f7f0f3577e2b08f5db9a5093977bda2c30742af6638b80c74f9458429569fd58ff31ff3820252fdc52060406aee7af65618453fe0638df80cae0d907483e4199ff4db7ae241e44668ed2747b865024cdcbba67043a7f2d6b3998a10e446a7a55449e58224f73426d4144f3a16b691519ee5a9ceaf1f3c124fca8995e6f22b722786b98302f4a69d84b6b8d3cde1e637b7c20f11fdce28fdc66b24f110256582f29dc73c098fc85dc7364c4f8f9b5011c715720c660aef565f82fead7fb7112d167df0cd9b98b6b3bc928d1887ff928bc779c85b2a89e303bfacdb50229ae07a9282079076dd571229ad33e912f0a1221525a992831cfe62b3daa2c54d83a71c7e2e937ed130af9c61c543e4a1b0c0c4f1acb19e6eb06963cc1040508dfe6451275ccf77eb8dcee6f804326a601302f6d79e837049fb62b153d3509dd689063f92c8295b42035cbdf865274c73692dabb49fcf09ea591c978a4fa788d260ed31d6effb78b2e82a4251850731142dd008195fc700e2fddfdde71f7aaf44ee383ab35c97bce2bfc446962d27b180267913f082ad41da9faa3da23f59ba51500d468aefe1ec9225060ba4e4d4a8967612d69754ccfb8aaa74a7a002ceaf2c307ea6c8c6f54e2d712a5daa8da432087f6bd91ee566816c74a7db2f5de828b34515025e58c5170130428aadb454b8010b9703adbf7d27feb33a298eb41f1137b9bf1b78d3ff4e534712866acdc65e631bf89c616d607bc0441334c779cf156cb3c0bbc0d0e7df5a14a089d0412b16e1fa2ba996e1ac88e379fcd543d0059729a808b98c0958f184eec8a7d6cba210d5f8a6a71d7a070afa74bb76b0d71230b6567a1c2969c2ea77f5467a93b2bf3760f6ead5ff05229d36fb19e0075138da8618491e282ace180e08f7e7d504763cf834dbd38012506c3e0f98c8a3f05194a44d29deb308a1ec15b8ab7a176bedf6d867cec606d9fa8a8730192e710bcb7741c3140bf6e71da0acc847ae835c3a427d77d86594c14a5f216c728fd77522e474b37dff0a748f238d778ef3fee3a637ed311bcfc8292ce2ed22060ce7c7048a8c6dee6ee0e0304f94f82b312202e9e0f25cb49e14a08e8e3eb8944223ab3b01ccce36f5743b47465ee136191c7da8475eb7a2d02839d0dc1b09cd12cc1fe9944b53dd137744aa222c8d89b3966a47f037d9ddc1e10c0169b71e1f2c0a326502af27f2c12c77e672e076b5aca6171019cc120b2a0eb49df1efb53016f1be1ba9c0146c70e2f15bfeadab5cc5fc562db146110f3f21322b1c60a51d26e10eec5aab2952f5cfa6e7cd2d09069af90e2049ab3d756d051bef44f2581240d0078452de34b557056b72acf6bbff18df89c497d34badd6fd598a83520480e6a64280784a205e99ca0c7d023a8ddd413456d7e28b6fa81fd6c885bb3fa16467041a9d73bce71790d7867d13f412ae40118c925e7ac69a9be3e02b5c91a8af1ffd06eb7462e7474b109fd32f163ad29f36e81ca3ba50c0b3c9448d4a944ec6b112f450d642ba4475e119fe2452d010e05d18e4a78d669b0478e255c95a2b98294b3bffcc7fffa16cf2fe4b4d1331cc1193b6a878bd211aada4196fee7ba3f43e362c65fbacccccb0e75e45f8dac83cf5d8d6569111d1db27941d32130dcd3c92531746fd69cba8b93676fbec5bae99f8165c1dbc3cfd62990cbbb00bd23ff996791e9ef2a63da4543a11c30dac6a34ceb85d21b0d0a90c4a7b22218a6b5c2150a4ed98f80737f0f99d3253c7629e25d47d086687946d2781fa711cf5e636895b969159c2fba22131f998fabdd773b0fcd62aff32eb0704b25ed1ff2c15a99fa0ef22d55304ccb1d69ac3b8e4c174750275fa69946420a70bdc785c8aa32b02b537a6e608b3a832c10936bf5428a551eb83cd89a6651aef7a4fb54edfeb772c1210bba439c4799133c9a724babcbf66829456be20373753bfed787c3636916731945fae71cde827cd9606ee08dd71ffa5a2b50719e0af556fc874c116f19091b6181f3595bae9818fb2991c45c03fc7d15ae729308ad1184dc4d298bc0cdb552a4be1b4727a1125af4644f1890e12f2d5ef56be96af4a1c641339269e5b236fa1906901ec58d5c3dc39f2009c455e91a1a24fdc75ad64870ba481336604ab5d9b452b865063472c7ac3325658a46e81326ca6135e566770720c767d1e796215f5283ce6dfa3186aee30b8ec33c9717cbe232ea438692d1f58d27ef7472368522db2b87366d5438622a0c76d7faabd8db4ac9bd36363658f0e51cd677c6b8d525dc115c417ba38e781856a134fa49b8ef2d1c8bdc35f0d9652bde88f4e671a4d81aa279f0694ed6bd08f2dcb858dc39dbc34342f3f5eb34db2ff242dd1633f8198695d07057efe3e1bfd24a1e2fccad161413cde2ef7c399180a38cebdf1ffd38a0325e2c24c61d9fa71f23df34c667ebcddc38d16ca4871fd0b4d16d5a53f8cb3aa87fde6f5d3c14936dc57602a3cf509748b19731722c67af0c723352e2b22e19e5afb8abad9e5931e7ce1c2dd003dc0cea43a071e5f9328178d1e9247e3280cf4cd3820bcd7b480def71fb4d8ce77e640a9f426cf6fd3ed2efd52d16b2bc2ee240eec5d5164f9779d4bdbcf63716ec5734a52757f0d2352a70bd65a64c3ddaaefbdf8c67fa2de8f6e942614a0076de5946646aaf4fdc52738944e0ba4f3ab58f404708d24c53f3962a5b1dc4a9c83f68fd6a6ad059384b77db71d7833c967525ab565ccc527aa2b1cbe50f7529fa1c204d6ca8ea8e26f168f6697b6cf5a498ae2128ef75f3d6c65c21bcabcd4ac0ff749bddee8790ea016f9819c0bc6a43f62335f5b5e471b43cc623125731d7903e3e2d8efa7e67adaaec8241a3e4e0a0e07cd6df2c5ac25cba224dac73391194541e1aabfa78c58adb0558db28bc5f7e62f83c8abfce876a5b9e28fb57107ef94112c9626d2c2b7330f9d03aaa326a4706a05e34073750e59c05760ee60dc740141aed390538e22f3a621b8d0115be10df45be060dec53417458e61eb5a2c637cce5f88547f8d0f72454991bd0a9fb9ae9402807a397676b90a1910a0cdacb661b06b463f6220ec3893633ee4f5f0f05004abbb6d90028ac6016477975694778c695c3bb94e222a0b79351efc1c8f2eecf225afdb1f1efbab4fdda43daad81190fcb3f815047283084e9be14df4905e95044c3e1ed6fe625c698af7e994b2ddde9ef6348672e7bb29537cc8185348f5cb643cf9cb703d0ba956900fadd499ec1e2d65f1e1611063432da04697a58609cf8f09fbcf9b77c5c4ddafa2e1b3c4da0411f99a18c23275b436432eb8d9fcb87e59257484910d81c2017a4e7d42b758e5d93bb3f42a11d8a087b587719d5494f41425f49079861a19c58ad48936975af3b7423d488c8539c60813b85928e2e935863192d8534d40ba62914a58663b77be83ea0d185c0a0d444c5a96b1e330a737defaca94cf66354c0930158555fd39560024c1421be1f75ac3aa6e9694b20f15bd09f528e1a0940ed71fe7c845dc867fafdc023a1982b79c6b30dbb67be629766b67f12dd772a3de4252d837c6f40c5064a322b205f870b166f412534989cb08bc31c0fb43dc1099721c8d3d1ec76160a67baf9c55f36b7f6dd579df14c3f7a932d566186ecb3a22539d54b89c3d12e5749472b28fbfae0da2988f4189061f471a79783c66221e87da7ce2fda8d74db7bf5179ab94a70bd7059644b779ecf8fdff08480fec0ed4b190b1e4adf28cd152119ce6473eaf844ab82936f626b2aea29b2378c40cc3b4ccba81d22ad6df696103a635ffdfb62558ace9c81f2c2775a24445ef0fb028c4876a3550d2b40962eaf9089d897e9964a8dceafdc7fc58f34d30797b81614655def1b87dfd6f6bdcb75628c8065d5c023a53c9f249367439bc846354fabe215e3eebf7622dfe3ad62daaf7fdf5dce7b89ae87ec98a1b3b37afd6aa6d19bc923235e3f801c4c0be7eeb8f3b616befe730a8ee3ab55dd6399cda97ed945ff1aa4d40cec8b9ca6f0909f829ff039cda3a4b0865c7aaaddb6733c96fde0b0ff711d57c8ebd91fc9b0f3817a15843770afdb6c5408eda8c37029a1ddcf4c9ca97265f9efcb33561dd69f49f0946e3ec797e6b668aab066b05cd73a53e6844b711225a3baf3158b5b794409da808235e9d40c9749a2e3e7d4d38b9013b008f54b772c0fa9689d515c6b72945103a3cfef557b554ecc6d8f23a04d535362661df7b3d973383b7c7d238f024d3e78899a583132df3fa105c3fe44647a1cd0663a8349c5e5a7ea5cf19f1d1e188664d7b00c25ea7bef0b6a24993c8c0e56f4a80328536f01d5d4a58df5f228e0145fa376e88df351f88ef563408e5a445e9df3f4e90760f01a2065f66b57a4f402360a469a5b244337876c40d345de96dad935514d9c53b949c8a5af4d28672d02aed7bd9e3becdd7cb7b49a993625f11e172f75a41e0c464814028ee7e3054128b4fd5189f760ec3b0a91eb72190be23464086bc1f4924bfcbdd3ab166ccfaf50632c42b2a4e06cb8bd4a0cb8dda0f646300eb3abb0ab69388f7c022455d32840c487cb3a4ea1f4ba72008bfde84e061b834b26706203b176101509446165cf03d3e2ffc248f922eabab0f113f920daf2411d01d11bde6f9a1bc9ccc9e057daaff07c2cfe63b10bee96d71f4e0c260396413a87cb98772f4cd8c6589b10c5311b963113ef79ccea64f9358b2285ff370accdee02d1c7bd5fa78d3730df811cacc19ae6dc68df56bf152a9706235583e0ac3652a84d8c6ba3a90276b60e3e1d74f85f47cfbf958a46939e9e746de5ecb6ddb504b4cecf986ca18601c956539c02781294496f118a611ed5fdd0bed94351f2c681a6c19e30efdfe175ad04d743be682baabb8e39c4c26469aac45b73d2e461c7a900e6d30cd113a9cf86f7b81fe3ea7250c730f4f3fd2c55b0db98f348a1044b405b09d4e187732d60d4199d758033d9f91897db88660d72f7d52e821a0b8cb395bdbcec232eccc4add3b37cfc997d3bdc1c5d7aab4b2fcfeca60df88f88084e55b6c4eb4ba8928b27eb9693c6e0993b21cc8db36ed94c51bbe74d595322619e517b524d4555ab27ad9cbbe6f26ce98d09c10680c79e0ee6d921694d0f038e56c53d6951ad7b4e06e47ac2bcdf37e0769498a536f6a575f723f445252f494a7cd8d0ea0988e407e0322e16d0471d91eb32192ad9e89b758ebb0298c666b5440009e811ecdf0a8188af6e7fb3b0f4aa34ce04443fe6aa9e56bd353f6780685a755f5ba009cd59b109f428c5471bdf8506686db35096d5cf1779c90fd4f23d4c9cc31c3544331f20d145ed3b30233aa44fcfc950b0c2e0c9250eb00179dd20e3d28b605503f522dfe8d1c84c1997013f994ea795db2d84964872ee26f3082ebe1572f1814e72adcc2c4f180b3fb897cc002f661a10f4879a52223f7f7738a971ad5687df92376a70f7e04eb1708ee585e6ea6c3c146e3c7b5f9a1395ab831cd159e182a0968b3cda3222847e66039cbb4aab37fc23d93b81772ee5e52eb03e8330c7ff02df88b16674589ab30f6dd77ef410fcee4427404b334028ea85d15c331989dd99924cedcfb7d3615f2ffb8bd5097d13c44ee776bf68a8870799c4a2b19d16346cb630546991a5cb62019d9889de4805d6a206fc9037502f8049d2bd8722353a3ba21d67d9ca091d962bf3b8ea6468f0cbf1c2a88d698dd1cc0f0c1be2e6fc4be0e603c3b93088d4f5b8b4138889d59cafbb1eee795151af3ad2072dcf50fb8e279f86415df001d13f949368a37f6ae0c6614bf17defcd0b2a547d21d5d5ed210bc143e3666900c311ee809cf651393e3070b169f53f465688bbc0e2f69a304d2dff04a26cc50902016a9458d67c58f4c82634bd5c90048008dea5896f8786842c26e6f0bef3b72f2b5eb959f33f33ca3579ba0ad4bb8a816795cfd29310d1ff15973583ddc0366955e03b49075db6d2e6f1f8b76249fe81a1a938e63f8fbe5d77c410a4e0b91065764cdcf9867fed90f2624ab23a5b101bec3c1b026f19f70d629a82b26ccaa4f8007c9989fb7a6071420fe34b90ea1985043eae2b198d01f1ab3cf8e27c380d2b8944c9798e0e45526d8aa783ea71952a0a7df47fb5f9f2b318dfa80a666400bc525a0aa8793374ee378e3132a3a591af7fe4315236efa3fedf9b64f3994a626e536f7d052af995b19185c2a1213e53908680cf2797f03c4a7b7d2d3cefdc5ec9318c7183028c7cbdd9e6568e0deaa341573ca009cd4731f50bc76898a48a81271960561e8b7291891a20cc295229ab675c46585a79f418e1a15375e6eb1f4c48e14db69e6f09a276bb8bb9bc069fc2c07dfb6fbab44120c958d502ee4501877a046acb16f247cc11c2de520417af8e53c9d3b2266099743bf056e0b186f4324fa6fd74d1de55bab655132354895c8cddd76e91275ba92a24e07d1e596051233f3190f3cc865f8d995c4b486ed40a5d0fa2bf2bec2565d18ad9dde4f7d4d1f83532cbbca5845d6f895d0c2bc416c77a77a5b996f96045e87049f7196acd8d8d655720916d0a470814ca7edfdc9544a4cf4f7dd0b7ea43f897f92ec1926b1e4198edaab3ddc5d4e99f0030c04325cd1b704240b81d1beef571413eec1bbd8976566ae56c7ce6f00c1fad55d153c63ebdc94fc80a91728abf15338fd1b1d0902940a87fd6e0ddb75046b37be77e14fc0c5f86bfb97b8752686f49cd211d3143c127807a5ea320d98d0f8f8c47e3c6a4e2d5a9e9f80668b3d4c09f15ee4e3bdbb9ac907494f15137bcabdf59cf8c2c9b320b6dd8f00510d64eb7db5f1d4845f876a01942c7ae0850a91d2612124192c6f2226822710f59b0852804bcd2bdf28afbd39f6c2baa3941d09f7bb942eaf7f3a28ce721536eb545a6ef99df2de6486f1b11a2cdf0d2f054911d446c86e3b367afd01aa917bfc7725b87840870fa6bcd562c89efeab32d7ab2320580308810f6df3e535bab77ce8a0149d222fecd50ad32443753f31a1978c00e6f4b26f10dd757c931df30d85ddf97ee17bcd3844de49427a62f2a277d36c602ee285f173083352acc86405e84441de0342f299225a069631fcc33252ccf8f9163abeb73cf50cd62ac4dc40b75d2a182663b78b14a3b764f22f7ea99e88a7a09c1dc2fba1a7d65c8e1fe99576715e8dd194b603cc25652f6ada57abf29c859b79e360871ca827dfcf8c5de37a08994c6862caea7ad25bf6b4b21d16bd1ac7089fa0805ad50e59d6a53dfd4dafe3e880a4b43c463fc61cbc35af9bb9c0cd020fbc38d6a39c52bde308b5a9648a766fbd947c53f8e9208d470880d7c8d7198eb431b44ce6963121cecbd8319e58aead437354368e2db1278219581c2036baced8aaf2209a746d5e52805b8c2c5763c96e747669c553e85ad2a7215f2b24eb9f9032fdd3ca0812d2b8a75fb20fea1bf213bb48d788eb3f158e17e5ac810ba7dd3a4223895e54398886cd9317f3acb2409c877386adf4cddb0fe87f4d3546c5cd376f429ee8c4a50df562cd39291fd2613d4ba01a65e6753128c7a38625d73f13c1591d57ca1e19f671b17f2aca6c7e955a51080c09f5b7f7dc0a9a483558bab32c6f84aaf45e10fad6cd7c52c828a1e092563ab25d3e81dcf484cc6d211c0dac005310b34bf52ccd4e0e17c00b5e4b60ef4b010b125c6f28aa3339712b7118b5b8f212e5be0bdb6e5b81c1f526a1a846765c01e8b9d94b2d2395e2348ab65278bfbefd135772dc843fb2f90e9e36e7157fcf021908d39742ce7986565cd1a30aca5389d25e9e42ebf5b4824f08ceb365e9bb20f42e44a8d76a4eace6a9f43a00f732e46160298485a10bd4adf533b39c057c6e0acafc3423eac282221b8c9da63dca0545a8db4062612103a14e169f8dc6f0833a3be50abe1c9ca38549015ef85d5959158fcdbd06c81797ab7b7b07d2c83345af6c6ad2074694f0c05af5ef0d317e8b9681bd8bf5f19f6b835dd6f38131375ceff8f4f081d3cc7e9f45fbc2a05f7459d07bc45c05bfc314dca112ab07d4bc1beeebc185ec8b6ede6fd8fb5dffa4a00089d325679f44b220f3ae04bd7b9af1b0ca8c8a99f9ba945510348c07c34c3759311214fd865f01b5bcc5b8ed13734158f6dc84ae5b16adb42b669d5fa90702250fdf83c34a95a62f340b2815ccc3e3563784c1e44d767555bce08233333a1cc2d9c34ee29a6672eb17d6aa1e3d20dd74f3dea01331c6c28c6f49181d19ba3d8e135b0348f58d286017d96fcf1e4660b7453b4f57ef2929f6a3fdc902fb1d2a77ea4b1a914c29727e502ed30c94440654f9ee4f4ce0466388091a5f94332a8fe275481c56c0e11ad32cb83b3c8203a4efbbe9b9bfa21c1b5ec6414176625c332725c4bcabc236e276a3140b25d304c9ee826ef09f529e44abd6b44dc88d61857f1e78bc56517cbc6bd2b04960b698d6f8138a35e2e039be1484237fab8aa3e5c1d9cae8bfb66bee4948344cee5c3a6b13200a6573643871bafcb7871d01e14b3650e75f24a1f0368cdbb3890d359ec6cba3a8a7d9c3f343ec7e0cbed8d88a7e272fb9bf221478cd2f14788e43f621380f340c9e063b8fd12e0c69f4dd81cfbaa73ea97d63cb3084d0faaaa6e2434aaa1ec71d2218e8d32063208dae1d982cfbdfd6274dc54b4daff69e0e12706a3d013d60e5fe04461f44584d3a18e487cd4c4be2b16ec6bb2e26edec3551a8859294d47f60fb0d419113216a0833e42b9d09e909aab26531e7e363ee5d23332a87c4e911945f081e0add20fe4f00366375bc569da47b7059c541d491fef972d857621c1d502d233fe35b6fe31b2934e4c738cc9e69afd3c9061293f572719cb870c430d416e1ad42b8acf812bb9225ebb158cb174ff2628fa83fc95784ab8edefb83f204486d6070619b3c147b361f6b3315148bb7bb8135896ecd0d33ab2e50ee8d088c89887e4a15db7872fc059df73bb3994112e22cac3561a7f29522c9a3ad96e397b0af81a2a2642e58526500e0a876eef554ccf0cda5c4dc3b5f414ca0e19c2292610da41e58edd31aaddb03365d838bb9a22c2c1a1b0df36a729adfb4cafe3c8ef9b55538440897b265f037c48ec4792c47be5062673b684f12f082a2450e11f1a628cbc4c297930a18589ad656daddb7d136af5b0522d30bada95f1b3a67fade38200c326285b6476a779d756fefa08608e757d453737db35fd28fc8db8a883c578b53610bc3f42d131039a98d7a59f78f9985c58d25f8ce0e2d06a78573987ae9f477fcde92dd0fb220cf463b1c9eaaa53d958f2e6828c4e7205db576ac984b4657b6cd3fdb60b89a040f8ede943f8ef7b7c2474cfd242780b38054f944e807b8007096c02bca6aad07531cdb56cc47caaa5ed0feeff1843355cf0744597eedc779164310af29073f43aba45cc8b58f89e3b041b67fe81bc189b81d74b48e36997447948b08c6123404f8368e03f157b360da95a8725b50d0941146fe07ec398945ea107290b07df1911b3e37d08731374eb48ffd2566905f01900679ed4141f4d7ff8fadf76366c94007859bc06e04afec7393927e14c3b3214b06ec1b68d0b99f16cd1b04324f4b20164698a9b3395af4c68dca70938fa94d16122bc3a0c1cd89443fb51872a6e3d2734b0bfe62e070f980ee42d019bc6c7d420213a2c450ecb666f28732e9dedfd7dcf193a428f40ce7745325aa542f2fb0444abb9d3e9a4175d1d3d903f364a901216a75c1e00d322ca610f69a90704851c5192820a0e039ef111bbdd098d4d169f68b9c9dc1196fb5b7e50068c2c20388268964e27ed2e271c9ab15212a588dbe8e263067a1b5704b224b5fb80d3bee27a1c3c69e5c9af758019c3b7c7d7134d696d25db06d1fe13ba8577540019a4cd96f8e86c4dfa9b045b4f942c965ee8580a049337c48bbf278cc2babd8934de826c02981405f42ad3451952bd79ac5667b6ff1b0e49894d37c8a1f844eac4ec27c302b52720636c461fb951d10ef10fbf5e79ddd446dc9b3299ffa224c203853fedd78a4ad101ba702a6f0a17cbe7c502d7d34b96c9899e3253794677d9e615430dd8994729566687ce677f0fab7403d636704df2019bc66764b67344b6a5b53d4866a2e824c3499456d757a99f6c0711d984f6b8c81e39759a75c51826c1722b23e7553ea687b6bb09a1f5fe064fbccb13661197392384ed1984761748f6c3c44e0b37d7c4480a951237774a72244958637de72cb683d3ecb788a2fba584a57e53616bc2e6b90d3202f7ea3f02b714da80933456a32e524b93bdb53cc4dc683b5b02140e1aafed6757f766954a10d7c7136026701ed43b7a76ad65cf08929cce45043bfe15db2a41e6dac079a8da4f3cec0cbe243c97198b16fc014781d189a51772b8721389b0f2ed5e4ec56621bf84a2db2e553aee1850b107ab30225dd39e3aa75c5a49df68dee3c743a1aa227a1445e0b7641083b43fbd684a2cf692b6bae58214122af9c144625c3c77e4e73f1337a3b23a2c22ad53ba6c7e778b046099b47118c3998a51b2e54bfc238d971cffa01ac6a6829f23a13ba5ca9260a0ed42f1d79b15955ba291005bc0009dad25a89c555dd694ed8e0b053e560e5b7589bf5f4d3c7ad1e8d5d076be3982c451ca85617ffcddf7d6b12fd31467124b1c91c3455a3f928c9d440061251ebb339cb25818f36a7e05eb185ada66a43aac8e8ff5f65178bec6929229b72f4adaf0e174d39b14ebd636f8283f84a085660b87a7374d8718b5f40c191b159dbf69187fe33d2d126f20104986cc07f2f778f494d907f3c4bf9c3780aedede3dee7d848eecd839236f0b137eaaea2e2382c826e27f09308949695fa8d140107fccf7c7af41f76226a829a2d7051c6b49b638c24ef5efc7796622bc8af4ce73acad0d5a5cf351650d4695f10eb586bf8b7ab43fc67c8b33e16ee2b6b6c6e3fd9038ddc50efb995193522194e0c74fafa273a4f0852f2e937cdb97aad99e85c5074ee66a152ddaaf049d35d42cc69eb41a9d0422e349a0809d3f21a05bc4c33a9d0b43ef8fb05331c15f75ede87f6d29805f2c6c095e237e6ae7ce58bc3acbf88ef1c371a59ae65c7a5a288ce8479ac27430ce263ebb867641398d0166bc75680c01e2090c29ccd7d40123bc10c06893688eec552baf724dab80de3bf9ccb1b98b16fcd7d3bf5db33551947d119a50b81a7064928129fa6dd47ebf01b4e5efec42cd95ef51ad00f0263c771946ad348173d9ca5cea809cab50ee4836ebb93e37812530ac481170799906094aa6a2ad28788035798e6bfd2d6cee230bf5139b6d7b66a7c46c0ed36c53c7411d3d4f4b251bbbe45b972691790cc6a139289505f68559a37833b91833cd754c34671d04983af00bf3300d58ea4fb4edce2bc559b906d74179d674497b2b78a72792794812051329252a95f86174d0b2f4b90b73c4b35896e954e06624d1ac9bf58eb25e99bc43b22999b33787daa084a2844220707b40328894e812c50f9648c2f0447425fe07bbc186d3a59924fda09e0a36ccdcfd3be8871f5242d7335030575164e343b7fd87c6dd0f5eab99a0c8d291552e28d41e09d2272ce0be058440056a6118a7af2f621fd3f8115996692cec699cae97b3919dc5d391a7a741800e0aef1ab4270debc78ae4ff929c1292b38fcc43d5dbe8468951439c67d4b5049e1f85b9badc61d79cf3b9dccad0495894aa8f81dd07259d179aa5ae1b1a64572b123530b0ceae44fbd0cc9c006e536bd0c5a87805b33a4a5b48b3b6116cc5eb95265e02cb6b00fa60908a1a7563cff9e6ae10b3e4e44b98e86f9fbaefe51b218094947f98db6ad7b3f1d8af90dc951df69306c95afac1a3af45610692013c2020f19c51736225a7905fb43a80dd125f3e3b442306465408dceedc7398f54486b97dc1d657bb459256a13185e99bae81bd38fb201b5f8f7d36aa107b710129fd4cc725e026d102f05fbfe017b776f3390b5a4156ef8eae19e46e11a2e6d653cf9cd35f7d80d0244ebf8bafd0ccf8ccb060a40e60ab5fa69bed768eb4b5b94ff38cd00fd21cfc15c2e3ac38040e96211e0590594cb6526158d70ee754c93772da58abce7b3ca0213aae12ca4d0d0881477edc5e4971025580b64d015017da09de9a580ac9d74f83a24009122fdcdb632c9b9b738b3c51f556b4eef441d7b0557f32e81a02b081d2ce06a8943fc057d6739ba5642be528d1ace84c390181e674774fe26a7911515f4126cfbe3ddeba1ed2c76983a2b3cac429971f1cedae9339edee70005287dce7ce9796cb8a1d9d41f1fcdff42836752fa6f3593b5fb74e35e62abccaac69f31de2eb8428035f33c62b449d54a063d33e93a9ee8ca58d3228378180df70d18710fc8d341092b21cf1b6df9ff8c9cfe3e9a622fe1729b8d38326af91fd0a8a8369820d8262c53c96e5b185f6e6727f0ee0804d6bd8fddf713cb02e62647d114cb3a3f16c09feb3f27d3771ec1061e8cfcff64a6583c2a46bd3112584f29c815990254ae44ddde1cdbaa908908820fba8a4e1130d7de80b8a8c6824ff391a226ee7fd3db09981a331d432497a86b5399c6fbf2a90376e74e4fbf1e76cbc06620e39b5549f9f2bd5b5c6b9df784a25b32e2aa9813f55260ba7b0c969c9986afa3b346856f6d9374cd4d5b43da4b60418810f254db69f302d3c0de41fe7d2ae2c249884dba72e86d85a5bea1f59f920883feaea7fb1f95bb50f922e246f1af18775818a66df0564307889fa5a8de29fdaf9bde09bfe0eb6591e26fad31589497f0f1f9ef6df1cbd6ae91649a9f6cb7b2d8aa7912a0bacb04141c83d08070f4274c8d5627284813697edbd7e5af97235bdabdc95c3d5b39bb7dfe2aef2db6cf40b2b1c394ae8b168fcaf4c41aa9700ee04a57fecf08f9884694ad772f244c7fb2ddf384ae733329a314300bce483ab1874764174a63a280b29edd1a097c0daee1f931118bf56f3e84ee86c0a8fc2aba80656f2a61bdd13d473c8f09c3caaa9b1885bbe412784d9f67c806cd642e18cf49af12d72ca50434fcb8d69164a82efaac62f99d00a5a618f9a010cfed5801562e88aad10b87d6a7974089e52af0fdb68f4b32f21580b2d297eb4294cd4e1ca31d3ae1845f303fde2fbee4666861140e745e9c963d41dcb5807944c7b4372700e654571929752f36f888fba35d5a87cf17be93b5f8570f4ae1e8a721e4517e68dca12d560ca598907929fe1fecc4d367a9bebcee6531bc191f1e5dca7cf59871c9a2fa2395b54a2bad747b095549623d1c86bf4b6ef3ddf0419b623fcfa373f1f8422680ef55211e8560251cd0a9bf1701169577e1fe941180554c11f8ee6edfb46c70ff3fa1a96a3307c1a64511bcafa369112834d7c96eac9ee8ca1332fde880746fc66e33fd3f4c8c959617eed931fd3bf1dc6f3462f2066b0bc192816d07ec030ea84a86f8f7b4bc6c2765b239b5086f83e3cfba40995f42e7790e027002ab401af94ae28070316b00b8d11d8f812f3a03f8d9febdd51acca420a2aeb1cc1c37d8fdafe59f90fb871a15c61cfd9b8dcf1f4710c164c9bede6fded6fe2c08163d618af0f297aa4de0f48354e8a63a599240b07a268b40225100428031a5146c9c7fe99a4de636b1d6353658c33232e1b842f5529a8b89fb60d9ffb18d63db9bf08f6dd7c8f64a63e683f116085c0ecd3cf79eb756bbd7671de6fcead12deda1042079e6f80ca50498385018349a2a3df0f61cbb6b6ee6fa90b2ad1899ce024d093a1b3395d8135416dba87c5aff4c9e7ce39b2f8c83ae617287d971b1f4d601622e8fac3b15be4de6b3023fb3888098ec6d5deab5e4794b9ab1c8f33a273c301756939005c6b4346e94b05635bb631b7904816590e8314b539ff5c308f645cff59870dd2eec8efaa4cec737ea535932e49ebeb64f3df9c1891205e9721df1d92a0bd5933109e59fbedc97672dc85070c781ef5e6d1a1badb745b336803211be585d5d0268897434598a25511986e356acd8b1afedc1be1ef0fa087815918661a3bb6241050d0eed6ef7ae532a60f88ce466e14f5302917b7b6838a9a82ca806c766c4bf7e4a2abb117f413d4732e26c29461c4938cb66a5ee6701dcf6ea991ab15f3fefd21a85956b5a9b0cc458b7c4f82dbfa803248db91b149a83076860d3</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>web ide</tag>
        <tag>monaco</tag>
      </tags>
  </entry>
  <entry>
    <title>透过&quot;斐波那契数列&quot;，初探动态规划</title>
    <url>/article/dynamic-programming/</url>
    <content><![CDATA[<p>今天暂时先不介绍<code>Monaco（二）</code>，留着端午节给大家放大招～～～</p>
<p>步入正题，<code>斐波那契数列</code>，想必大家都耳熟能详：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">F(n) = F(n-1) + F(n-2)     (n&gt;1)</span><br></pre></td></tr></table></figure>

<p>下面开始<code>coding</code>时刻：</p>
<h3 id="递归版本"><a href="#递归版本" class="headerlink" title="递归版本"></a>递归版本</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>简单、粗暴、但又不缺乏美感，nice</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">n</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;*&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fib = <span class="function"><span class="params">n</span> =&gt;</span> n &gt; <span class="number">1</span> ? fib(n<span class="number">-1</span>) + fib(n<span class="number">-2</span>) : n;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>但是缺点很明显，会进行很多重复的计算。</p>
<p>接下来抛砖引玉～</p>
<blockquote>
<p>动态规划方法安排求解顺序，对每个子问题只求解一次，并将结果保存下来。如果随后再次需要此子问题的解，只需查找保存的结果，而不必重新计算。因此动态规划算法是付出额外的内存空间来节省计算时间，是典型的时空权衡的例子。</p>
</blockquote>
<p><a href="https://www.zhihu.com/question/24347044">上述解释来源</a>: <a href="https://www.zhihu.com/question/24347044">https://www.zhihu.com/question/24347044</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> memoRes = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> fib = <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">2</span>; i&lt;=n&amp;&amp;n&gt;=<span class="number">2</span>; i++) &#123;</span><br><span class="line">        memoRes[i] = memoRes[i<span class="number">-1</span>] + memoRes[i<span class="number">-2</span>] % <span class="number">1000000007</span>;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span> memoRes[i<span class="number">-2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> memoRes[n]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这大概就是传说中的空间换时间，一次 for 循环记录完所有的结果，返回最终需要的结果；</p>
<p>这里解释下，为什么每次都要 <code>delete memoRes[i-2]</code>，因为本次用完之后可以最快释放内存，下次顶多用到<code>i-1</code>,但是需要注意<code>i</code>必须大于<code>3</code>;</p>
<p><strong>需要再解释下：为什么要对求和结果取模 1000000007</strong></p>
<p><a href="https://www.zhihu.com/question/49374703">知乎传送门</a>: <a href="https://www.zhihu.com/question/49374703">https://www.zhihu.com/question/49374703</a></p>
<p>这里引用一段比较直观的回答：</p>
<blockquote>
<p>b乎莫名其妙给我推荐了一番，那我就来解释一番1e9+7这个数，满足[0,1e9+7)内所有数，两个数相加不爆int，两个数相乘不爆long long还有一点，由于1e9+7是质数，所以在[1,1e9+7)内所有数都存在关于1e9+7的逆元（这样就可以做除法）至于998244353，是个质数并且可以表示成a<em>2^b+1的形式，其中b大概为20多（？），假设我们有一个原根g使得g^0,g^1,…,g^998244351取得所有[1,998244353)的数，由于b中有很多2的因子，这样g^n可以代替单位根  ；由于fft需要下标为2的幂次的单位根，这样代替使得n取得整数；从而进行数论上的fft(ntt)操作，这种数字一般会提示你这题要用ntt，类似的数字还有1004535809然后vfk就说以后所有要取模的题就都写998244353就好了（来迷惑选手），这个数也被称为uoj素数。（其实不满足这种a</em>2^b+1的也可以，参见任意模数NTT然后这些数字由于很常用（包括某人的生日19****17），经常被毒瘤出题人卡哈希，写哈希慎用</p>
</blockquote>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2106/Snipaste_2021-06-11_01-12-05.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p><code>LeetCode</code>是完美通过的～</p>
<p>大概做一下小结，透过一道简单的算法题目，简要理解一下”动态规划”的初级奥义，后续会继续跟进相关题目做题解～～～</p>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
      <tags>
        <tag>斐波那契数列</tag>
      </tags>
  </entry>
  <entry>
    <title>nginx 配置 SPA 路由 和 mkcert 添加 https 授信证书</title>
    <url>/article/nginx-spa-mkcert-https/</url>
    <content><![CDATA[<h2 id="Nginx-配置-SPA路由"><a href="#Nginx-配置-SPA路由" class="headerlink" title="Nginx 配置 SPA路由"></a><code>Nginx</code> 配置 <code>SPA</code>路由</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">  server &#123;</span><br><span class="line">       listen       80;</span><br><span class="line">       server_name www.yunquna.com;</span><br><span class="line"></span><br><span class="line">       <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">      location  / &#123;</span><br><span class="line">        root   html;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">         try_files <span class="variable">$uri</span> /index.html;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当<code>React</code>项目打包后，处于单页应用下，路由是无法生效的，需要配合服务端或者<code>nginx</code>，实现当页面刷新后，应用始终指向的是根目录下的<code>index.html</code>。</p>
<h2 id="mkcert添加https证书访问"><a href="#mkcert添加https证书访问" class="headerlink" title="mkcert添加https证书访问"></a><code>mkcert</code>添加<code>https</code>证书访问</h2><p>如何玩转自授权的<code>https</code>证书呢？</p>
<p>这里依旧是借助<code>mkcert</code>这个工具来玩的，具体的文档请参照官网自行研究：</p>
<p><a href="https://github.com/FiloSottile/mkcert">mkcert</a> : <a href="https://github.com/FiloSottile/mkcert">https://github.com/FiloSottile/mkcert</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Step 1</span></span><br><span class="line"></span><br><span class="line">mkcert myDomain.com</span><br></pre></td></tr></table></figure>

<p><strong>注意：这里需要保留 80 端口的配置，同时监听 443 端口的访问，进行颁发证书</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Step 2</span></span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">      listen *:443 ssl http2;</span><br><span class="line">      root html;</span><br><span class="line">      server_name myDomain.com;</span><br><span class="line">      ssl_certificate xxxx/localhost+1.pem;</span><br><span class="line">      ssl_certificate_key xxx/localhost+1-key.pem;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="号外号外！"><a href="#号外号外！" class="headerlink" title="号外号外！"></a>号外号外！</h2><p>最近跟我的前同事成立了一个<code>github</code>组织：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2105/Snipaste_2021-05-17_20-53-11.png?x-oss-process=image/quality,q_80"></p>
<p>有兴趣的小伙伴可以点个<code>Star</code>参与进来，如果你也是一个足够自律的人，前端客栈欢迎你！👏</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>经验</tag>
      </tags>
  </entry>
  <entry>
    <title>JS深入系列之作用域</title>
    <url>/article/deep-learning-js-for-scope/</url>
    <content><![CDATA[<p>近期做了一个比较有意义的决定，深入学习总结前端知识的每一个系列，然后形成知识树。</p>
<p>希望也能为正在阅读的你带来一定的温习或者提升～</p>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>什么是作用域？</p>
<blockquote>
<p>作用域是一套规则，用于确定在何处以及如何查找变量（标识符）。<br>                  ——   《你不知道的JavaScript》（上卷）p12</p>
</blockquote>
<h2 id="从引擎、编译器、作用域三个纬度认识作用域"><a href="#从引擎、编译器、作用域三个纬度认识作用域" class="headerlink" title="从引擎、编译器、作用域三个纬度认识作用域"></a>从引擎、编译器、作用域三个纬度认识作用域</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> args = <span class="string">&#x27;scope&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>引擎拿到这段代码后开始编译；</p>
</li>
<li><p>引擎借助编译器开始编译，在编译时，编译器会在当前所在的作用域内（全局作用域）声明一个<code>args</code>的变量（从未声明过）；</p>
</li>
<li><p>引擎开始执行代码，在当前作用域中继续寻找这个变量，如果找到了，那么就进行赋值操作；</p>
</li>
</ol>
<hr>
<p>以上用步骤拆分就是：先编译后执行;</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Step 1</span></span><br><span class="line">var args = undefined;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 2</span></span><br><span class="line"></span><br><span class="line">args = <span class="string">&#x27;scope&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>从编译运行维度来讲：</strong></p>
<p>作用域分类：词法作用域 &amp; 动态作用域</p>
<p><strong>从空间范围来讲：</strong></p>
<p>作用域分类：</p>
<ul>
<li>全局作用域</li>
<li>函数作用域</li>
<li>块作用域</li>
<li>模块作用域（ES6 Module &amp; CommonJS Module）</li>
</ul>
<h4 id="什么是词法作用域？"><a href="#什么是词法作用域？" class="headerlink" title="什么是词法作用域？"></a>什么是词法作用域？</h4><p>以下示例分析来自于：<a href="https://github.com/mqyqingfeng/Blog/issues/3">https://github.com/mqyqingfeng/Blog/issues/3</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> value = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> value = <span class="number">2</span>;</span><br><span class="line">    foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 结果是 ???</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>假设JavaScript采用静态作用域，让我们分析下执行过程：</p>
<ol>
<li><p>执行 foo 函数，先从 foo 函数内部查找是否有局部变量 value，如果没有，就根据书写的位置，查找上面一层的代码，也就是 value 等于 1，所以结果会打印 1。</p>
</li>
<li><p>假设JavaScript采用动态作用域，让我们分析下执行过程：</p>
</li>
<li><p>执行 foo 函数，依然是从 foo 函数内部查找是否有局部变量 value。如果没有，就从调用函数的作用域，也就是 bar 函数内部查找 value 变量，所以结果会打印 2。</p>
</li>
</ol>
<p>前面我们已经说了，JavaScript采用的是静态作用域，所以这个例子的结果是 1。</p>
<h4 id="我们可以欺骗词法吗？"><a href="#我们可以欺骗词法吗？" class="headerlink" title="我们可以欺骗词法吗？"></a>我们可以欺骗词法吗？</h4><blockquote>
<p>答案：可以！</p>
</blockquote>
<p>可以借助<code>eval</code>&amp;<code>with</code>，可以看<code>demo</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">eval</span>(str);</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(<span class="string">&quot;var a = 2&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>这里的欺骗词法也可以理解为<code>动态的作用域</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    a = <span class="number">3</span>;</span><br><span class="line">    b = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 3, b: 4 &#125;</span></span><br></pre></td></tr></table></figure>

<p><code>with</code>可以为<code>obj</code>开辟一片新的词法空间去修改，但是会有<code>隐式声明</code>的诟病（泄漏变量到全局）；</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    a = <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 123 </span></span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>作用域</tag>
      </tags>
  </entry>
  <entry>
    <title>一场盛会，我的深思</title>
    <url>/article/a-party-and-my-thinking/</url>
    <content><![CDATA[<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2105/thinking.jpeg?x-oss-process=style/HANDLE_IMAGE"></p>
<p>随着紧张又忙碌的峰会，<code>525</code>终于离我远去了，离大家远去了。几乎所有的同事都投入到了峰会工作中，而我也被安排了进去，负责峰会<code>showcase``demo</code>开发。</p>
<h2 id="峰会前夕"><a href="#峰会前夕" class="headerlink" title="峰会前夕"></a>峰会前夕</h2><p>我做了什么？接到的需求是，做一个阉割版离线官网，因为考虑到现场<code>2.4 HZ</code>信号爆棚，所以会存在定量网络延迟，延误预期时间。</p>
<p>接到需求后，我收到了两种方案：</p>
<ul>
<li>静态部分直接上图（但是弊端，图片会拉伸，会模糊，会丢失一些交互效果）</li>
<li>模拟请求（已采用）</li>
</ul>
<p>几乎在那一刻，对于第二种方案，我已经有了具体的技术方案，<code>mock.js</code>，因为以前接触过，它的实现原理就是：</p>
<blockquote>
<p>拦截原生的<code>XMLHttpRequest</code>，并且建立自己的<code>XMLHttpRequest</code>，并且不会在<code>network</code>发出任何<code>XHR</code>请求。</p>
</blockquote>
<p>按照这个思路，就地造数据，中途数据问题改了好多，感谢我的好拍档<code>圈圈</code>的帮助，顺利完成任务。</p>
<h2 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h2><p>在<code>surface</code>上每次使用新包总是要手动去<code>CDN</code>下载，很是麻烦，不过山人自有妙计，以前就喜欢捣鼓，所以自己玩过<code>bat</code>编程：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">CD C:\xxx\</span><br><span class="line"></span><br><span class="line">wget xxxxxx</span><br><span class="line"></span><br><span class="line">tar -cvzf xxxx.zip -C path</span><br></pre></td></tr></table></figure>

<p>命名<code>525xx.bat</code>,双击简直爽爆，这可能就是自动化的力量。</p>
<h2 id="问题二"><a href="#问题二" class="headerlink" title="问题二"></a>问题二</h2><p>最强悍的在本地模拟最真实线上的环境：</p>
<p>什么意思呢？</p>
<p>本地<code>nginx</code>指向目标域名，模拟线上真实链接；</p>
<p>本地服务<code>https</code>协议，最真实线上环境模拟；</p>
<p>采用<code>mkcert</code>生成证书，这里有一个坑。</p>
<ul>
<li>第一步：<code>mkcert localhost 127.0.0.1 xxx.com ::1</code></li>
<li>第二步：<code>mkcert -install</code></li>
<li>第三步：配置<code>nginx</code>，配置在之前的博客里有。</li>
</ul>
<p>临近峰会，我也被安排成了技术人员，负责现场调试设备，应付紧急改动需求。</p>
<h2 id="峰会中"><a href="#峰会中" class="headerlink" title="峰会中"></a>峰会中</h2><p>一切顺利，万事大吉！</p>
<p>观摩了很多大佬的讲话，从行业入手，再到资本家对于创业者的要求和期盼。</p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>一个有高度的技术管理者，他是不会过度关注技术细节的！</p>
<p>企业文化价值决定了这个公司能不能赚钱，他是不是在走下坡路，以后的发展趋势！</p>
<p>技术源自业务，为业务服务的技术，才是价值观最大化！</p>
<p>不为业务服务的技术始终处在幻想的沙盒中，没有任何价值！</p>
<p>用合适的技术，服务合适的业务，以业务推动营收，为企业创造价值，才是这条技术之路的王道！</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>思考</tag>
      </tags>
  </entry>
  <entry>
    <title>Monaco 探索（二）</title>
    <url>/article/approval-monaco-2/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="c2d34783e9610122579cd3fe7a8ff47d147ca72b879f4267b53f72c1c8921ee5">c2ce16366b42eef496e3c8bcd12b0c5637c168b8fc5049d31625345d5d32bca89f9d9138874011dec758d248d36b738fd464939a1cb40b96f25fa58271a59e08eecc394aa075857302a490605003f2f729a8a4a11d47c990cc8857ff8402fb7840cbf75d02901d0a43aa74eb28448821c3006afd2ae42e1ea85d8f91f81ff0e28fb1d0c631bf6de0d866e40ddaa65e5c11cbad0fceddb47c60051dd1013775668be537abd60c32d8b41fa1ded2ea384295182cb398e1f4fe07f888bfa9c0c0680a3425089d8b5d0768f61ff657514c3312754ae4d2866c8a864b1cace311294a4e302a74ceb44f0093a2ca50546dd7de81c0f1ae0b463c7adee989537c684d8514c671f8f0835f79fe9ac08ce80acd88c209bd56979d8dfa369497a92cac85fac078db6ef6845e1b506489697f3aa1cb585a5ed4428ffd759ca15668dbf592af2c8a09f8fe4b38d5ed9c3bf7ec2b561abead9303d938487ae021a7044f3e850ad1b39b9ab61251045828747c74367f2df38ac1c16aaeaf099f1966a3b0847c50fc388fa0bc6488d6740a8a85f0be49a2053fcb5b290fe5fba0de0f5aaf7f5d5a3dc60e711598d94e50020be08ea65cd1991e1cffce753b3b5920322fad0f34bc01663efbd718629b665b614c5b6cfdd96b6473f2357625c0bdda6fbffb41ee9816355b9e1d922eb0ca2b27400c39cb9674a596e8c1138758c8387419085223a7bf8eceafb5d4cc5d217d4eb283f41b39353d842c0e7e99af5b28d9e3780dae403f9fe02bd8e4311cf856af1900d06cf8544d7c7df65b59d804cf04f5828954a9ca06f24ee29e35efc8fd1f57b2866e3e740a91994802904a71316bcce57736b04c39fbea420972de7e568350ca74f7471d26030904eca8b4eb9e1c8721ca3dd747ec49c1ac7811ad27e0532d46af62fbf4f72300de7210227aca1cc41ee1e092a4fb56957a1b1fcd1f3bfaf5d028c494da3b7f6e068d38c19b3dd45ec4a72aed98c610d9c113e20377fb8fa1b2695f068ef29bd1b99948241777360e1847806688d0fdbe572c5479811df3ca671384206f7e4fd8d24e68e826a57e0e40a9549bdbbeae9bb068529ca610bc30c85bf26d05c6d90e268cd2f1c168d552796ca21ac495eeef23e02d41b32093d643c9692002fd25d34165ebbeca944034c37dc2da9a357fcb891ac6d0d8796b833857fe6219ec6d805db0cc92389d5a2ae853c8d0780850343b716e2b849be4be947cd5ed20cb66ce1e2219e671fb89367cfa841c680c5c81314890a7e480859b97b3c1554360651bd3282fad90c67316114b5b4a5267be8fbfd89ac959d3fb072d468617fabb4cbc80f9eada1332d7eafb9d32e2fad2683bc9aad13cb8556d44cea2675009294f95ad94e77bb7b5546cdf2d822c76d9013e157f74a61bf8d47ce982a29d5d7a9438b4a05c926ddbb368954ea401354ce9b534be26375c6a6504dd5a7c940e69508df9716d59639866def57748c264f2022c19113b3b47bb744ddbb06cb39361850863ae8a540604b1f33fd4795153db47088bd27b21b8b3a540657460ed43f4402426674002b17e1ad12d573abd11293a3a42f57beae68c295465d42a7a3c7ac92e7df6f4d0c7eae5766b9a06c07b189254b5ece6f94ad928ec591f0f52745bc0601887ed095fb8c4283f33372962f33d28d6382d815300553f46e2dcce3751f91967e406969c7f1df9d000d476732daa863fec4ce87d1b257a7d1fa93d9400466831495f17f77e8e3d0010eb235dac8cec428f662b2ace88bc2d19339c977c8267d84274bb5cc93202ece1571e59d7470c1eae7e3bdf1cc74db192b155abe7b3b4bb01605375114bde1643e742f087e9a8bb3942978b7e74fbe8afa422f75cb5e04aedfafd1a6a3b60f0116bfd5162f43adb91b6711fe781d58b3c5b110cedf948ed931c8f5018ab3c3f2df9dfeffa540e54c870a106c7a30d49b62e41014cd8f7cca6fd6886cbc7754fcf6b8679cb433253f3c6827a0c2a0e33d4eb5fc1f828eba10b3b23c23e435f0b7c27b2ff4aa8a54c5283d79a08e255cc1b6f2dabaf20e9b48ee0ccb598e76d97eb7055ddc962d9060114c66127b837870efcd583eedc80788506168e8da9ab03b3f7f5e297c1627c7c5eb5429163a577ead650b4857686aa7917d9a8c4ded8ae3e261b670b125077e17e86bdcfe3b65fbaf251fcc3eca8895c6f56056bdc10c5d3dc2bb45563e6ff5e11893323441c2ac3d36c908cc83ca8c5002a11985ffc0180ab20fd7ab0d225621727da09a3b101c1c8d15b54f985e2d64aac9ddba4592025aa25014fd5134730f7fe79b1cf77030aaa295bf124760b5531b0386df6119dc80321c1856c29eeec9d8c07a51544d1da533046db0de98e7efdc5c6b812c4dbede36435e685650995d688739254a12c814af577c2ffe7fe558e665c7087d7161b7ad9079c484deb37584eab504d699f299c4c0c34ce06c5e0a52105bac999b753bdff519e095305840e3dfd2d949960707f0c4807e97f00f2e9c9e23c4f9f30eb508365a3d4b6e29dd2079069056b4a9741dc2e2dc37b72b0b8e6f24b911748f4965bb91a2e1a046ca40b0d7d42516eb981aa4e5749a5a8a53d03936efdbfae40af833a33595eec07dc2a96421ee57148ad569d888c3ca603f64c08a0f71f29a37ac24ec0f2d660525e50d3616f53f529eccf2c2fb1e34f050507103f11219ed0d228b1f5ffb4b801510d7667502de4ab9ceaf974bf3a2923b2d31801f11406b2735f94fba2b3ab51ba8456d0ea4625f4e2ac6bf8e954a089ccb67f2d200ee655c2fdfe0d678703902988b83949b2dc9353398f11cf635d97c4d2c7ae1b5ad5f73eb68b4594612228d10d2a423c63e81650427047c136a4917587469532f31cb4c8084efe40cdd1b1206e1b771d86593a74a21dcd3fb06725742f1a44d7676b3b365703a6c5fce0743d7b198403b41b0e5ed75979be9279c3867026f85c62f6ac79b54ac88a06a4d1474d2cf0f60749d5d6452fa422436f562a9523a119ee2f31e4be870dc41b0d58e3ba7c41be661c709ab168e10a7eac78fd334e9f7d0b5e3cf966dc3a43aa52071c9e2f8ec839dbaa91001ad68754eceea81cf5ed27a28b32c197b5e3bb417d1551d8a58a8103fde7c414eca4c01679d163213635ff3e72e7a9f8fd217e25b569ad2a243ea19c4f21660e17ca1b35c3c245582d686b3824525f41930aaf050528ea2b0db589ef842b085840301cdf78d14cae2e657db833e9903cb6265d755605db83045517f450b728ff7137d380798bef92b90b1b674e10251ab43e87858bb79b3c7a17b8c9e63fe7426b8664e989c805dc9bddef6b1ee85c813a9e17e7087ce906ca0309d7a0016f40c8668af0715cc69cf60a9ae53a7d0dcddff95849858e0122b8f8981bced22c2a6bbc3498a2111b4bd5421f589d1da4f7cddd763cd8844837d9d0badb6fa28390e3b33ecd018aec945709aa0a978bbe234bff6b903f88bbf76d9bad578a59be6dcd9f435b07a614baabf56717c879f3787b175cc430d6f32902323cc11a262188f33e39f1938c27ba29b5744e32c8db21e4f0a200341fa934b758f9f48c31b61337ead5d9e1b6497c96700c140543100e6fa5afc3c888b7b018a53abbaa87092d9f5871270ac8572203533e220770419e27d804513ec513072ad89727f1c1846f4860614f0ddbb5a3cd06bd653258b75c5b4951507e8ab7d1005b09729d608658beb0e8039e0a49fdf3ae02f8f2053e27052fe3353b56ea0707d9464ffb4b5809e4aabebf72d17fee9e2e3d944f88b9e514cfb2df457c22e5a4de60dd45ec4e3a2d2118f0752ecadd1d3fefef1826d677b649d80a3fd3f730522dd97f36d85115826db6d4ae42f6e2bc2beaf07de3bd01e95c07c9d4f9aa5587190ccc1d55cc9b598da9501c550e44faf9fa49b15cabad9696b9939e9e862b69921dd85ed68f971117f48a47d1bb7b8c7621331697fd9ef4c9a6b37047686395ff59480a094fff36a1b235966b871b2a6738a298dee173b41d7cd7d625bebae31fd750f2fffdb9607b4bfb058bd9e7d0411e908843a4c28cf2b40974930f9320815e4a44f559c806e2f8f91f65dedd00ef0dbd3c5c43126835dbca2e32ed37bcc123e6b3333ff7fd8f096f46456654e86c5e240b94422171e141e816581bc78299965f0d596692efa1de10160cad5ce907f8cec6bfa516d09b15cc0ae8afaf844ab441a33987ec535fb59d4714d478edd5ecc8a013ff4f3f615aadab4eae4a882e76e793290418bd5c720825605214b1e28db71bfe92d16fbd0789dfec8d90755bada630d1ceaaed24a95933254df9a5970281be1449c863988fd51d0b72487d2011e41190a8ce7acba9cbf7977c9b8d85b77e7f41c64fa80fe47544c3f93553c70b47a8bd3332a35647060619631686960069efc42cfa5346b4a09c3b869b9811da3fffbabfcf13a0ebe2a4634dd7e0110e752c96fb787180e53a94cf8c0e6b01801727ec9bae761a2e6853b378b2f956b66df3777c3fd0bf0966caf7b959ef419a1fc5797734066f00ee7b8f64d53a8e817ea42bb6ca68071f1d86395bc36cf94990e1de354a9652d734ca52daba3ff5b740dde6b9cdc2746f33f62fb3d80493dcb74892c9d4bb2b12e331fb8b3045687f87db70f20021027848d815e5815d198f12b80cf57e3fbba778e337e25e5ff3e9859deeac51ad1da0c9a5058d42e69419ed41135e59069cf3cc3869b8340a24379c2820ee9450bfa327f9430bf528946d925f042ca6353b1175c49e8b5a64d8bc261a4414b337723a1fe7903454b3d3c29f3dd1d6290ab91a99fe7a4ff0c8d7a99a32d32c47b24fb8b6c57dbab6d4b1db9c04b54eaf69e2424d327f26c2fb4ebfdb54fff65ba8a6148de80d0a58640338b372c198303a0b15933de8bcace3a97564e9bbbd2b003fd22d942eeb62c9e3c17614cd9b57778b5270cfaf37929955048078142a01cdd5abaa2aefac409334a2a63aa525a94a8dbf6e920dc048c7ec4811dc53b25281e2645294a2b0e07486cd9e242816ba0c4228313be3f980efb3a81b3005a06aadaccd92af6aa22a5d6359ae566bf4309fa3860309189589bdc46e6645d517176f4a307ef3edbd15e158e7278ae1873717c31b884fe4c9fd0421f6055b441d42de4a3325f1ea0b30cb5037cbb4ca0a13bd62a3556a53e1fa5ab8a77befa938b77ae13db55a1e1d73fd5355d5d7a1567b3af41f9b7694c374085dfc6ab7035e6602669deaaf08170f300d2f9709f5c0cd52801ce4e0f4d4417cd3af847a8f60a692f7f5449902a77aef8770c397e9eeee9255858bf9393d227347178eb073f470dc3143c16f2938e1410fb897f72b84527aca699600b15bc27db22d18bc55b2ce0713576ebcabcbcc567ad7b2bc1330cdd6bfe140510ec4f7958aa5d60a07d5b4f14d4a6b8a68aa65ecf3260a4c8cad907c8b7f716504b35cb7e2960b582acfaf9ca4c5823828c2d2022b678755f95c9964fc85477c579ee52f2989ff341abbe20bcf977dbd041de3c373b25bc18819df79957e84264792e91fd89a71a0b7a8cb4b500a38249e605ddab3c1d3eef734476fd131e81d029b9f84e94b5a2c84caffd54e47d1d437c47eaae06ba7bc7e8ed0d91ec5144b06efe64d336ce19e3507316532a23ce4c00c530944e08986caf0609f7724260970eb8b827c3bf673b9344f26020f1cba4d22cd59c5686f14f8c9c3af4a64494ed8d63a6529b579ddbb1b0e2b142b18bcc82289184061ea7731cb48f32f1da2e8e581c8565416484bcab2b26f026c99514e4f493d6fc88465dea4de0d7960fc239349516c942e1538539684d469f771d713ca59bd288fa8ca6842a727cbfd036215acacd2e50da1eb2d25eaeeb50d608bf4a95d620d02aada41476c7e67c2e1865abfca81b106939c974abe935bd735a9990c916b334222aea501fa8f92f5eeb424ea72bbc03ca140ed521b28c68acf089674249e5ba6d9986ccd3176e2df615a7109300ab0d63f9dbfcc33b4534bd023b82ed23aa455d9ab0b3b18c53c662a539abadab34994cc3435dadbf02dc3a3abcd15af0e4e7654b8b31128192bcccdcf208ac516b35c2b537afd8df9abf9a37ce08b1538cc61aed614ceef623bc1cd4f8d8465a72cbd52c2eda7a17d66bf9cb67bb40277baf08973c529cb030530eb482dd05bedd6a75d68c4e5adeabd593394842d3bae75415f16eb658995bce7c6cce5be6cbe5ddc11fa4a16117d52086b3a33392dbd9e0122e0577a9b2ccaa148545a3d2e3c02f433d2edd6d068eeb8cd7ac4868a5471c5a7745bcb8592e85a603ecd0d41cad4733f7dbb7301a0e61522c9c18771150017ba05da725f3e64aa614a01ed2cb8e495bd5abbfdcbbe8f421e787cd074ef47db53d41e3b760eb1ff9f9f02b357c00ed0ec5f356948314bd61f825c4589a6f196f0d61f8cb53ce9beb1590cad0ac3eea45760fcea6d4c763891cedffa6509a1d99461beb78ae774b4eefac51ed991105986e2542d5422a5714b1bf6603c3f98084baf15229a68d9b00cb9efad6b055067d2d442eddb2b057d5af53ed22fe3de1a6f99b2cb76a55c81faaf21e1dd0b4463a59a485bef52fc006dbf9ba16b6ef907295c8e4f6e95494e8ce41e7332603f51c9d2b523186f0c3efda1d7fd31a1af4e03a4cfec5e7ec0c8907de4c37fff50013baae5d3ff4b19ad12e9e1d2071b621553da55aa39fbd74b25f6cbe5910233626d3b065921ec5167627a30cd9bc4fd06623b7f37b4f2e5c90fb3a2353abb9b96b04317a52491f30ca3a23d18862bcd21b39f6fc473d004ae32f338b319226283b5f1c093ed85581e060b4f9f7aa21256051ff7279ceda842e2bc50418d8d816c1a6ce337407b04df207c8f10cf250b03543d56cd24280b086dccdaa5a6cdb8f81a7fe1cc96983b71887e82f18c595f5283075b170815a65ba07aa034f74cd61b25d38012051ba9f071da0f08dfcf9d7b6cff55fc582b87cde19bc0305467cfbf6279b80241c9a0b3df90d33a33e71b910bf1f90f58de84f8e145f8863c66902860c2e935f3d6cd678cad6ac4cb4034885f877f89ab30bdd8787f3d0ff56e0f96b15d0ec41f9d6f50f620c3a8302bcacbedbb46ea25113bdf6ad51fefbabbefe5ebcfb8374e6678b562af1f23ce94e69636ab5a75f58ff8751fe0fdde65851a3533518b05412b3a737970ed76a95fcca6728f3d4fe64e8b89300d5050acb24241e37cc4abc32560d280c0ee8b41762b7bb58a29f25e45fe90ad17aae2095bef62269e8269eb9c9795cae2d3f17441e11617699376ab6e55505c9957e80640c659a9a9fa76d03e434d177add33af92b195b5eee82e84a3e974cf204f909d9c4150dc74abbe21c8c98c02cd503ae2dfdec3c12a5e69f8e072351e6626293293b3c0c38d688a1ae46a1292e8ce508e2f6b0e5fed06d58c4c7e198da82fe6e266dc7382f27a5ea984ff642f057a9722b762a1b30ca8848bb84da4a586503be7e6e6d698841cb545e3cd6fbe17d8cee918195aa6ff0ceb061224acb01a64d4b8d955804071c73e366df2a0a8298f7d124b1004f35dfee0262b7f91954601efef47475b8eab4386818eb5043057f021c39c5b29055d7da562029809490a1aa9436a37eaea6bbc0d690519de73529863f0cbbf24ce38c383afee7a26c1438a059c57d77cf394f1ec92140c7529df90aad3a0111624f9ffe45480644cfd8d960bbffa46b90bdb12fe22ce8430d6a6fcf3c6139b0b8f292f94a4d4e2428d4c1c7bdd683876f701aef81beb5a85495cb8a3e8f473af802104cab06d462d8c9ff3de2ea5d0dbc945ce107b4d078786dfcc3a020fe1e2be1b68a9bade9a15d7b6d8319f3a79cf55fd647d589adba95da2c8f8b6749104106fa88c8b6cfedda3a7ebab9f66c46c59d7d9b0eb8714ccfaba592128cfc2d007d156280f0dbcd59c955e3d6be8efcb34a2a40d5d3da08c51aff52dec0de4e3df296aadfde2723bc3af0b41cdf4541f3187cd46ab295989315bb02e50b9fbac1788f1b5eaa2dc45568383342027a6b334b01004b5fbe08332f4f0ff5156cfec5e3c9373ea3e556b5f63a1380cc57e3109e285cb0cfbd17aced6abdfa64844b9bdb9913c314997af7140554fde8287e7d48742e2bf2f07de6572ae42f6e252a609ee7344a633e7e1219cc60b5e352cd791eda8856c183d1af9564257ca238b6ba14ff9b01e20e53364c2869440acebf455408ff18d56bd184b47b670a1d8b1142cd00deca59d1bcfc7aa0b715b9458683937c4e9169235d3dccc99faa0a6b8150f03ce3326fc3cf21e849865cad464a1f39a814935d91fe717e7e8ad40a9bbcd6228e8102919a246895e4749a341263a3613d0643f4c1d3cbbdbb49c5fd7f735b875f4320464abf96b653f1f19dba617b061f779fdc6892e2f143c8206a2980bde6b1363f3e440db68cec8cc54e46bcfcf12db9c9724be8a0b4745b6b65d11f1d867bc1a80e1e63415af5f1d85a4dcbef6116c38b3d3734a9153136868b3e738cca61b71d6bd214fd92561e831d0a3a3c4a25915e0b9bc47934f243448f8c60fa14a200f32d101465ee84290619b2e9ea08e1b3efed24711b76b22877ea774f680cfe9d0a4b007fac55523df06f3c5ed92668c4a420070811dafbbfe1a7e5d986a325570c4de6512cdabd8ecfa02eee0fbc23160ceeb99e9f9621fdc110ae7af1f60969638d1ac5fcbc900fb827b49d3768eab9d8a2bcfc04e46910c25bb85b8822e428673e29256004292fc1f9c6ceab689dc4901a3f8ada91b66a597cdf49b027494c884934dd778f2dab1c9243de90f4b647d21124bb45a520c2c650af73d99c32903c66c39ec2ed5120dfcf98f35d7eec3ad2e5b7dd38a668e27b347279db4d7871c8af879ba80a966d881ac4109bcc49bb3bf7137f0289e2a82b6735c2373b87cb8f049066312c355c3e007d117be35cc738993859f5ccd67d2a97440c60ba8178d810679d7731b25f8ed1bacb80a50793f1cd75e85cab18df7ba5eb71c69cf3753266a7a53420f00c1c87e4fa789254a3c9ddb00ee1721054ab4147e01c707ff6286c14019fecf3c09b4068e106e1e03c1011bc93e70aa8afa98a8d36884968bcc3de40be6547d0af5759731307dcaa108a164b294a9b45f0002aa0d868ef8753d22d60a69529d1014f6bd4236860281515d3ca0f76320c5f4f6f30b62d427e08e9128c91c552f2e46938fb607dfd288a819adfd19f34472b872c89a2bd660906200ad87c4bda7b81c24e680cec283bc11937f632c3ac7ce1a5f3cca6b7e421b2030ea657d3fe4a6c222988e33e600acdabdcc6a482e4676c99a7887c663aa88bd7c1e43cd09e6574054c44a651f2a0cc9ab647a32cfc3b72440bf8d428f700ddbc07e785e115e98ad184dba1f364561dfb266a0bb2e8745f9beb5233b21e53c8db2d1b421ff868d8f106d254b01074f3277a669eb2ddf427c73f29a3a7e90107586ed021c4364546435c9f3e231c48229e717ec07d1ce2403309adcdaed358f6342b734c0e5d71cbb6c105407cc3d04aa4af31baed961b51c9b3c9c300dd97f3c2e27df5f842dc5f51a479dcd95176585413363f5f09222c3916334adb982334dc6868223d5acec78d1d7c29488b529a4853483e4fd8379458b2b3be0e4066b3185e6e7109885661984d01d6c3ee9279603eb483be3175c47c3fa7ef4bcb70806151c3645412e5fae1aabaa75ade23a8a82c29a0af8ab513663de1797b83cbb566d15199938ca933f47fadaca51d12a1675ae90268890c1275dbe2b8b476ddc6c9cb5d1155dad1d3d905a0def22df4f5eba5cfaa13990d224467f8f99607257dfbe30673d76c13c25ae4bafb5107d5cee8e6a5781bfc14e54d84f8357b063aeb25acbee726b1a781e862d0d6134b166539fe601178b8bfdac17f027c7982912e609fc1c07fefbeccce5ffbb72d482a339075b813a60769ce738a10c387bf1002d5488f5cc5eb153a01791331008697901a23952ca9a06be890b864a17c1df0be0ad76cfa4ca230b187042e892638497e37abadb68efdb4d137a7703af27e04f5e79f2c11e726bf56f362a8c882d61912f1aea4c476a61f0e74b446c296fcdf92c9de98ada322407cfb39866dbcb828aefee105059e3623176b78c6c142ff79a30ef5adaeaac581968b21ff25f3c2af85beb483db92684cdea587b109413b866064389116899e54dfcd3020f8e32c3b49faf54be345c3ffa5dcce47b245e37ec5f35129d72afa9c21965ae601328c915a5886f2e85e253c7f4f211b3b7d1df782f6da29a22a4987212eaf4de97206c6f452af13e3fa31a0023c8034a531ec5874193b81402dba6d798e87bdb141956e2f06873208c9d624979d1daae00f1c0227ef8751443523cfd7743e76118fbaef7b08ccb5b24a4bf5f8356fda8b33bee7d2f80919aca4c08bfe611b7554dbfbd7165897aee70070622c86226748767ec80a0b0a4097311491fbd2a4df4439aa6cc7e5035b1a54b06cb8d8d160b1177e657eab2443c5dbc3c1fd72f1112f0b39ca93532693c408950fa8a97bd1f5bb2fb93f9762c517265ca8083e8444d14068e97c14d6afe4eceb832625b9bb8af066b3ddddda4e7523a7c3c9f044c927b2b44c9c930ff4e92ffd232db0573b25a9ffce249dbef0b108fb21c0d358ec26b18bbb1987d8b380a3b9c54876ba3fcee197031c67535085870fa60c74b2ce05d917a27766e6a0fcdac62ea0a46b611df0b63cf56a25ed5cfdebc34a6ec18beb1c9aa6cfc2dac5b40f7c5f373bfe8a173ee71f52e2ceeaceb9a6215403b996eb5c0f5d8e3ce0eec282ba8936333ba661f054badedf3c0091cb40da7ad4c8d37ec4d94a01731adeeff5dbe00720c35f2c7e677ce572207c61948f4917bda01747e8b6a6f4a535154bc3815eaea38c4e49c41c0a0c8c18d32cd9a285a450e61349045736070b3d23a661b545db819ba9c5623f1a5441ce384b80072eedcad9e4fc9b9e0e1ffcf5c82c17e6fca75e2c01c830ccdb733a045ed61a77ab2dd27aa97f6ca436b73c56c21480c9ed6830745ab74a3722bde4212c2308347c843b301c3ea8da80e95c2701594747f5bd903d997b2ce39a5daa09533ea2cae06123a8994effac78435cb439aca816f7e7aaf80b44ec3e732854f1ac204bc424af57426871b811563b6cee469936d658b3373d2c776edace28390340ccbc82cc298d54b8963f6de7f9d12c3e2bbbee16081174fa0905565c357505320a7d744d3a800a1a195656237b09a5f17181a69328de7fd4e00ab79350a1bab637aa9c9ee39a2feae29cb8ca3a218aea0781be15106f361130b68f83abec0123bd1173470a123b5f6843a090ed58dfad7e8552211199caeb400b470f537bffaec0075b5d1f3a02d927cf3a1f2edf1f9877f651d08ff89a602ec5bf1e9a511468515f63bb248945e64b326b9aee055957bce4197ab7694d9238fec0e002d5c305165fbe65935969bb1eee089b6fd82c26882b264859b675f310e9d5b1cfbf42f85e97e1a505bff6014d7f07f75efb6c0d46c261427c079a6fb82bc7d924ff4a5ce4aa16c7e7fd2b48f7adbfbc6323fb15bb9c7738dc267944b22af9831e2e32d1dd668886c55701dae0ce3acd36df911844f92fe1140447d1b8ec50047e027c63ba0bf1c20774b9151066290f7fee7ecc65189c82ca6f494049318e6030bcf4c2f531aacd514219fea8baca570453a22d8f1b9234b74b892a57d971b30d06b2933a5d1918cb1ca18f3f39dd2f0a41c2b3ffb92ae686eacf53b80942a8967cb64a0623f3365e78f38c817e8764d8229c6e0346a7350cdaf78522572400da5fa0d6803ba569e8e464470af5ccecc2fb9465d153788341d0f8b7a32811691e4e96b0bf8c5f3747ce0b6026e44f5381edbbb99af34d4a559b58490e5a246bed59615a7345d8c53ef928784e58cc9f35b5cbdcf0ad2349199377a8a503e34de0259c69100a3a90022b003b81781312330822d0972cb9bc93293d113cc5a0381f162bdf619a2354cb290dd2ea927c175ceac51633e3b470f569a7973c278d59b6841fa6c652707f973a6e841d174597ff03992517f823788c6ee85d05a8121e5769320f619bef3191a641816c771436c78cd9eaa3287d3837570dfc9b2fd6d33051d4d1d30381a7b3d17bc7fcc3a4ed07419b754473aa5ff8a1daf24b664be84f5b8508d5726d7059ca278b34f7805f4a52648369bde697cc540ab8ca64f3b25e83db581721d860a595ad75ca762cd52d8a0ab5d4d6f073b43095142ca33dc8fa42ced276febf574261d91fc6818b6a87aa018bc08af25bc1b8c6e6d57b0be2685625d9dc886c8e56e3a438c7b21bed4c5a7bc6a93f4e73ca6345bd5c619cb7d823e52b545afacbdc84aaa73c0fe01a5507e13a9b18476b0e80f93bc6f384bf5acf3c284cf8834b5a3860a5f82fa0232006a544b3ab798c180d1f23147a78cc5b3ba284f5fe35e36f5bf330d470bd5f62495c7638864e455d3a3eab7be7b5098e07e8a648f41899d6b9b2c479c096c10395d5db1a123cd151f7fb47c29f8587f7567d3c740a76f287f8654fd5711faa180331ae019fcb1d305c475ab24aad5c4b6e012bab28036a1cc3c6cd3be11f29a1bc215900b78e655d22c94ce675d2fe95496712a378f041a50fe34f2feb77ad89161a1e177f3b7b58c607ff09a4f2985d333154d40149ff5dea15bcfe7e194907b3a9277e7cb4ffb8a90a8f9a7aa0364c259bcbdda72fe90484eac72e88fc56525ed75f0278c6434c8d35797c912acf68a6fd3faa270f28d6704e9188aa73bd0d7a8735bdad3a95bf017c2c1e2d0c194f574fbb3c51e6ec9d35423b2bc9195256b64cceb3489af06565567e8a708e5df9c4de29aa4fead523e94305dde255e3601f780ca3b6e5663066885480b7813a9ba9d7f4fb03c28aff0c8099248101bd78d75df1e4e4f89409fc95feb85ba654cbc3f4b06369e874b39ce9120ec3f7506195833569d64c69173b42c7b61ee4658e03cbe5da4062b5ab3f5771e6fc846ec9efc6791e23a676392c8bc1556b0742f9a3984ee67ef5c7a906259abc049b197dd5a81a92203944da9a7fef1c892ad25bda875bec04ff25eed89504c24abb264806c06f427e931ca6ea156272041c2fb7fd0162441477729a270583e50a8495b0e490b3066384008368cbc1016e429c9d3cc993c6ecce07d1bfc4f5651d8738db9604c4194730ab02f10a4d60ea3c368c78e7ed0cb08d7bd1315ce7f4736b9951527dd331376e790eecf375501460c9a1b66004bf306a28666b6b231b5bca5512048000951c30b2b3049588592feba6a30b8638dbf3ca78d229883116034dbd9c105a3290f562b91403d960fd49dde4d32a3e76b235f0b770dedaf698ab310d81e373175a3c4279b69abb1cd1932cc421ae7f58a10ed9d96f567561a68e5f5fa1b4b11fc441065335d3119b07d8b3f85178894c172e470710a60d0b5f82fd78bc2cb3084d87d202fcee233acab0d964c95ccc125f377208472ccaeab159bf4f43be866add2e3774059d0325bdba8fce4ca1779d6dbbf29cb2c7b11f804280fab28d0cb8dbab9ac4f77bef74dddcd7b729c30963484615cea0d6f0e5a114f58f35da54ab35ecc6d43de597d689b491bfd1750ab353fb235c460e9950b75a96aec08c1bc91da4143fc7ac9f9f90937a4404273cf35b2d2846dfcd1b458c1452da6ade54e3f12276fc52d60b9db1d945f7703b5fdb397b5d76cc374fb14ffddfa485d27cab2f4d834306622e4debc4cba2d2fccf8e008d89a2d13f31c2897f0449987b6c6f9fb5a5df7b71d849cbb858d0ef643c69645b7924ddb718ca4aeb3c2a7e8126eb355dca5d692db1d067976913a2324c0ee75760e9dcd39a3a0284027c195e5fac33b3040b066f168fe3084ccd7c78d8b2968c4a09e37bfecdb22d73405fa8157c173bb5ca074d9a8722d1bdf2cc87588b736f02febf2f34cf2f1a49be7efa9bf4199f50170a84e55a6cfb478c310e318c5068c77627aa3c36c85a627de119e5415f3c11823e30572db5e8d26395fa54a3567cc8a3d2dcd870962da87d069571a8687d84e80c6bc51dc83b63c503f01399f057c866ff44dde013d9f63ce91a8ebdeee65e76d4660ae15a8b63d09cf48a8af29a2a4d2b5121471e0fb4bcc5e529977f86566bc4fa4cf6ace94c5831b6c67d59ef76223aff1f7593c565a0cc38a8d827cf663bdfea2b768b6b5d1a3365216aa56c2dc983ad8513bddb82e08b6c5747ccc19f079467fe32d9fde696884cc9120dc6ed35cb120ab6c3e65efc619467aea8e06b3eb84b639290c0c62e225f71ec8ff78208673b516cda9b6749ac16ec14c1973cc4ccd041123c5f5f58ef0d718068df58ceb9300ed4f4b7e689c5c67f48a99948242079e6a31771b8e20ec2dd9ef28e03974dd9469f5caac889a7ed988a59e4759b074074a65af94b5bdaf4eed6d3e39b85857e7c48149fd880786f9e3b8b8cd6e7bc2bc7e687db8d782e3f45dc85e4f2c751731f7d4b169c70513e03797b3c6f18b26f646758fabf1aad1d64d15af4e0516a99c3a490c130e8eba2c48b3f618b7112df00a75b698b2cc02f445477b765553cf03ca6183651892b0337a31d76f94919ebefe0ac45470a3f58c6f97369603019e5fb2ac1893d69d580c2237403cac70459a4718e59ab0f2fbb0304c505fa748259acd58df138eedfd80ec8f887fe83075671a3a047fc2af3934f165ebecff1cc10cc66879401f2c40245547a3af6129412df3726cd161b859faebaa85eaa5ef311d52392f5acb70c5912c3478d445d679d543598ca449cc76121347ce35f0fc51918e169e7cd53b29d909f13ed3ef4625bcb74ba686e7a2fad33a9b5939588671cf4ca6093116a184d14ebc88e75262d6602eb23d145b9421328c55b2a5e17badfa8fb03fa989ea506866bbb5473444c6dc73cc205b6c52f6b20f51cb81e7ee8f75a5b3e124dda731b01ffb77129d115965655bbfd00cd6808ed44b662c84ed408b062f188be988cbd2cfd9f92dd76c96668c93d57ca54fbed7b0dfcb0af048867282f2f01c316f22754576bf83b321eeac688e9271d3d5ac10f6e7b9d6cc668be7ff46e5259ab19493a380374bf86ee19c80428ecc27f8fa395870c06f72f4ef9864ac41e7e52445a676bafcb03c0e9bbfc082758b1baafe39838f2e0ee9086dc61d161fe2055b6e05de334da5b690c81a5eca78ea6d9bad03e5b656dc9d6a0c2bf3e766b76953dd6fc62e3bfe620ef8f944b8daa2b7041ca7484ca4bf45aebab0c43770d1bc88e112575850335223950483454f9ebbc056bf7b478a4d9068a410f09eb1e1d3a9141b6e6d29c9589f010eb3594d66b608aff6486042ed76452fc7441cfe382c0319dec37555db8bee80f5bc3411920e81327fd9b59711a1dec768887e7dc4d2929fd324c7e3f6e543bc186bf0c802d128d95bf29357b5f0a9b73a74755a7d647ad8e07bef9a9c4662abad981ab566a3ba78c1a1ce4482f4f303f6150594281c8ade036c4bf880ad100cdd3a2f69cc58d82c754130acb47a0fd2ae21cd7f1d2f959c1e59f3da71e461f3cc13e91a068339a4719f2db3063e07c4628a229dacc4664c8d68500a86e4a46938774ae537b027a8dcc0594ea6ec1a638a17a5d444baa46af148eec1c2d01ac97f6d2a0239b4f950e4af9bd7419a6c6db75bdf43990bf96d89b2e23d81b51c1a84e3f1865437cd86ffd1264ab3861f115203609adb42f1ce302c7981eb9f8fd27249a05da0584d046056355894ce460c569aeddaea94c67271a8363e62632a0021b1629e9e5418cd376e59e60ba9d357956fc03c585f1d5195740d0d24fca48ee3e818b6fd6f3b3109578e8c749494d9221166a13f556a670601f343e546f7dc9dfc9d1a2f3ad131355f05f4dc41f1f02f5851ce11138aed09c8676382901222f32f14fed4179bf2a9ee1e7f18dde4b8a804e8ce2c2b8f352efc91f34f97ad500d0019cb32c3e37db155aed5f8870d1ac4b33f512a7df9077c9a82ee49c80730a99982b6ca50cd12932c32b7b929edbec9ceb99cec8c0f1a9fbd58b0dd02d6f8d64d66d73683aee8403b06696ca8aebe6618cfa335abee63e028605c8d7205729bf8c2e2550fc22f563afa11350e46bb9cfe2ea40089c5f4a2770c665ef82162fcdbd64d9ee50892e76ba34fc7b9292e0fd3cb7db0b59adc8cf23ea45344e9ac764c863635fd6c8ed799650681e98113058edfc680a2bb545e93414d2907ea993fbb5c0c1a68a1b387a627a515562f485e85e117b4537edc362befca33d90943519dec5efd9f58a62e23aeae304d173be33f8a833466d9ae59d51f2da99495d6e21f542ed5385dd1ed9111d061ee056c10615efa88aac9b3048705246bea41043b49a744d6f78f4524cfbc0e7c7e26531b66bd1b3e30ee290c74e53695948128bbcc6ce2f1648743fd7d3609d6cc177a198fb11d151013c64acf54da0cd1bd2cf24696defdf05399b2ed1fb03063d72a2ea702849bd2737cfd1b4d92808dcec44ff8b3aad77a8f3f130c42343384e1aa4c4406227c32fdb3b6924ab11cf17c2441e5fb8cd7fdf50cf07755acc3ea593b71247d93493db7dcc1a817ca1291ab6d15a24e23a893c3335a79d005ac0b7319f674d97e9fc3db99b6a1f43905a986ecd4c107a2546f127b700e67b44b2f12dfe004328cf04cc2dfbe091acdc74975d58de6996faa44c5f38e0d16ac63b1b088e9421e72904f5c5f39a16a8a4901b4032787fa3d6b1b963f41f77807ebec4f338d78fba01df8f08e5bdbf3af62037b4165e17b8f4e311e272562d0816f32b1f585ad679393c411c2057efb87ae9cb0d329e5a91db36b31db3b232fefaacc27596c4f6164312b4881386c0db508b38f851a14faa2ae0c6285db4ac6644f8298e28fc018265a2aeb17d5d1166f533888c57e74683e468a57a1e877e1161d9fd7730e533b0a6e3e9ca2ffd19fb86492dffcf36114f0c85e260baa75c19386dc3d357f1dfca1059781e82659481cace493f951daa403a7c6c6fbdec86ac628ee5f51b404806ae01015459b6bd3f4b5b18b71b858b263fdf0256b211d98e2a4b74d9458ae4bc96d5d69a47ff42769faa2ff7f2aa0bc22370c6cf58d37622644019550052feb6278a4db64e4b66e4a1951fdcd5e8206323fe85f94e2949cc6124cdace2f316a292ce301bf7eca4c4b77495b559a1ca539db098a8ad9c6fe1dc455cee12d86b3d82c323e91e83cb59fecdccec7edc7b1ad0bb193ce81904ff25cb1ee593c55d6ab1a3207610838487a03338ac8f8f7f26afca3218cea04964339726c608d9ed9a7e50b7ed877676a0e4fd3a9f0e23e77f51932ac724e2caf644d17fb8738696721a55165d0ffc089bb32df2a9109ce7b22ea3897ccc02cff85c452f00032e1d8cd4f4ee8b2b7b7bd8b2804c16c132686ff82af8c1406928641224d5b5908e0d622f6c575aef5ccf869481d8129f4ba3ee58dab704d34fe8eafe11bafb3149209b87ecfca794ff41f1f3f0a9eae79425bd18ce4ad8f02747de4bc00b7ae581b9b0ccb317e724033f9d902b83819341fa1f55860be4f394becaeecff4b6883b281e88222978c2a709cc4bf1382a225131c900421e9519cad1b576ee57c435f33a99cbbb63bb8292f36c74bff1a66a3d691b6defbba7c01a8bedd2ea6ad7941c8e915fd351255896f336537b2f7367ae06cdc93d0a8023d7eba29a9f3a2e83fd88943006c27f38c938b6809edcc25631d5b12fb8a4b9fdf37adafea3af4ff95cf788632831c93cea649a1f3ce6fd33420fd13383494067ed4dc9f48405371ff7fb0906f306b31e17463fba5fe4f284256333b3b82d929ae7b04a29d4b54de17aba685f181966c16c42b3c0ba974fe51c123e2e5532f13b7cc817cde76104f05033bf668f90cbf18f179260965fafe0e6b954a7e99b3e5af0c63a6f16226ecad076ef6e70575c17e14a7817a5ef7184056fb25bc6e8591a55728630822973438353bd71755d5ba71b88bca38eecf7a4c7e70c215d471e24108b205f12b186d0a80e44ccc6ac8aad913c148e26a107a8af16f4e4a26e91cc9a32714f22a84c8077e83adf898ed312dc60f595e40dd85361dee3ffb2beadf4fb4bbd5b6f2d2cbe11453143f20f6a5369ae16999e2ea105f8117f84ddda9d30e728270c54d7ca115286c968ca5efb3c9c0f1333c0367d3042dd2f1f90431fff6e148ed6b906fec31fd06cda95f4113ce4a9f4b66974a4ea828e27f34c2c7407f20b34b64a55a7a186e4327ef5a5a5dadd574e34effea5278b9751329060ab1e03355ec77d7bd675df35bc85fe3e3c942440bc1db613658941482d27966027acbe7bcd521e69e35d4c1618f8cfdf0169794859bab58bcdbdc638c8075655104091563800abf7f6cf82b32f2a22e8def42c507b609f0a9b9a67f091b7915553a4f0a6d0c5468df6dc9b5bc619256e4facb6db1b4e59cfd02e8a15c0a0ce21796b47314796dc6b092e0807823650286f45af7a0683963c7894ff031d02b4c5145d78952cd8f4a2e703a6d85d0b0b73ced3d9970e1d7749500bd00eaa251ed2d55e3fad8bb80e0b89ac6d065d55a4d18d3ae3f2f4b8a3d0b213d5508ee44054ba0439a94de0c5a88e9aafa6f8b11881bb32523b7807c24d8f1925ecebc303b1b6ce72ef39843f6c91b3a8cf914f66e1decc3c2e6d66a1776e5caf45155b1f880e727b70a269c68efa2f9c2ba14bdac923017dd9536ab2727f904258a420a00d6f69fa3dba5d451b4bb20508292ebd5c44b3dc0a0d9a59998b8d83cb9551316b5bd8cee87246345d3b4fae2b8cdc7598164efb849806d4c6344210d6e29af51e02a3ad160d0b5b7ea01678ef42b78a250671bff2f89358c194adef6353bedfa75e39851f2461ac2f187e18a37dde9abb3f4b59b29474596a8d8debae940838087f4ef51c97b52763e83ef118b8cc28b28f4e9204598a3cb866cf370848c90238f5aef71a27793e1fbac76db6c9cc39dbefa661ef4e5beb2c8e95840133fcf1c24cff5dd9590641c0c724bb4ca0665ace2f7f29ced0540167241ce6ff2ed0fa2a32f4e75f638efced60a72064537d348d9751c7977f8b7e8475ae41a27480c6a85139841505d215d9d6e511b25f016d1083aea19b0236c3b06a1d767fd58ed806e2b0ddd8eb6be78ca7dd2326c385399d6eb0c200e55369b5f7a7d34e4e8355dc19b2b749fd17786964b488391d3012335ac9f203762e926aa765125c97887dd80159a034af579f7dbe742b1820be60c96081e0a2538fc1b483a395246865049a24b72aaa6b4b5fbb3731ef092f0cb6d9a6a18e82342693028e98162f5cb4f9d6dd76160f2d3d322d9d8bc9d40a9972b05bcef06dd53bc3593c84db8f401a360e39a97f2725c27bb49a05822a783fe7c38fd59651a0771959c007f9a3eedf1fa55206f5e72a16e3dd56bd2cd13722d7a2d46af00294f6347630de863b62b84b59e385a08d12544fddf874cce3439ede9fe950ab117e0f5493a1e7399297f3a8dfa8839164aefbf3ed80c9d340ded727d542aeae406d569dfa5cd2f77a508189ec032a5d4807de36b52d36adecaa43d1c4908e03e909256a35c8c4bc125f78ed1f7fc25ed382b7c5d60af92295d49ed51859774651c3b63627fd5ac74c13b847dff9be41b40f70889a431c4c9ea245997bd74eb335f02c7e55d0309a72a20c0bfa55b850e4f22cc639e3834527a313dbda3fef0eee544cda206163c44825bd43544fc13017fac49d7d10fd344bb8cff312db541cd6c7df590e5deb94eab57d3e2f69cf181d466ccdcd510bfa95bb190366f4227d93a398cb7ee663c2f9ca2f62399db4f51e235ca944f11e514aa1191d6f214269e2ec3911813543932b4a31026fb736478f3c6a3f005857b1ef126f49ee251f504b7c779fa66ae456a92bd054204fc00c3e7f9a10085252641acca71233791f4fddc2b541257000689aff574c6bccb4e8f1b5d8cdea25a05d40a69cca6e9f58cc504994e3281f7583dfece7e9370bb15518729b9d6bf110ee22f15c62793556ec9aca88e19d14892d280b0fb570fdb81cdf9087bd317fed7cb528e30a0a595ad3d9108ce40f221b35c52931a2e55749db9421d2bd86701a4c8a4d62c341aee212c99bc82e46c0b81fc4b24d02ae1105ce5e20e6937d27198203f1c9a611eac9318745074b0cd6bab7af3b3cb675aa175def157688c0e9fe4c5882bcaad517d1fa82eb96cfd1f228236e85b4f281f74858cf49b7562d8c1d8382389602771b145e66548e9dc92d21ece3a1e0974a5d4f6435599ef7fa18d71e90783b2349e88ce6dc60dfecc1ac2fea8221625a2643e536b392c334bdaee78e17ac947cedd4c1fc39b93b8c18c7be43d68a66e1bab3752db2fe95140caaa2b6f892906952ac1cd74dbafc08054bb94a62966ff106b9aa7260674fb9cd02de24b67f6dfb69e41df5290a99d180f38264b93de6e162d6a40180981a61eb359dfc8f2ffb0dbb47e7027e7ee79fd94c0361ba27c8208b79b120dc181114ae134b4efd528831e9d626380c5f51f9521a9ef168fc3091424346fede583d10b5dccb0de4dcdafb9d5fa6b93bb15580de959ef3cc8f23df61b97bc7c53f0a411b152fce04d8e2a40f7dca27b6e345632f8918b2b9fdc30c76995e88567742ac6a837036a6657ed986561a9002b33e4c9c2ad5600b9481e748124db340f6166a0ed84efc60f79b59ebb479170cab4f1b8416d2ace220daaad252d4fa23b4b3c598fd450e613afc95f8b674ccdf79c40ebbdffa6ffbcf6f51932916bdfa71b8ee3e8df7b2b6eb6f4ea038cedb2d2648ba9102a4f2307ed4601ff26cf462fec306d98af0a80fc67e6625e9f355c0dd0a15189527471c49f6538b0c007d12be88f9ee95a515b93f1d5b93959d570fbd69e39625c0b8c32ed0b95c7d968cfad59793cafbf4fd631a296f0dcdffd04abfa2b0807a3f78768b4ecbae84a98d203b67a36185267c30ce261e5076192dda628f3da27647f2e84e9f3062b65cffeeb9465243fd9fa980b74fe87ed0e0b635eab64c8819306fed8818815638aeeac4c74af46e5987f2db7aba022e1b58893225ab346f7a7581af88fc4c7776ad49ed100b8449ff429a1c0677b4cc18ece910d10a6304d53cfa771dfe7e0b26e0df06d5a48daf0ee3dc251e2708f53707b05fa39f7385babc39bc7a2af0d42eeae1c0f190f21b6ce8cc078ac5244ae0745280444d3c86a05659a8bff7400c775b8d381760c03f7caba61627015cbc5eb39668be43a53bb12d582b3b2c5623db3b7053bbba06864ef324fa30e8fb490ad424502a3f87d72425b31b61c675949d36b27a2ca3e59571fa3aa4db11376eff47ac820a9dc1215a3c2065c0515040d6978301fd11d08cc0802434f5bb59ee281056a3a54bc05675345b14140367feece428200cd02f9309143b4254197c4dac7571eade7257284b68c6ad8df3b079732b50f0d71de8c946cf537d468a8a14155d5039f6c8f1eec984e585f75fc225929be7e0a40f29b4a1cc7f0873790af24437fdc17431cf211c9b0e9c8d3e47373fb6da884a30a8464200d0fe3d4d3478340a9c4e338ad312f1900f56a563341705a1cd532e3f81bd373dd4dccb6a1dc8edcb83458e84b7f5799db59fc229a14e5f4d69766599f28acbb4bdaba7b173e6b25b4351fad9fcd7ee435026ae50abc3c55d129f0e8074b51fc2fd888ba4045238cbff911686717d4f33910c2f995f0dff9295d0a3016cf4821ced1801143bbf0fe030d54ea7e05de432df63506bc6bc72db2e0739d87d9c9308392c56f008baf544610e7b7e0364b9688eaf22fdd047c127203b40328d7cbf14c903bd06529ed2bd9174b0379876b8859187656fa9dd93292670c3cab2494a4d35d2b55776f5558dd434056c95486008d4ae4c541695c90ee57dfcd59683c0d5725c88611b88ac35de4d67fcc54635c6c932e7a13bbdd64a47ca410c88fdacc5303eb413513e1b95f634bffca189185082c98f03471bd027df29bb3f554268b2baa3e9120036729bc76edc2fb05d1bd34b562d56e70b5653c75baab9777469c5300c7eca3a6c152311508d4d067fbd83284c30f340e317a48f930dfb0f6bca2e151e609afbeb422615d51ffc0efc9d5a913911aac8ac4261b1741bad26604e508b7d1638f688ff0fcbff7bb3b88053a21dc844ed62134678c70c64f3a0a7f1feb0c0aa6bc7dd43d0a5b863cb418632fc8b3a07b05fa5419523d6073ba4103d67bf23480a28c8dc3ab5839f703e70ebace39fc015a1f51b025dade04ed11321ac33faf561eb5b37b2423478eea6cc74cf72d824925e64d80fb999ea8ca352a2b503ad3a728e9f6310736ea92f8385376682bac3015345ca09688ef6952aa369826af9b61b48c4550be34375fb6eff40021d8cf38542b3e32cdd542f8c64a89b81d825ffd5cec97ee576ddcdcce597aaf9883f83eba8af1a33cb79792ec9c3eba9d6ae85c3bfdd31e3a3d7884587cca1a80176768aebb19461c89e6c5656cde5dfb7da22f7aa91ff614064bc0357e4d518af9137415a33dd7898b3943da3fa74e6d3f0f50413597ddaaa777854e2aace43bc3d0a28788df562348f2205f1ada2d33fe5598a5731c25fa8a3ab397a7367aa93f94ccd9a621346eb4b9c1ad37f6f711115be10854e6fa4adf72bd80b09b31005d541bb2522409968fd4fcb977937b3501dd16dba31479c92ccec0ac1e75d7e78a6190e34c1ae285d0db272429b3c4e9756ecfd95f6284740b367c5605d3c22fc2acddfff8df9ad71dfc66c541a7bc33e6a7db88c33c2aa455bfbee19f0f183ea2035f5f9375e9a54ebce6142c8d2885114c3f0a285b40a031ce1aa1313dfa7754fd39f24d3147b228dd5498f60a4206a9085810f070ed40a83baad90f963e6ddc407460d5a7b3545c88eba28aa5b313005f0743731894ac18a1fef77f8eb2a424f5c5624cbbf22d7b4eee0624ca57632462483893368050f3f1b89ff1e29ac8d2b3dff9d36aa4aa9bd5157a8876fd1397ed1a7a4e9d9ecc036e46198b4f0556fd0064861910ffb52b04bc6e356a268b77c940674643bbbff626b043b0b5d5f2bb834f9fb09f1f5e9e0de9442aa2d9febd0e075282575cc1dbb109334ec4ac865dd66e8a40182e78a02f8ac8d33f56adf322a3633ffad26c0ddc4ccc6d7511e61add4bf90a05720f73e1f3327c416d42004bb1685e0237bb10a8976a267996ad79baf58a0243f48533353fd3b5519fbfd16368c9151644766e3efdc24ac0f7b9c9d397bf9dded416287b6119593bb7eaf53d2e644f746a3f0f6bd1a011ea0f63136d0f502e0238fb42846609bc403398fa435f6a75419aea88e9a4f40b3b97e58dd1ac48a99c6387c294cd9c98b7d0ec0614ee48c9f2d96592c06f477973cf824a1885f8e3605a3ef56a6b6733816a7cd21abbe7b2b868a3664dcbd5ff4438f69ec2fba3c98d3f5f44fc42cf9bea8ec61966505e15ec9387fe660e85469c693fb0b96dfa7173c9b1dfa16f82b151a53d4154941c76b2ae56def98b3296cceadd9f8f173eca18ec3c141f09ce5d45b0dde31bafdbcba6db30c192a95b691816af2337b2df1672fba0403afa5625fd56cd07e03db99cff9fc9191f2e39f64872a0991c89686a8847dd7ff5f7da85d7f4db5d4e9242e1d9eb6466ca574e15570371ec648a613e5c8fe423f059c831c4a23203c79892a891e05a35835af6638411d060c7066e3d7a067d36e49347134cf8dec63c607178656b1042a4b576c1d1f436f55e45294bb938c4434a02376b94eecba5301ef264e765f3d7c5bcbc2fad005f52ea43168b46af47394f9f7ce32767fd4ace8f03414c202384e477d9dd787afb4890fd8f6acccf057fce85f8c7a2de064c5b8224252adee92d975d538f19dde395d94901a98320a19f256bc59b12be317cbc61eb34ca313f4920f70fa4ae79c3e60786233e3c74360540cf2bee6d6d27a62d78decccfacac7d32631681e89557b9c88b3e8d66947163584fbd4406fcc9e5e777cef2b0e4b71267f5c93c303f7d1c3a538dfce47bf57cc2f4001da50d6582a2b502ecb7e539314f271ffbe0e57d4e1bf0f5ae0894474988e7b878e8a8f74bf5a439a5bcaf9cf95584caaf5e11e992d06e9b71fe5b19648ce6ab5c2fdc242dcc9dff0162619cd6fccd5117a4a0e52b3d8426da986df44ad40d901235b777c6f771046df2c9d226eeddaf35a8ba69c1959ae05961a4c449c26a27409dc75487bc8e4cafad56318edb69d7a4c3bd84d8e179f4bc4f9bdf4ea95f177f3d79ea18533fe6716edeb1490855abfbf48feadff245b27fcb5d00e49a4b1c5918252dfb0d6c5a27db4f12dc64254ac55e00d9a66ab00a400f3eeed1cb75e0850b7ec06aff4197c9b197aebcd5aea2210f149726b6bf7d2ad9b6d5d665c8fe0628759613e876fa40ec3cbf9c4448426d96d1d24b9ad9a1f1031a9c86bdddb3cb80fa9f916045746bfd91eef7e27a263fadf2f15aba0ebc1ffbcdfffb2fa6017dff7ff824b4c49509891bbf3da1b9dcb4b2d3593ac8b5ff0c650eeb57fb59b2f27e4fa6b7a3e54bd70352e5c54db1782b99701f267352467540712ebcd0eb1c9e37c213d72d3a32c97e20b3a36e96e2f16780e1ccf67b9ee834b88aff0065c0b2f2e86f104fa632aade172c73b2eeca43318bac0dc4d61223350ee2a2a6191027cc18596d31381133bc7c1bb9726927a4030326f0f68ad61a42cb8e5a2b4b8bf774acec4b6770fd3f7e8354e155b5d03038287f9f0ef15cf18c685eabfddcfd8d496bdba3718ea61272ff6a73448a4630289feb0c1e167ac02497aae4d44977a6bf7faf16d763e12f1b4b2ac4dab7b63f5b238d2a738eebfa1e4759f1f6f5c15bbbfdf07311f21f43b2e5f3b796687908625445cd11747d3429a5417cc4e598e76f17ba2d6a08d47fc3516ba9986179922a272023c4bf068c047a576e03315028e7d0e016cb4b124639b0ba415836ff97d653e84e4e11c3ccd1e590538dcf0278a80a710ec74b4cf4c9eb3539cae2b3600b2298acdc70fec87e9d8ed683a452ffcf70ffcc63a3b529fc069f51ad93b11058db58dfc673fa739f632570fd21e5c0324fe7e0a98052588db69e484728a51521496096d950e2dfddbb66a25bd32378f3af0b7669ae916769e499bb8670e2540a6874530ad15a53a302e60266e325132b9ddd6e1d4711f10d01b2c9d7818645f819be4511180e90a0ea9d0352d85a25bdfe6f6f21bf171805d31c787ddfc05f3a21329bf42708f118a7b4ed4944809b0d7673332aae2dcd150a6ebe155faf7b8306867fa700d8766f8c5d18c0068e726e371a98d37540df7d25c5f934bcd67aadfd16a35acbe7a37b491fcd546d0b61fb836eded036d9b1a927257a5dc422b1b9fa9e08cf4cd05d3858c0fda7c2e80d80cefba6368c7bfe6e023222a013639256aeb3860d2247f34d1221c79c0f193c370d76cff5d46c77e36f8a574c8a8cb4ef5cb8f904f2891dafc1c49372cb7c8e1770e6fcc81f020674dbc05a6a19913a0b78a54c48e752d06384872eb504490824679f041d229534e85eb1a83980c4c56d24f4a360d61a5cc8a0d2366b4a7a2e97a7597c4ed2ecf4b565298ac2a1773235f1d7956536d26518e28242c8b4240152d1e32f31240fbe442f25a56c4080771ea6e8a28bcf3109da030e1259c3393f2a018f752b6be4609f2484f69104e1aa5e8c15ca17a6d7a71979dd0bf45db51e1bbc07b4f45491a6b7a6077615ad5c58334d6e3b64f5a7e30d67b13ef889be806c645a8f7f4ef7c06b6f09e2f24bf348301f6669eb98f39cfff169185350ad9e4a908fc65a8e3568d742bd9e4a4fbb77cba72889c394e2ddfd8dab26f3672ce02f64211e4e374ebcb647f261fe01c92773b615a572fa37e0330124338550d7ed725d5c68813ebb3b1c44549093c19ae0e800240d659b8df2b83770398cb8ad31d03e3545f9a4a5da1f6fecb4b6d3cf2cf9be3bd979265b498e970f717bea4aa35e56a59ac2c13b2d6549f5fadce2a187eafda73ad77ac53b054e63dcdcad482cc52e963907edc90c8336d46f65f46f81705796d1061a94c76008b8e61a99c156c13893df5d3dc27fdffe44eb0c5199d04917011ebfc133183ed892fffd6b21c63e1d9554eb7b87920012dd332f1a9fbfb728ae2e881b3ac9e09d219ade12e46972af874eba7de086c6025f3be35c91f3824ca102699e9a5b3ad9f2bc6a26cdc65427a5d7aa6e11aea7bd4b3158c67fcedfd27587cf57bc0fce28621b7c2b844bc40fb842bb29ce182b45a00083118cfba837278456d31f9a3c8deede65db72e76f7b39785df138ab5b0b3a86dfbb60c0a451ccf44d2544f826f85e6b9765235a9756b8f20812b3444c3d59ec356256fb40b3d6d47b2429b24c297966f6f5e1581757d5e70927160d0a4df3a6e41b8fd20eadef0697e51ad64e0a79f2851125bea1acc8eb8927b77913acb433050731fc8f8f8ae4ebdea642c5f1418b3455fec04e2f89a5593158a54eca5a678f3244331ec3ef889dd34c90d62b885217225d2961dbcca8c2d9afa4a5ac00e9f985861e370cd03dc0ffffbe08533c77165622fe3fd359f0f5fe00736c0103e79a5219463bce2917bc868d695daaa4ad4424e0a004e16b4737c4be194ab2f477fe598ed807524717155b12b0182e30970bd666b9103afcb126ad1996d398e0078fa26c6fc956ee5e64c2e967e918ad98bc3d332f6d8c4addf24dfb6b36d478063fba0a4300dce7266fb8770fb04951f5fff0f2daba0f9880122f7d1fa14e2d4a890c5d2a34694aae1ba26b11a8d052af5bcb49b6d5867b3bce00efda9797309ac5b1f13ce22a2bf6e4c6d4f5486df233a35045c4c9926f442a255e5fb61af6cd1e19ac03c28c19e55c7abf49dfe98631fd2161ba6b1269522a8e15ba8c901c54686c7b2fbba4deae6bd60c51f2ddad9db2186cabe6b9add6fb186b9d9aabd989d42442c6e552d0da3cfe4fe8fe3d6cb72e9dd96ed33c72f3631136410a2d0cd7d9d7d7f09ffc52a841159afc944c095840ca330d095cfcfdd2d3d26521e2e931e9fe8bc7b6faffb1dea5c603d725cdd90af1262de9ec897a31985984f8ed550558bf8f73643c00b0d00e2fd54aa0453435c3f83499fd76b7080a556254f6bff57693dbde9636c4b7fdf0868466b7d581eccbf9493c96ae06f76d4f81939d295aa1c6774d1a2dc4bcdb592e95dad905315ef4bdf687c2c73bc6d6046d1b5ee4da9245050a3110277985c5473e86636f41b0d24b8b87664e6c661e59e72628675f2f4bbe8e8526571458b35d796bf11f41dc569e8fce57c162fd8f9e4b2d559cbba0c3ae035cff00c2e3ec5682f03d97bc57727709eb779a34bfc61c04a384af22c7584e35e1589506c05c61fec93e7ca8b43b36bbd343f3b41ab9306f9e1878ac5783cd5bbeb50e1189378ed7a67703d9d252adf6fa9243dee02f31579f2b737770d45a606d830f460ae24587b95a6f94daeef128a536e6fc446494053a76ba5de3e9b11adb7c7026bf02a044d27f70a512d4b79382533870c0b46d4ec19b866391129bf458946a90fecf571f200f0e939374ea97db8eb99c074697922e067afcf785b92a51139dd59d851c24b42db718567f4837b1750264b7d4b3552b097a344727d0a9d01dac41b5140a3cd665682b4ec1fbdf28c66f40dab44c544c8118774fc581c7b49eda70b1db65ef88aec442ac78fb67212ddb940e3617908e519b6e9f63c5ca653cfb07b3602cfe614a8fbc539baf1ebc685dba4436ff5314af137e8ed9883d8aaa6a58c7547890e77a6820f129d671d9287564edae85a3a25335224e77308e7e1920abc919aca8b66f1844ee4ea883cc37d73f62de0107d28f739af51a8012f183858ba26b84fb442a10c6ce922c46c6088f48c389c675777bcf2ed834a66491b9faf7eed41549d83907553ca5af206645bc79a2c49c1e185fb58a9bbe0a4508ae51831e81a71a3dd0ea84bc5bb4124f0c138727e48336601e3618c3102dbfc619ff884c1500710fb52106022df47226dedd6335c3ebaa379073f7b83a7ce9172c42910e54433d1f2950e48c970bcf74f23842483f41e275dc23ca9c1c526e3ed6dea23a5afb1562172be8330172c3bba8b4792d48516c313f92a9bfd6b48857a13c04684879c5fefb4028744e28674f7c96d55f79f002bc9f777b47c6a1a8ae200d1c8ce630db74efd9f74a986d80516b23a5348c8367299085a495c0e30d3ffb7f6a767a55530fdf84eec431c994b0e296174329ce03f228f114a9ec9ce0bbd56dea45f43de1249890a3651136b725c99dd8d57f0ef59480a001bbdf07ddd16f04b991cbe08699555c56cbfe507eaeb5390aa4519d64035974607fab59b37b0576ea21fe7a192cc2132393df33dc890f6ffa9144728b9bfa981c25ba5056c5a55197258e95a27f00f3927003eddc13cbf4f49863503b48fbf3b40cc9e2c9159536992fd3bce2d0629dd35a9de1a1641e3c2a2c55d26489afacadb3c914f0a3368ca6e5296cd14d911d05fe5b6299ca049e0a9e180feadc4ef69a5626533c23f05083215dc509e0e5f0d474bf43b7b4ee8146a7343d9bf708cd74a3f576866bc0a9d3385292cc2b4a9d18d88fcaccfdc0981164d64bf11adcefa06005fbdac13b72c9cb92b5d2d00e12b1c4ecc35a92f7234da5be17867b41ba7eb77912d7698aae3cf3ba24ed277852fd484f0c312ba648a71fb066d65937be42f106d82572c94671d2c58a4b2eb5e091b53a3c5c87222703078e741677ecb9312f04d0b0573ec38efa31e7ab48404ad42225abbbd7f7c80749f8741bc284fa1e4d41139103fad12602dbdb9cc60542404d6332ba4538a5665b3eea61bb5886b5dbcd48efde0051ece6a5ef3a69531f636b5d40e3eedb6698ab4d35487422001804834be2ff2e7a8e43946f4cddf82edd646348882b541a035ed4084d83d424ab929ac6de6996a2935e58bff8e2f4de5b7a3f405b3eb406fdfbcd75b2e6a31af85c708a13e91c724092947bb95130c8c12d3bc075740c44552647117032476787a0ac9a13d71154a9175a37f5eeab31bd6b651fc51882fb60cddbd3bdbdc8872b249ac91722a2126a2386c42fda50f20c78b2d70584659fdc9de7875d79761a97642db00f7a59eadf03ab4c5e9a0be3385f982e2f08e9ebc2ab5bb0ba2f1876d06f603ed7e83d1ce7e198d46006fc295e2d3251583ef43af7fa7a8988da81f9e282f5ab86ff3d92298771cda764b1b8d5471d7b3f18836af591a427a765612a55af71b3c2a2ab1b9ca8083cc6e536b84c199829a41a86b170258c1b4176ecbdd019c820aab318cdd34e757ec9d018de9d89084defc1ed5422798f1d253d3deeeae8e9a9768f2d97a9b1345c2e3af9f177065ea3d1e27c8e1e1d0bc4d3723e6309d9e910adb3f7f3a2f3c1cd287d224f0f06a2e106d55de7aaa05ec799f369dd23d60d1645971eb4f29b94f3ead8d2c4799051a862e449e46d62fe3550930aba92f33004f3282f3ee8a4fa2f30cde85c54613347e7e4a8d3d51feb143ebc8832f99cc925c25b52858f998e18ed4bc51edc97d926dc77a09b7f42f63c13dc00a73cf77fa7ab1a6151759b0d1d8432503ec611ccd2a3677dd27a666b63169fc3d309a927ae2c3265a4bd25455ab361d3ba93d77e89fe375908e55289330515602fb2e5a996e57cd94ab00cf979da723b4864158d0e582452fac069550c73ece50313e576b71ab622fd5ecdb5b0697e5642e8f4f99415c0a530771c36050eb1092331e7b4a6501f642d49eea222299f2388876eb96cc0f6f62f3204e04358ab66d289b8ab4ed162cf694cf83c527b9c65af8e5957b4b1b752383fca26cc0c21fdbf960c925a9eeb91ea437baf746f5cfcc0de5f162910af9c6020c1557227f8f7947996a59b4d3fe4f0b5f06101f7f3c11352fb5b00e6103a20b3d085c55ffed1473bd76bf37693d6c13a5d80f1b761bb0624350b55b2dc8b15766a6ce9669bbb978b09d20b588fd292d8e5a87344e86ac5096bfa689a6bcf2fa76a33f9aa25272fbfa3e6e897f2b8503d6b713267786feb3bdd9bdd1eb0f906e844372ea16e3d8e108589722b535b289234f1d116ebc075d71d009e9f01c143d5e5a5361f3e04bb4dd8af0ac9b1d34c44638dab14945c6313887c30d8a95150499c9b6f7a6de33977bbc64e5ddbe2c3fb0ae05e7e79ed31a9b5bd83f9e24b2de4de9024ea85e16fb724dcb334bb559479f5bbaabaa82eef09d9ba9ef5b6a284ee62d724dc5597041a32543ef9ce51edeaf38d6bb5a8764de6dc0846ae8d948f6b661b469aa2f53b3a39abbfdd69d5b3864dcf26e03ec0dd89c6c7e79954013befb80cbd34fd0a3bdbf624ad6719857c809f50670aa02b70f2bfc0ec66e310c3eff03be9de8e54e803e0089e59eea33e60b778c8fb198e564d28f3ab5606564924f58e139fd7017785ad0807c9744de10daf94eb42aa66c97b5f1230ff7bcff43d1dbb66077e92e1c74a679d0d7a7f8dd9cc8de951b129f41f6224f2c5794ad65274a498933b975d70a6c097f3dd4bfd810a3c186c6c20237ca5a3af015caf4e32f841f793c81f9f8271d11cd268b4d8b4e62dcd4482d9a31d02f3bd130313f1f566fd62e68b0497d0955889afbc25333138295cf3424a8411af2798cd73e2f148de743d11195144a6baa70315d73875336218f2859de302f17931f8f82ba5bdf9f1938f7017e77dbbc26f9b8fd1538ad34cf5380c099061f537472d40bbfba7b651e9379ff45ded3a63104aad7d3269de3d37b51623950d0b6f2de211bd0de7e1a98280f40bced6ee679f30ede220c5eede48ed2ca2053236cb9f5b2891d27c3fad318a8ed15315fdbf12e8bc20398d1aa1b6fb6864bdde86a91e1d69152ff43835a19377b98aeb26ae61a70b17bd1d4375bf7f4718129397ec3d112de05422de58dfafed721bc82c7c5a7a3dd5c0c06552d84083be17ada455f76f4d25139b6bd15d0ad2c2f16bada9c758440b415899b74bc086334c9d33c11e026aa3d77723beb40ac3bda8802835a380a61b93968d8954c5b182925952c6dcade0fded3eca67c92dd26acab6acf1d07a3537013c5129352d57f723b555e4d8a9fd21924e039af11882d110c17740c299c15865554d46f1c3a57d376cc15382e12117df63d42ec5f24c1b268cdff32a83026090144ddcafaadac99449bcff6191fa371be5d9414ffa02c86925c1ea8c4f4faec3d12260ee7227b329248fe40ab3c6ee2f90c82406cecda334ad1b4c1ef82a2b38d597f5bc42ab67bab5266386a056eef115359b026c014387152139a8c87ea75e4a938e0bc7da5587bc4327d1eade520fc0302841713246d85d09221b3737a82db372e8d2d21c65d424ab7dcfa181a8e171edb5536548fb42f2ca1119b8b940038dddf7eaf051368157264511abacd587181eabad6c5c0717b0468a25e96abbd04fca21db28487ff3caa105547641a36286ada3ee3f12743a47153bf7bc136d675450034a34cb362b1a5d57026f1c50fb3dd69ac31933ae198a9890b19522ad1ff14af1a9ff2fbd2a29215776c312eec6092ef21ce57087d375ebfce46074785424c5c7b94257db17e839e077bd82eedf130b5dc44be99f14a7a471d858555fc7614ad7c8fc1162d5c3fc9a17ece1a949c0ca0426623891a43739edcdde802ffa845807288286830947205e1e99f60ab9dd7a7d40650b6ab40c84587e4bc1846dbb81fd9f717f617117b9a81a04079d9d1d6f25d8b0967e256c202ac65e9f13972fedc253628db112f9a86d2c1ef2f011dbabaeef2832a70f50df1568e5fd8dae01d9ff4c73e369ecbdfa00740b592124ad9f9ff3f1fc91c96df75c4f64ca5fa6b56f8b7dc403d8c0bf388221ff2061a3825293a1291ada0886a6d437e2f8698ed33a1cafd2eb3fdeef9a7829c357148f590d79c1881216f336c37c0c1748862889d53e2595defe52b400a57f1d1e81d23641cd4d4464b187d443627afe9726d10817f39e627cb49cc2822419633c8def394822231bc44be727e7f0a74109ea1d680751ba69907b93f1501a0206ef8801714c887789c0c4334c7d8a562cb5bbe7ea7e5858c6c0ee0fde23cdf8b83f8d525be7360132fd231b43a5cfc4b20b8bd7943133587720acd33e9f5fb25c9e1b93eab4eec3b4a051ed0cc1f38f838abeeb0f2be12c0a2b0bc5f92b2ce97780e551b7093d25c02ba10c9f698fab2a47bb9519bb6138b9414c006ed9d48428d703f383b4e5cd3d0cf913511d83d706066da1dac978296a8907cdbe2ce60639727f39fbd7b243ee0f901b1c56d98a6213dce117eb0a7914781c6bfc38fb31e2415dfbc41b0a906f53b9768ce95788cbbf984cf897658f11a391ac23858df937c19a66f164cb8cdddc4d7956ac34e846e5bcd72818441dd7268308750683b6bfad018f43801a93edd0972c0f595e2f5f9f0c51f1db1854b639c417f2cf2793be7e5faa6d84e1c68e4dd71d02e5c9a74e6f893f214ca92958f599940a59e5bf190a7468338dae616e305c1c21412b7a07ded6ddc856ed1aaca689f79d381e5dd952fa4fd40b412760858fa966f35517077e83f3ef016f1a7b81c18738990df71cf9ed2e414501f901374a49630fe4f475551f275e85d424a5028906da9902c5cc011ebcbca1d363f41825df172eb633eaf612c4b3a1094eee1961974ced86e8af93a6689b10acf7fe5c7fbb63a20bc43db19f87fe53c2fe2397c22ff3ee6ae24306f5739be930f4a9e7aa7a584a4032f7137a25eaa20dba7c89beda2d75d6d136d25a5ac32ddaa2d732232f403f9b4f21d4c376e6f1de6bf8e074d496f1109d3b40b962403b9c12fd11d9b85b35a038b8f9ba45687604902557f7575eeeeacb452778ef9b3fdd2fdb078225b115b8b7da1d24a297128ff8cc3329081f0e3e846f49a63a6ecccc7f5a650b0650938c22bcfbb1f7b37d35db539863689904ee6bba54632b4ac33e5eb83de49ae4ae2878038dd1e97000553b25bc7711f9c8388e19f1b13094fccd55984eb51255f0402cce034484287353f66637d74abc6edc18fd6ee5c88d9d3d2c785fa3ccb3a1c5a5104fc35b9edba76aecd324c544372c67a2f97343b3840ec48e88d5b0d0f18dd14ca5105d89e25d7cb6170eb1358bda297e6bd59306234784d2392121c8472e80d632088f8504e90f02a4f8198a4926dfed9c817c5a96c164c63f7a1b90b52d1be0cb9d56000b2d8c3ac31aec3663a7ff3dba94c66d6249e73210606a141d4a4e2bb3661d2c21f10d04a7fff1d77c7a548e8bc6d5f4498478f3a6171b87464e798240d09fb43e3a05c208a792db5add5c9f647898ed91d5509eddb7d3c8b395214cf3073691c4afffa269de21ba4c8362874abf3edca19b1bbe4eb2a1af4f2abf776fc7e3346218409fdd3cf7bb5d54e3d854766688a6d274e2a23f59015a5214680e03c01c32e03d20f436e2ba82fb7c62f2ef03118e91d61152fe8d6563852c7db1642728073f30bdeb461d97669a880afadf75476a204cfbc4662f628fc17b503eee4a2acf842c17a57c8bbcc5626a1bca32021b4c1d1fa88dc84bc5c7c6909b4ea496b892d028a06dd1c9fb87d50f7fd823c05c63eea55d2ec5825eeb4690dcd6ca33b169715a8470261ce56873bce4f5f7d06b7351ea0e127ab8d4675e8863b9555194e0784cd45bd5298ee496ecc6144451c0737d1f0e60dcf85479f957b26087c567b88cd66bc285c2e30282fe0c37d120464ef7fe14fd829b576af3d5a7c37199f4c0539d4f2d9ae18a259534fbef01919907443877c926236a6fbdc96028c3fee3c1ab49eb865a02cf482a14910678600e57e83c36344d1d29eef0cd48adf928dea3263d74aae68e57935d960f9b7db98d95a416dacd1c49d2f60f30bb65b2bc5743bfe35203378ec2ec8d5f65f9541634830ca929b793b5538030f6acd72cd071452121e55414e352316c5d53a415712cfe3bb2e2c7f4559aaf57e07f8f9f2a02d6b8a2eeea8955b0f8a1ed38ff0328a7af6d214d01b9430eb7b752e869e432685b93f68493bd713ee6f92cca9b369151f251fa590e9ddd4a14567fc524beef1acff00849935cd150062b24a32bf3673b8856425e3f741ade5732138d143558a527016947a4123f8d570825f95fa126c7121962b1c16e7220edffd7c1d0fc220b82ed7f00937c0e4b507f994094c0cad86cd4fa865e616c6000deb29ad5ac140e2f1eed63c80a6a71d078ad35327825a4dd9c34146bb9512789ff12494e9ed5d52cfd0dae4adc72c4a6f043bcd7e8676ba4cf0865f05938272e5ac258197c7cf453b236914e8a462f69b27445018b6f36cfcc9168aec79da2a0ab1d369f67d179f4046c1371c3db6b75b9bcc87051c79aa91a617a2eb3f772e2f4abfe9b5118d6eb4aa8bab3a109eb1196f1d236a416331f1c4081cb67e71256fb6e0e36146a8faa7ebca785d3e34669efe88af3e89b748ada4b49c0110619d4bacc2c9ab8d6a06cd068c7c3c649be2ad2f29c7e5719630dfbb5c8e5f377fbe482c4b1fc5ac99b16afab4f30450188a431bf59ac2afbc183ad928312315674758443a9cedf34ee808fb237c707ec983861428e0060bb0a30e859ba6ccda10900374efcb440a0511959f6c17833a2cdd75803cf6d567d425ec8d533f167bf1a60e097ccc85d1b1b0a023609cd9ecc84c850cbe192f57991d6d3751ce587429e5c66b713fad9709b9c555cd888de64f1ff57acd2567999b7ee2ad23f45508989f757c7d7559343b8a1d0d88844aa0c3663bf87eb877ec48457bed486d28e586f2040101e5c0d24a69029c5ac3b56ea2ae1a5c634c404c31fd8bcc5f65dedc8e968a07955af07daed03bfe9a8e340153902b0fe8aad1129eccd08098b27bb90fd8ee25b88af2bf62c602aef3303a91ac820f71a13585ad1493911f1410ba116dce069be939073f3437559f0e46e9d23365aa043c97c34918c1ad39788ab24b4db341e11a9ac91d6d89106143680b79f045b252890b157fc58d11be6ed86f0f18d4fc58d812d29377656fe698b0f3ecba4ed3d28964f9626cb06418d4f98b0728683c8d3dac4a2a2a7b66313e2ae09e31e648a3ad653d3acc69b0dba3a185a6c6a112548a8d3fd88c11ec3599762a4592f2b87d140bc32259dc6a4aa59c5ecde4571dec9f942aee6eaa4799c48677bd909779339d898f1c8f2c2758d1c9eb657123e46f72625e7c0c4ef418c9ddbe33d829cc4298217af89e4a32873f966dff9ed4c07eafb5fef92829a63a24b9854ab6554a7a61b402dcb0cccd2b0bcb4cdf52e79e53e22832b1cfb13c3c8129f104d621653211b3e98d0daae53992679aced2fe15af30d8c3433ecee8af696e784d252970fc28ead5db3f314b0b23c4e80195d2072b47374a3ad7139a37bdc8368652fc601ca6ae7eb3a33261afd59945fa9e5fa3967342a4afb8c06e51b7ce69fb01e9c11360b5b6dbcb62ff3381ea601f744aa491571e215f802503f64e72bb493c018fee449ab0957c57471abc1944c8e063cd31e8dad2ee457bacba41d60c2df4427fc6bebfda5511805c2f73f57b8cfc0a3aa8940fc62980a42d18417743b5aec91e803cebe51af416cdded51c306ec8c1d02ae5407dd6c4c2018765c4280cf974e66b2b737a06d3d68f9f4fd5a84a74b66e2cb1d7f681d4cf09aebbbb12356c08e0501c39436940332ea7f0c3e44eb66f0acdf312b002c3e9915364e692db2fdd96345cd81d3f5a83a87c2b274c112c593bce1dd8712d2b59e07a53d38f3481607a339a103d000a64259c1ce87bf24df183845ffa48b1903d4d07311a6cac13d168bf21ffde6cbab53daf84c819f6d78e21b2aa835894f64778a2cac23635a3c99a381cdfb10396fde288859968ccf98befc342f8bebb1878c285bdb4d2edd5654ba394911c6d3d1f57ab2397cde0c7a6d319890cf5e2341a0906ee8009e27d9f7bc63cf1df3a5c20f7a6c67452bad87018560a1c6edd52e2b629bba145b704ec5c872a93950bfe03ca86e2cc527fa94fd53a10fa35346118a4d8db3fe932a0d0185bc8af0d34fec824ca0e17d87c7098df31ddc5bbd9f5bb53c4b17e727fbc04b3df243a2c4d0ec060a16b94813ed5ae26b5a4f5f5dfa7a50596ceb3e92bb2a78852dbd819220a77818a4b9e681ae0739e0d038ac6133c76100bfd509e787bf0e5357f0d3eac3e88656b6a4887cab56e4e006dc8b595417857f4d7a2449e370fd7331a869cd5897525dcab0621b2f90bbf4bfe47c82ab38af221ae364006850d18b7388852413ceb2104d48c73af5775f6edfcb89e21486e2371311a4048b27e5b8580a39fec5e47b5db09ca390a915f8d38cb645e127c2df3acab2f80890ce533f4953cad04b07b6d21817986bd23b0cf016048d6a486b8aaed03c14ff95588cd5b38537b730c535c3b5cd69d2392b311f751a723e28bac31b5b3e0c285ff4666693df216f999a65e26402e1126d45f702c4e15905a389640562bc563aa106be9275c7f7ef7e72036677572556f54c75291fc95b0afcb218872a7ff9bd1e36164e0ed5c90bcb81ff3302c31877d0deb718f34fd72791a299f20040197588190124e1098a4436a537bc8ced6e27e1a78dc328d0659a144c3a89894fe104ed584b01dc270500054ed200ab5dd6b21e7a3a2e349584489e87b03934583d90687996c719b3600e943c16134de911f7014cb4e929dd738672e65d1a18131b2cc570b332b4a63ff03e655e0da0d00133ae1eda3ad88c75d3a352cb7cbcb6b4537df1165eec52a4cca350aed971ebf95256aa496318e18cac59aff7ea0dd406e7bdf6226460f3da5e495c1b8ac7671d5e1910546869555ba65c76bca8eaa0c92dda9985d1b9b59d7ae33d51388ac462ba0bc9f4503040804fb51588c2f263d9da5911d29d13442c8aa9e8f84d8adfb7cd7404d2646fb1285d37834a3b9dd4771d8715678069daa8380821b01d39e05136cc247b9517894131e16fa8a5ef0a0314ee293f9e85f990af3d75986ed0751dfcad8b7ef3f5f05ee935e9be369812d6599a6289a57096edcc47af67264d081c51925610a95d8a48947c604e26cc672046d93792f0d4a597f48b83ba64be1604028a654e064d7c9f3311a7f210e6e731d93b6a6ee169ca03672b1388056984163f3a5f8cdf75318cff506d4c7c0198c29fabe4a5877a2577ebb63c81947ac8d62f38471747d58f289d74098a52fb5d443430b3b0ad3c5dc9956ea3d03316c0e3fce5cca249a4de1b3a33b32fff423247b66d0f29ae8ee48a52eb055e43ae0e079780a865d512d753b7b275cfb038d5845c8c81c16893efee6fb8d86480d5bc977275e76926d7e26f89e73a7966e494129e0bf5eef4dfca2fdb576a08782030cd58f71a71c523cc8caabc0837a68db93844e44efa1eab7f478bb169807782b7505f9d37c84063e0e5678013f9ba7ead41e5c79b746b157b334e0096c149dedb501050b02b5bac919f6bfb72ccba54e20397d32842fa00f93581a5ff36c02bc755496444ab21b1b57ab5048bec07fa7049973537555401e9034e8372d2fca84c98790f5d13ec3c6fc421e0507049f69edd78408d8719ad8a9f3addf6eb89a3b91c3bb5f45290eb1ced4c0d02afb5f316c450dbdf7a11f8607b34901ddfc03f7ef7faab4d8ea495f558ff6f40db3dc2b63f69859f174ef368277a907a6130d671a7e61efcae476e384d4d7318341f025d5dff023c34b99cebc18d27746d7138b036a0126069929b89ff5260236ddf83d1a673475b33a149f5b602194cfe09549255eb738850b6dcc9f6de5c26a72a6fb70d27310f656be7f130638ff1094f45975b6075a7a805297668b2c12cff8e2dc4b8ec6194f5dcfbd579baffe1c84966bd67c6237504e8fa0c0f23ce815eab99e691e05006e67f0a94b05dbe6e01e0cb7d50e306b7959bbb2dcaa6118db0efbeca973f2d16c393abc73f393a5848c9d4b9d2d0338d1675d0db80a6f420918719a0f4a27be8d78aea85cd09da90afeadd937ddb08783b21a965685971c4a9e30938832d275ffa3c3fb2bf170ab8ab354899daf490dc2aca322800f533c5dc7fade3c304a352d0bc08aa98da9ce0eec25108f16aafb3d15d8e70c6a0d3fdf9962dd8b618e8942b0712c4237e17f4468784e519aeb8f60db11bb9428a280d1771467ec6170f22afde7a645a2d21911ac856e8c1d31520fb48c8fb19c74bbeb29ef6432a2de90ae9455f15774eabdd8c56a397fc5b9dba11d4b7884b25903ba1da93401318f03566c76c545b96d9d738f968370d5e66cb9cabe780bfa8e22fafe444d38b237ba4d2c2058411b16c1c8e070c99ad902cd3476de2e43384bf3681aeb2073664926f3c8d34f1e10621896c5fc0986efb3570976fbbd2977dace553b414a419a98ad3578a583328d7219683c2af477e8c9312c0681c7815b4353d5e91867adc2929af2b62846472f9b7bffc8962a08ae2df754ba9973bb0234642a3986b960cd915c0bf4657d2e17d61fbfdd89e19b013897fad45bb634b65aafa631c82b11cc789813b9b82a0c5ec6af2be4ca78a6bc9380b4e6e8062c2e708704966a7143756cc8c7cf78ab5ce7ac5bee409bacab7c835dbb9fd96d62492d82f6ff4e78ec2db8e6c53fb4d410227852a72e89533b7293c079c1e2b632a7c7b33a44499976513d26a16ff34300df7a55badd07ef1ca5b8dc9bc3ce46da28649cdbbdd8012ee1e8785e49b3d431ecba5e122143b8a3d302825e64c14c4719ba06145490b14bc15139fa6f57d7af1bd9125a780c81e11f7237e58548a45c23ac40619964c7b5d11d1f1492476b65776aacc21fa62aa5b392a05a66c4d48cf9e337661f64a9697a0a4a8d87a45e5e8d9c9c565f2cd4f198b10e2cc015294919a052b154a5e0d74af53e3ff617397af27ee525def053b07028b93766b2132d59c023905e477458c04ae8858789319b438ffe9c18814c983f8f9a569f93f8e3318d374d9c6bcbf7a2bb1e7346c45b93aae94dd6d314898ad0600f26b200d1ff2d6e1740d928f5e637b9d7ffc8ffcb7152e6ad1d1469e0bd0568ff18d1002d0a581092377f7ae872ca9b0665fecb34362ef71ff4299068d6f00fb4e4f701f1d66c960a77f4a8cd29a183e0bc3c9c633ec589a023765d6650dbf47f051628fad5fc285541002327bfcb3d93c7af516ab2084417dee11ffe17a5c76364ceb6d6afcca706fc677b280906a09d27e211d17a7b49d9fdfcc1aaa1e393c58e04efdc3dd256659f69fe8caf04412a8216d725f5b412be4c6c1dfbf2584e14f6399943d3bdfbba42fb7951bcdf319923f44dcb1af94d161ee705854e20c803088750470d0496454e2a57d252c13d9236202deddc47a636e278ccc92c4b5fa376b2034e8f0ae0847186292cfe3124fcba2852d76612e91085c29ebb7eca1534102921017bdb6579523e88b5a8958cbc7142c6c101d47c837d6621e9cecfac76b323631887b47f5a048c06d328712315db4e0ba023f9e0e91dd5dd1d01c448abce6b3958a2edc13c511a678327e453b839d28e0c9ca72bb723f28b3d67bc351e85fc97e393664e960dd775b45df9de312a9716b36a6c778c581878ba1dd2c1d2b5ee9fa9ad19cd717aa949e5b3bf04e6ca7886f41ffcdb55f69ac36a60de521c0f3e96a8f489510ec967da88919f46740174ffd8d9f9de3439a8668df1a7057bc83624bfdcef7e5ae6ec5610ce533141058274a72940087a6688628399a385f9c832e5e665911776f1ea659e990bce04d9456e2d13bb382cefa08040b11e2319f5b67a0d64e353908b14a017e768370d958bd70a5446019ae00f20ea9cc352b09e43813b5be465e1268a39c9973046ffcbff495c5644657ed645673c0e9f453721b83d26e24a9c79da45a4a29fc1747aec5097222ddf08488e6100adfa79f807c168a4108145eec91cc7b04009c22b68a8619164ee28b807a7c8ec60868d4b5bb9852b6aeb4400dae8568499f96a0826055f434861c3350219b93bf064235f3d19864f1e085015c7a5343a52de498fcb26bb3ceb82f54a8b9203df233cb6164faa6dde685a0e692ac7a988215348a99319ea02970bf9377f27dd3bce869b26009a6b94bcb30dd2178e172706923ce58eac7560ed7e1b2ac4c25e7a62510ff1263c3dfc7ea4a37813a7d9588e43479384ec6b0638ad5627722b3049a95fa35138787506fb1afb1586ac5e1d2686375b6b013d83fead9c0b2f5f5cac58270b23593c3223352c30a01ded7cdfb06b10e13d90d191ec7dc7f3e7cc5989e8fa29a377b323263e8f78aefb15a6a2beeab4edeb14690453c58a4ea9c62cc3ff3438837505a507f6c241b40359ca07929ee5e70c79eea698715204a26b90e85f02e0ea69d3c4007ae05cf0401df29f8c5cabff2e0d2313e14700cd60a0b8966d86ffa6fd6242e8dfe531264440f15ea05aac899d753eccef11cf0695a4e84e0f65d17e0e4a99f71cb46d4a3b3b09b7e8e97fbeafa93a826646415722835ecc7d3b453c71fdc31cd811bf7c994d371f41f0c651f4dec412222840ac11615d6a81531820dcdbb021d81eb7fb2d1ed22a2c7aba5b99945670f16b268aaf4fce4e38c3942dd760a0414ba1bd65c65b89df13dd0c31ed8f958e2e9cd709d6b85231cc91c49cdda55706b8125e9dad08ebf7bbacffc210acb086a268a5693d12c5638700d5560e20490f84090690b64febb498c0d879c1fc44a84605dfce38eadea492316e248175c07ad0c7f63ed41902806ae12009b44e8ee5395265ce88ebc574e0a920224032634f854ed037e78142785ef2325819c4b8b28f9885ddd683acd4fe4126636216b4900e0da2ebc3cd2724c46801ca713040b5e1ba5af852b11889d8e1960896093383fa6f30d569001f834d6c9a43658741fadc500fbcf23d68e7e63051c6e59e12763fb727a25dfdee3ddece88cdf3bac88f5988b6b946f391f4c05fef1a6078848fb047db9e59bdec9db83aeb1081d7fabc4e911cf3da40a29c883beadad74af539575cd5d9b5e2aafb47d6e4a392ed1e3ba7b1c4d2ada6f9b7d17b3465d27751de0bee0bc5166893f88b0f3adae31f81b1bc7d0978a1a073c2d4e85291fd0f5550745a86899cf4d6daca1411a37ecc40195b7b93130bb466d101154117911276632bd207ad598fcd1b398efc4998cbcc4c20dc6b72f209180ec408c3c19d4a1ec5f53c8d64ffeb9f35d88e5c7c2b15f9523b5298c6b140cd84b3f0708c93ef5037c8c3af188309efa486c88175afef213383c38ad0c432418ab66be0d20441c00249e5f4eff54a94dea2a081b6c064451286e5997df87207c92f0f55bffc775f20c6f69a8dfff2fbf14c8534ee85b6b1ed5ab9867c20ff43e9cd62825a2b2294e75d192d6a771376f0d1409a7a772c4962909dd2ceeaee9fc30966d9346c88789ee25f3cb125dffd7b587d06701299b0457fc3e0eacf361780f2dcd6a8d9477100224832b35ce74f4a12ad88a3e9cf79e294318e6abe16392120eeb34053ece5833d4dc34feb0371c87afd756bb97bb7ddec491d6e96c1ced7fa48e54e05aac0cfa9e77178ed0def855e0e9dadd00d872a89b6c349145de9c4c1e8cb725c1667da1d16c11e144691a1e178f2b646fa7352ce036d378bb2bb4b3e8471a60f2223236e8f716fd73e09a49aa7df83ec373e63bba88533c5e5080cb9e0a85ab6724907fb7718c695c6dc443a42fee78bde66ba0ed169adb36f2074468b04c749a57512cc91eebb45923e3b16bf7f953f6a7f9ef6af3193b50dc2b04e9cebf410eb208251d9934f844ebff07deb28d226c0b1f57f901a5821f50c5eaa0dc44c229b6d2008c2dc64861b5181e605465439ea9eac51380ff207b3dd6b621779495dedfdc493ad821fa834f261422dd67b43e9042a54f486ac9f7badeec8949255b3b012914445774afc529a24f634515484db992563113f35f345a3258166aef78e2777b379d4f7dfc0108bc26722c63c9af2be89eb719da044c74697f69346a979c264fdec35a98179aa2d638e199dc4539411a77e95fe24ab23541e161b1e305f215d9f2eeea792bc18e16426e3224cb887355acf902495382f990d8f4b874a23393506617c4c77a55d077ba17283a53088acf7d410464f74315a6ee73c9baa1eb9ab78ed3269a8b0f14693126dd545ffeba51145f288b077c989adfb2549dc3c4957192d350e9ce7aea523f82f57c9508f2c1b45d5685ae1f6e6c22ce43138074b688207f0a8fec77cae7e22e6f86b096f341847a376d41133c59c18579f46268a1ff54303b857c2cfb7f35187d2d2662c0794b9df930e288c68a6d8f281ee88b3d6e32eba0973768f6117861517ad27670ab89664c62b57bcae74d905c7a9fcd9d4efe84fe26a702de8f11abd3e017241390cb2485b104867a28c1c6b6a9379eef2fc003cbc7326213c48e9bb2f455fd857898c3acd5358dfb52624c3ccb730d6390d2a531c7504fe460227e312087a18db3aa52f9baad5696fac08e92649fdf1f347c9d17ff2911b0230164456d10743f104860ef300c8c7a0f9fbc3f4ea86fb1d57a19281f8a70b33ea732620f6713ea7e295b67c818e762a93cb1a832e522b450597608085a537e3ed287b37dc4e3b72ffb9a4cbcfa68106a4b5d532b1f4e63b2626d746e0fe59e79f8c524891e638a50c9ba9d1d1f0964ee7a53e24fb59d08da02f726962c424c022dbeab5e6c9883fd94d4b03e751575b3f660c8bb7fd1edcd20dde6c65bf24511e9750c6036997ff443c1550e1561abe6dca83ab60be88791d686b65abae5808543230b1e2507ced61fcef44c2145f11b564960b2ae8364c37bdb7411913489f6245d1103d7ab494513929d00ae3b16e2756225b5f0da304aae7f3bfae64468239323e7fefffae1c1c963768b47426940b4bafab887cf1eeca12f19586640a64e72547aadc97c8006bf4df42f9bf228e2855a21a01017287c432069db866f2834b426d8760770988ad00c06cab3394e7eeeef2298a87c77d26ff971857a584353c481f3051e14e3bc2ba44e7c90a049363223b139304928e2401d21596a2df2d829593b205c453eae9389abc075bb4766c62e569b02807694e20ccccad5f1f0c5ba086ade0e03896913f929430f823f7763b889a78067200bf653ea48291e151140882c9e20aa09e5c7562b72aa1293588a8d40fff8563b29796b3a458c824a90141b58163ecd4e1b69de0214372e887ac0cc1295191be4339294643ec3662c76ed2eeb66dd3726dbf95b6733d1dabefaeafe4722428dd1b86718291877a5df888e0e3a0e838a6092f17413e329ad3ea00105045598b9609d5dc9adb878e5fc0ed5b802021bd9cc15163615da037ddaf5b0b8ec5fccd984018b8007c8f6a1bd59d67447b891f21263ab780f8bec0aa2ccce1bcac12d610d44bc51124769668b164673c2cde6bd17ed3f71b94c3506272f092c8e2a436329be8047bba0482fb11186036fb6d159bd3a69a782ad51bff3c56aee5f082b10f76e54880ce79b991dd6360873fa574956cefaf05231d9455d9a190c71b100b206c29c6d65730dc762fa1a1f55a6fcfa9250f0a60f276539dce752eeafe4eb3cff1e818c938d45003b3263cb710eadaad664d0dc78e48243f678be9e7249f1c58a83e3ef37eecd16af7ebc1620c291ba8dfd1c25a13dc2eeae6bb893efd11c0c00c0c29688afcb0bf353f8e4f9708b715172c85d84daedbd36696f1711582260ede6655a1f12a6c8b23309739c5891ff6c88bf2b93fb759a794552102a9751b3633057881e42428fca07d2398288b3091f74d46f60e17c1b2cea64430faaffddc39f18b6b5426cfe8f9eba75e7dbcd7711cebbcc2d2fd5643deb611644bb3e95007f4760a6ad5216414e4493515b0721d22cc079272c3c5bbcee354a834b441da2e7fc7f65160855cc83922fe17d8e975b0624e8d1ed66820628d7f0b67bae719392fd98c7b8fc57aaa805cc73fcc458dc1017b5e2d24567f0741d9cc795e90e181ba388a29db061052bb79805df550592df3aff5a0640b58613098f1f9f23400b509cdcdff29fcb2d93ab205514cc8385be2d549966d72900bbc020c72d6c66989536896111285e8b28fb95ea51e910edf8f17f04d03275b5c289383e00b0a179dff16f862f86b7a28be393f327d39b8c1c16d7c6b8501184bd7f57ceb80f5dd78b21ef72a815785fedc323db0016e2061062a7ffd8ea2c8a6c089fe131c9cd63391875feded91d2e577596afbd4bd7b0d63b45011096ff0c4275a4818d417723eaf4803e5ad04fdcdc2c1a33caa55b32def6743fef124085f29ba44b62075ad7f3f633662073ee021611db53c9536713a01a646391ae5e0af71aab3919d94765b18e3959723638bae7215499725eb58cc251f4ea109c9479815a4c28fafbde0417d5006fb29361c8682b0fba73cab494065a86936ee18bfa369706bd2db6ade95ec15b9c8003d07acda45891b922499e5e012392bfe00b3751c24051ccb59188626d1bc38174928933fe5cd6a04b9f2e867ba14788dd35df9c10728ba8f82bcf9602ef99b7faf4f5c46db663e53923cf58350dfb7a3c94c97dfd72484a578721adf9dc78f31297b84f22eb217c17dfcdc457f91e64f819c90dff1d1f452b3e7927df36c3f507f18833f4f5cabf95b20d9b5d9ff9d053f7a597cf6b962a2204900a3dce92fddc53b13ddfe0ba2281e4883935cca7dae31a621fbeb3695a1499105897529a2537cfe4392d23f70772e0b4014ccacbb1e5d8e0e16de65746f26f2e8beea4dc928a879f604f64aac05be35e379826f0dc39f372a5e2b8588207afb78ad26ed01055db3e896581165db369c16104968857bee03bb0c947a271a0d29f221ffd503197743d1b21909be5bc38802aeb6a6b3014fd71dc86b1665d85be51e145de8805bbde15e9e22bf492b11eb666288f21f0c2b2d6e5703376cb17e628daa3973bb421277430b484fe7945c05a2083c62e8144a4398f886965cab2db0d3a0a45c41b96486e18aeea25ed9396be78f96134250d44c5737a67f6b456f2d27d34aec5e15691e86767572bb84dc59278bcfb1722c7da64e6822d985a66d001b706016b65afb4f455b25adbd51971473c8529799ec6f4c509528b4da6a5132030b3276f0a6f870e95b33821dc7dc6b16c3d09e8e0c957a28d19c6c75c18a6ae1c7f83039847ebee3249563cd364d6d8f915800a3ac1f942f00a309cac0a1cbb06e7b8aabc9bacd0f756918727e47a375d499d736dfab7feb2deebd0c15f3e38a6c88cae17e74aaedec975829436ed82eabee28c55b30a51473f1664765622241374a3526629140fe2c3c24f01f8982a574ebc8a4dd5c5035257a03a4336222b98a82f58b83ef00c70b645f0213fcca42dafd0fa936d7ea5b68bdfa6476c0b8dbdc3a86376ed49d51fa7e510130215407fb01d30f15381106babfc1116cba56c2f37400ff1e61abfde1b6d5ea41d00c371e698942139bbe34cb054146cef4bac4ca96062d7b0e599f6086abb8987324e5cb1b82ac863e5c4f6c1bfe179fdb2114a132f407ba74eca62e82490ed957be44ba2572a8aea59bd8a80dec40ba16efa00965afd5a7eec8ba030fc5c1f431a322a03d2b7568bf6acc83e9e1f1ae1106ac2da6851c97c2022a79ced6f9e97219e0d2a2307ddffdd987ed572f5be04061879fd56fe96a8a5b0285054f9e57f54244d14b55d0b34f07e8e42098c099b20859cd0a77ed71d7df36255be0fe52cb479fb105ab5ec8f021353b1f48b9e706a706d808f5f80b92fe718210f160a5253eece1f926682926a0c10d20c4dac97c7ae1e29dacdc1bebf6a33000f15ed1993c68eb18c5aa981906535547c23e844abcc155fd3a42219e0276f332766027bd6e534f9def893a3e99123d8b2e4f44940d79b18db07ee5524d10a9509fa9d08b48c1e91e54d4877d48a54c222ca5b78609aa304f8e7c339127a883a6884ec99b530043b9894cb0082222e4139aea574639889e3ab323db77fcdbce07ac8cd90581dba6c0a8e2a7ecd965f119cdeb31a3637753180ddb6d15910c9a5f339d49c0c96879811652248496fec47e967b4587ca66b4679fccefc88edc45d544c1356110456fbd5106de35d3cc40d8c12a976990943c0ddfdc2a08e57fa36a8a2acf0a6c8f43d2716bec3919b2fbf6db4c0e6cf9c6a486f1125b8232e389ec901a9c8204eda309164c43a92117bc26cedf6029ca3b0dfa59274f3d0fb9e8dc38eaaea7f3ee0de49336bfcfe88f30603294591c1cadf2006bd0087794b1d248a33ed9a79ffa43583288cba78f60f5a781b6feb3c46d5d880eb9f11625de3f6832a7c6396e4369292df170539688197eb3cbdf0b81f347a8d98f02b6737689c7672ba5d3b945638e491e9931655900be090c770aa79d4f1e2c533fa0371e4b219a77cfd91347ec4afdff891efb4922c465e1fa51d89f05c67fcc4a890013e0ef08580d6b853ace785c605224699d876f0b31a0a9c9347e1645b72084275c793043e449e5b5c792660fa30ba2a962fb269c9e1e5a09b5a66f7907f1341f2db6cad4d3961eff8fdcd4b38f9f937d5c206a6b076c6e333e24a09e40ce5b825d8066c6929e06c5c683e2f83807dbc3e5469dd9253415f4f8bfea1e320db82a4d88ac7cf32ceb14dc9fef6ea7e67ae1b5bcb6919fbf069cc28cd31ba23a71de5f25ba2a0db5a2d28fdcfca6e5a6f653bf033085ecce7f39bf93165a4b796ced881b4de2ac470be7ba0fecd445014fd8062b583b6c87b8317c73d222ec976c0b777faf3278dbc2bd285e4fdf826ca1458653d51a53e0120156c490d40d691196809fcd5012351eb6fb6d4597d7f3a616b5404e353a16eccac60169aab471f5b05052a03388ac956262d3f810923f8c0ab937e2d146c884d22ce0bd4bbc2d8049a4932bc2d659b17796e5009cf928b76b81c508b120cb50fe01612a2d0b086e8a048170d57002dfbc49b2d43d8841f129e9e2ea3e6d850300fae5a439debe56c5977b393f61b0cc861ebbe5f2f77632853b481f0bd6276f056db444fdb242bc73aabb34f56d98c0e8849da837c2522e9511fe7f9a2d6a4c3ed02280e1ae85bff9485885e2e934a372a880f165dd359741782884d3fb8605ce9bd0d1fee5b8f1041ebeadc0f3188bfd72fd0c055551e904719740632ded9ea8cfb3715d71423c872dafc2241c40ad47cc848ccd761378e04f218c36d80da1c2caf432e08795f751f9b1ef4ff956e0272451dea4cb85d6aaa69de6d0359672146c4e1689790326f9fa018af255a276f7e27046ac2ed57ba5e6e6c3b9ec284876ba649a0aa1e36eedfeadaea334c00b0f8b7627acb108167e67221d7cd84ab55c1697df9cdf0c25295c2194f6e50021765774f8c5a0d53e780fc47945a4376b5976c65bafeaed5049277c192a7f082aae6bea812279e7d0945b3c8899c93e33216bf38c69d54091c7b753186d7c2c9f5e5a7d0e008a0c69a1096b74a9dc8e843939a292a29799f6ea18f5018fef5cf7479c7afc652ec21d6f0599ea2b159550cd261ceafff5bcdf4de7f5604c0cdc70d9a740605d659a9775bad5a34c703a0a4242f4e8a2c61120a2a2d138e13b7f91ffb1349eff5d2e106178c7430c00e35e5cc7c4d14d835167b55c959b019a098a74f3ef7ae83173ffa3c7125062b8e36a38572a281774fcd682c900c549eb107072d989aabfd87718d974c6b5d3b9e13bef9a2ee391043ecc73fd56348555ff3f49df3db1fd3a9bc63fcc9fe8cc37a80b551b0aa28d31a14c1e3d601affa5b20ced9bbf856cc462f43e8bb1639404934d120645416d65dce96ce7154d906a2eadd85efeb6a6b01417be1f3c35e9f59cfe17f08883b0044f1a41bf15b3e0bdba6d45a42c5ee42206520a3e8a110c0cf0a171c9575354ea3188cc98742e22c3aa307fca954cfd6dc4a2130040127b767bf335bbdc3bddb2d8c54dbeab1cb7f6df502c48f53ce8e614a1ae886015cd9cc539c18fd18c43c6a7cbbbdf4422f6911da07a96b52cee16146ba02b1e3b238492707990d0dac5606d0d61539451667faa5264b2265456dc7b50592955831b510dfbe29928d0867ece3ccc7b0437fde3e4587769e82acbb6ea1acb323b4b1f043f816c7953b0c2a041265aff94f7c5a4d9d677d35bc7ddf4e31f3421919f93d40f88b12eea1dccaa652a8fa41fe8c574e807b161c67e7d8aa64bcbd0735b193e85b56e0b272931425541b48897ed1a3a52b7f9c134233c11b0cbacb8e811e1c9a43eb57f9025a46f7c9da86d70b11760da674cf795aad08540eb1680c27c265e0f32ca88344b1631b978c43cf0fd086a367bcbd20752d1f9d92980ff0e3408271f51fcf4aa8a759cd3cb9eed0ec8c82c88873db2959dc49c2587fd85cd687e5f76f62f7f79a489c2c866dbc843e0391a595af61d4d1433b7429a70b3ad72f014e927c0a9bdbeb27a82d24e452aa5b594be2835d9665935b6af304ceb6d138facc08ad9e5d08ebd374990d20ebb27949f052a028a5482ae619ef38aac62e7dd35c7bd218671b0a44d1c86b3800c4eb50abce057922a43e30a170cc3ffe51415480fb5e127e8a7eacde973c3736dbb6d749753c5362c067ef4fedc54871ffed7a5f60e75fdad2f1869c81582a9051034f68471b70b93aebfe12e9061dd36f66dc114a33df2a60b6f8136443350f2724947653335df8c4b94110e3535d85bec4104fddeb49d653f950cb507db7f8b861c67e5994d8c3d936de26dedfacb015b13fea232670ce10cc4de646bc04fc993727e61ce9b27e0a8655adbc19efdd932ce0a396a2ee0ede220d8f23351d6c2948fe2ff58f15a1394fa2ee3b7de1fde003577c06104e886e3caa03aa6db2df102e47106070c1e2be96295afc96eeecfe152e9219af18dfdac163da5abcac63cf7bad1a2b3a39ab9ffbe9fe30cbdf22866a544b3a532aebeb861fca26212ec61abbdcbfe107f9326bdec47f596b9f08f529bb86fd15052436d12650671a02c222fad1abf1c0ceff23f2a011872c40db7f205c65f3943af76ec3f278519b663f88e542ac8a77c153e4ce64a67d6faedb8684f2f49224e52284c3ddd32acbfbf71a6564a1f8c99578e540a7bfba77aa28dbd9113c69e62ba5984b2f7e15c8dfb9f96297b6e634df53cc6dae65cbaa12d0c655d042da71121c1fcdc378b0c219d505358c924cc90f4c13febfd66da68597e45a82fd372a5f81e14d1aac062a5323c23e21fe2209274b94f2222fae10d643c6cf6d5973829fc00f7e044d56416473348d31a675c0fa7b30e14042c032c6a746cdb668fd3e4bc93da75141a6c387d03c2b6f6fcdc3eb203e53c418e3a3942712b0e8ea623597cd91aaf2054bf7618e2e78bb808bf747a02ad8d78369143281ba721ea9c191f9654306ce6fc9fc5c0496b64f98ef18fca83ae20d745bb68fb846bfe93153737e92f287bc9038aca83a8405de5cecacb5731515dd48f9df51a893cd7683fb24f1d54ea910c9cf744346e34256762f39f88c1e5a4120004d7918399313794e9fb10ce536820ab4e9ad49b8a0b5482cc04a0065ca3b6baeda89decf8d28759ead1fdc3cebadb3af7ed0f01e550ad00defb0acfd3c1f701647e0da1505907b50af5f80dfb64066abd11bcbc995da4bceaac979981714014424784542273900b737deebc1bdfc4f009940b00edb008d83eac5d9dbf89153309532b5a9214407a4b50ba577d02a4cfffa4176f192a98907b998c511818a8385e49882a64cd15c7ea1c119676e940297aa7f97aaa12828f3fe62bc58f32bcc5d07157d05fee08fd7ff2164bfe455cffd7e8a5249505c4747d8a7dc1314f097500b5327b845b2641b4b1d2a9c574d7d4e9bad533a31eaddc3f2b4ce1ade78f70eb8ab2b55acab79231ed77e5dfe415a8e274035d99eb0e12a335ae2339f3fedaeb6e20e0380965ee7a112aa80c868ea0ecd5a76b33814dfd5195a7f083286276f88d02c37a0732ad87fc52c20d655ce591600c4c5b1f1bfbf172693a6b564321ab3509fcb2f87b40b02f4febf7e49c02a3c00ea388cb94f1a91bb726df5232db838cdaa45bfec702d1e50a365678e44d9ae5f8a36b0598c775101fb4bce5671a182c81fe9cdcb2fc4c459e28d4f8e125f9acd6d2a9424ddc9af00c8841668e2cd5f67b3da80de86a3de6af0d4c2fe741ffcefd298687fc9ecb9a511dddc1bab09910c6631175f0ca9ae1d1ef0a9bdc37cc11dffc43a3f96efc769f13cc36ffdd67d98bb30ee823cfa955675f253a25d8a4859c751fc5e9362d327735e26f4df24fb34266caae16d174070238caf38d667cb4cccf22cb805b0ff91084091b8558699cbd1af4b66cb0e77e6c4227c65cdf14c429bd5d10b335687bd4eafb1ad45287fcf619c1eb4223dca63b783d1668b2278b18c3d13abb41db5be1cc037b843d22e3a88aac8b8201689fd6d5285a8c438abfc3095aea8a09cb9e21d90c2a8a24778577522268b6e439b7e03e8e6683cad72caf40930f7a4662b2656a5d3cdc1e88389c31609f41269069ddea46da9be161b11d853f8a1f1f214386185d151f0907c99324d8aece11da893f01077554f1c00d82d7e0a72086797288e983a02a537511cfda0f48a4286000ddf1149b707790a75f555f8417763e23502582af883b870aa5d44055542fb11d382db010f994274da688469ebcfc69b9788e464430dabfbe1c9d5750c6966ece99a5c0456bd922aaebd2879acfc2c65c15132b0101e200d3037a1dbafdff5d389579510e5f400d90bcc663181642ca8be824c6c5d1cf8e96039b890b83b25c0c40b8e754853485e62739c046577e9503908b9cefb015b67338938124ef11dd07d049ebb3562d8752b5edbc54474c774dd011b26c4e18d1f47a7315dd361aaa781b0b9d3e977bb40312084f5edb04d014ebd62a82d086adc4b320b27e39b0a35837cd4b6d7d1a9abca3fd401e3d8ce21116caf9d2f41bd73517813678eeb9987e8a9ff750663ebcaa7f409287938121648e4f15bc4e92c8f4aa231139c77635678a8da00f309efbc7240ce875187e8d81a986fe96ae88b7e43ea7e4ba8765a6fd9423809f2f26b4c5b563b8f19f2107a079293b69a16f167373098c6e3c99045123e0259e2bd5233c22860d60872c0189b0fcbe06448b519d08fdaef4ac55332a679ca758fe635823438c5e921200d24acd57a8fb948a594082e5080930696bc0c143e46900e896b7d8c6d78ed9628624d5601acd4b6fc5b3e54ba5d36160f1a9a7efd9a6787f9194b931e22e9ec5810891d773d65a272672c8b1ee9701b1ddb2c2529ec158e7d637aba65a06785465762f0feebfdf4eec32a76ce1f51f70dfc144583fe3c378b3b62b989baea73f784de4ca01c17890a7995877d22bef372db89e00802a642cdc54ed77c5d1f772fa7968f375d19e8815c743cc3317f12477c8140956963e180f360dea0ea63da536b7bea688aba93b57bb58a3e3493527e3743eb5646b0d9c92aec6827feaa60dc00aff7b91499bd507f40ca915beb20597e29947e4bec1560361fa9a984895e69d2db6ca2eb29617ccb59d20ec9e3ee915520b8ef72f7ea0393a8f6a0faf828f6d9945f65317a4b2bf61eba883a47fb442d4355f0e152f8c62da5f192627984ecd288215e890b0ad6094a8d2082204136aa0f8393e1c2d0ddc81705780090b27cea6c58f7725511a33379baa91b0813e8078b2a8044fda84b8c581170b8216145a3f4e89077cffbcb3e7795a8249e1dcb88e05679b047ee060079cbf2ff57eba7564bad3fa5eac894d9cd66144cbe147b604442437388923601a6111f93303c9ba875e1fdf9c5fce41fb7b7d59e4e736567f8fea79ccd19cdfc309fc202a84457eb59ce097e7ce52f2dcf3a48e63210f641eb6f7783ace81d7ce96ce882fd1cd4119b1679d36b9af87aec48b58bd7e2cc38c0ac98cda44c4763c5f0481ad09f1c4f440ee5d4c7213d8803e759f109a57328022d79b9c9eec672f5a206dcf21f747ec60678936a053faae73d0cc5e3ba86bc316b4350d714eeffe1f7dbadf60ca5da7c021f78df425abefdf8fe3ae2c74cc677bb9d1e92bee2c3e76997d12a20e7de5dd55a5f2af708da2f0ae7a05b3470c2b69b584a7b2e625fe21ae1b2ef2582c879fe330e65d25b2961700e14d2775f85485bc77e5d0ae9f0a7c7c67e8c8acc92ce945de5ff9ba3ca8f2560cced4a89ec20ac979f1686e084ff7625fe731f79ab3c0d267bee8bf9c82b0366d68b138cc754a69e5a2c4414390afc84c9b76b1294cb50aa5f94fdf5afc7a1062d31c40158642b164c392aeb9b916307eb910bc0747e8b1267a8c07bde41d4abb1d3f77e18d040ad45f46b66d9b8d86cc5bc243318c24109bddc97376d8d2142aa7f06390fa0c6636996fde576c8b1c7a0c627be351302b14b37c2ff50ea8621cb7d11a813e9d3f823f3b43f0108a43e3cd808f1e619815e8d364223d47f797b8a1d4a0e3d814b852a5d53e2f7cc8229e01a36c100747b2a7e2016429a39b8cf1036576e9fb497a81b6533f6facfcb2b1da563540a504a14d420d653f49d44ebdafd5dbc7fc5e210b6818c475098f379753f6804596c2a3d325490cc103f4a2099064ce3e24c420753dc18e9a191c245913870bb68a1370b432a09c0e519af22a274f4d2ebf60e3ccb9b1d04f20c115bb22efd93d6ed3b61dd29046c369d3d0731821e397b0f99869f21520ca3dac645f0b0ccb9e1d634427401ab9e71a55e1eb39c67deaa49963d07a3084af58d48d0cafe3fb98cd13b6ea3f9d290bf28db239457edadcb3768d635ef647f712f2c46f902ef35f317340a9c768299ce5ce0a66478db8bf808c0791fcd3612970d7deab46ae17db9ddb52c187d42b64007a0e762518961af84e13d3c9fa49d1e3d6730db64b9ea1bba2ff66daaa1a1b48ab8ec8153c14cd10827a865fbaeb4ad344f39531e49fcf1274a53a95f5222b5b530659611e2a316d7b1af6ddeb5889f3417edd8c35f5432c7a96b2ca2b1b2bf22438cdd93ceb10d105aeb48a7ce8b0d53c6373e6f81c99ea1ada2c26415e69efa938e62a12f710ae11d047b0be628306ab2a495b5d30e5b51eec4f5791b41cfbeb5043ed32ac1e881a1acd1b63b0a15b7a2c2c687af44d2f8b73f37ff21836386e59380ee26bc460dcc9ea91fcae00150730eb6a75bbb5dea2f2ce465c907e1022a593510495dde9ebaecdc399089f11caadef36d946133f0e87acea4ea5498aff69b6c4876a93c8954c7343561e6342f560db76d9a538145455041d070d8265ce4eb000d667fe7770ef69520feb536170694c941c5fa39ca377790e0087edea639ddcefd60b01b8548bd879b67fc257929dc5a3fef9b874e9790f66c363991b3aa5bc152d571dff3cf7003309001da0328191359c1017145df2cc16dc15ce2a0c245f5c6003774b8f669ff9f8c8f473db2568806ff964c47654992b4454f10c60e2d38cde0173794f3a5e09d099077ccbf68bebed74ab086c8320c5e67d3f1b12117fda8d24913df28928127aff05807c130d8734b754988538c7808fbf0c08e4c60ec9e78c3d8cb81a637bfe0d7df587b894aca4fe8412ec071d5d6a049228ffe2768b9ef09ad29089edfb72839b09d953c7433f2de7654fe22902ab52dcae481b4adb0cc1a803f019b9ee519eb04f5fe2c3e87ce39ebc34c38fb124bc38c4cb45f8fd36bb02eb902c77c3168e86641b2a51bc31abf53762771396658bcf62e0c95a858bd8bdd4b4fc5c5dd272bcd975ec34de752709b98ced65a015ba8f567bb74b1b12c4299e880ac0a58acce7f5c2f95a58c9e0a8b99e3e2c0f3a314a9d460ecc38b992cad2f7fde05867222177b66b373d54bf311fcd37abe86a4b22003569fdbb96937765296c7e29182ec68ce9d317421175dbe49898dbace732d22fe1f4c984fb65e61a6c89c51588b043d3233830b2033b9a69d9e8e3940146fa5ebfc39ef5679fb39f8aaa28df072b7d9e757b2317e7627f5852e3d43866a1a8450c90e8908f94926f15ff6c3cfae344ee2d18b9677f27f987c3dc0309c88e3934975e088fb2256c5a4f88de0ff6f8a1002648a1ea951a70ab65eabb83050ad1048dd8bbb0a9eda85564844966937fd24471f9678739254a898fed5017fcefd120723312b397b3f324226fbfb675ec2e614b7bf2f24b0cc2abeffab5af341a814c189cbb9b380a1e916f6a83a5316886fdb157f262b08a697f08ea3c34b366b1d6ccf7351fd91fe89e80cb3ca48e5d2abfdba13145a786873a93c261677ecfba86ce021632bb17c262576088abccfbbcb9b4148e76de60b38d83c753d90734d866bf8743c62ccc32632bc0df455a0ef8467f7c6e66e1449dd43242c43dacafe69fefeccf02bce850971f3cb7f1339a5dcf7c26264671f7a99db2d547b8ddc7f83ccf7b4b54f6626052b659d119fa0fd6622a1e27275ddbf7b7ed6806f12e650310da57d3ba05765045896077155a0608887cf468e39dcb7b4dde6e2d137571d540603baec3c389295f03ecabb630eebce9b653b668b83d21d633127bf983954af798effc14d99a5dff6f261d19315e2ca4b3c21c661c4ea4b309a95fa971c1d5177242a3e9e0bc7986556a3e92eeee31aa4318a948df8e26b0394e28146f779c4ba2230a912e4e6fcf94d0aefbf168ffcc66acdd9c1bdb830197d2cf485d9af66a0ed9429f1970ca530487456a3f8b23bb5e400dab7ea0e577c7f336c5727c922e0a3a8cd3dee78e3a5288b0eb866803181439309ac3ff63eaf9cc51dd5358a991b906fa117e916e3dc8224e63fa70ed3e4fe8ddd4abd1b7697dbe2a78fb2841171d634fb96024da08be557a68b4eba4ed3fa9bf5b92f5640eeea6ec63bfcf31092d987c2ed5a9286294afbd42dc4b7bae70b9fed8b8458ea0cf4b625d42aceff3ed544984fa889000ab9afdb4a9879b8365b1d59d9b84463d5c476e64e73727b850fbe398c5e35ad336dd9cd59a3deea1c5229f35c33c58c241b3f9e1ae79356c9b1bbf7de30c7902502db1f60c45f5c99654dc69f55ff0e4025d0c83f499e14e63a047f4999fe50ccf01423fe44c6bd9150e65a778d2cf2baf85a88e17e157c957d962d181d1b1109b5802884c8f81f0ff6062c6fa9a4e7b3f496d7b756fd8f1bcb81c98431d129c92b6fc8ff133913d6938a6693d5c5b1e4d5182d5e93215066981ffc15e367f6780306b7d4317ff33d194a0e18a12de6a9cdbb6e110a825f92a4b7a5001c66257918207db0f5c3a58a78591e41bbbd97e0b1c25d76dae8ad5e14aedd8a0a5c2757b2226c8f59f3462ba674dadac465de391a81a1e69ea1a8d08c9725c75cab91ea74016a802455f56b71889593997dd84821d3702ec74847fc3fb01226ed1aa88af195f0a8219c51f7d523f953bdfb93efaf45c3dda856a7ac2c33059012c51357aea03d7806f739450309a74060c38d84f8d9e668edc21b18eb57a861a68211f626365eed7af5b29f9c87cd73ef6d750f4cf13cefffeed64d14205834b0878c689d291112ce91d8c9c4618730458e503b420d108e4f117cbd9e2aa9389d8c59ede79c955e938462322b47a0c3a0b375a5205f5b676253888e1df6f5d64b32cc3dbe3d52620eab54c9479ad49f3e18d7248e4b12de3a717edcc71495079e79ffb3287ef7e068f49ad4d2abf58fb789818b674e238be985de5d9c8a231adb8cc03cd2923b5d5d1f872a685f712405973a5f8b777b194d8ce6bc9c58d3a0ad4c90e72952e49c2263fb240232854f64852c23c58b45764b536cf0a122795bd1968f299434d8f8d73fe239f91b949607e308683742869e0c7fd52ba7969f7e61f337514b915637be763870063803328da856ac2196aa7cc1a4d4ed4c87e65014be3b89be70df9016c83170986f4b67127a8ebeb7c2679d988e03928d332e364732b47ff7bb2f6aec626172afa5bb2cf7565656bbb5ce93c5db0a97ea89c882351dbfdcdcefbc49df261bdc7148e4c8dc04560eaac575f4421aa3ebeae17dfd89b73dd40c58a9dc8c1007bb5d50c869b48e85c31d32c669cee38de1fa364e40a4000a2c6ab65e71f6384cbbc2a54bd4631823381254c7b160d16dd4db33483330f195dd3f15d0502ae0c6db1ccea28273b4269aec68118677e82dec09cedb03b49c6dfb09c9db238660ef4a98b6a7aef21d73146d4ec2fd4595b60f552b762b23b1a636eb279b394477351c1c36e5d422038c59e336cfe8ba36301109a93f4724c09466708500bf85024d434eea515fecaa9fdbdc62840ba09c9fdf3ebc8cd59f7b09d7a47badde038d0fcd312ab1a9dae4106280d634d7f4a4ce0f231fdb0246828f74d3ad2d0dc67e3b1834658a8c02804ffb62311c5b35f9b6accffbf62d661a8980f47f7c6d560a5630412a99cf58e55a2f8b13033348726aba73d496bb2ebba0b47c34de9ff8495682f61159b676201bb7c3c2efd0183e713c5af14a7f91e3b1bd88c134e33216efa8290b17f2bf944bf97eaaad11a27f6ef19e3f72f2032fe2a9f228e8132110f7b822c334a063d8b6113091b77619c9de09a885175ea20237732f41cbf9b1134577c53d7e97221d9e5905561fccce7ba31ba203a869241470c3d99970d1a5f15e12cb1784f43f5980bd76fc3c378c8e28949ec163b9996414c301f98bdee15cbf1eba5af020d90c8b8413bba8d419cdc8e553882906193be15f06c754209099eadb496eaf029cbca0bd4f9712a9f45c62603f6134cb45e46fbdf9a275d755b17e48153569315cc4c781392514571f5e86c34b4067e3413f49055d05395ebba3480a935159588f8c7fd16b5dc29ddb3cd921adf15f14412d33104f24a5cabbab20f47b59cf07d0ee8bad4434b4a90ee569a1f17eb3eaed9aaf76dac8589741fd6f10942ebd696e4e7cd3bcdd0056b4a9d05bf896c4234b348766d1f7d840deffff825a5dc7734b8de402c0fc10385a5b5c807216e0efb5483ae1461c16fad97a638905358cadcb052efad88f1d31844670e4ddfa22e3694c41c8a5d3a7141c58efb92a0bca89d8a65e3fe589f1f72fa9e6919cc3e66a69ebbba9101b8597689f0dae71de0de8d28fd6b380df05d915c37bafe825ad4b59441168060c33d372e0d11e0a2790a00adae00ae9afccc3e651a271c6fe8703eda4983f51ad1302985c67b715a189e3752c982035452636f0c57c450f57ddb8bc5c67d7a45e3069e05b0f068921f4068a8a335d8a3b070375d694e7bd4841c256f512c4d007e12ba7cefbb4be4d5f4e212a452e1cbae98c08e5ef341eb6788c1a52c6d4d32ada5aca04ca68d6d3208056f48fa0a4ad68428e46368000d6c5b52e46773ed764c5971f9ba82c12b81662297b5dffc79e02cea853553fdade8aaf1d2fa8ab8f6bdaabe90a3a2bafdd866f5c23a1325cc68a198ffb856d79db462ade76a67d8ce1ffd63d48d6b912aee496a40b4d86b4357b43048c83a5c758d5a5297467fd27e702750634723b51b0d2e33fb0ef667c8e152c5a72a2d30f976595bd7aaf191188c2e8af9508f9bf4faf7d6cbe31be23a40319b0dca4b69b55a4da1c6976b2c61b147f5b72bd51b29964f9cbb3f8f299bf604b9da28cf283b557dd7875c83869d029716cf272173e877922423876d1bc2e57118b3d63af3d79bf91f3934ae1007c712c7793539030a27ecf7c461b04c1ef6755e27b6013498d43d525d40cd8382d9e525d38407b14fde1bc99f15cfbc487a8440489248c46baee1e873f9f41ef3ea42252c379a167b2dad61a3a857a649154f891d1d841843742caf66a86813c9574e32df3e840e29a4cac7e77e0fcab9274a09794e64bcad8ad1b75254522de45cff07e57741c049cf9653deb8ff13f7133b3388e11a8c73af835119104682d7da7c0262190c1611dae2703ceec26387b7703c4e952afd0c59ecffe99e8618683db178a32d7e8df33bbf50040bb4684a236e9a73b3c53ab43c75478f753a6ac4c9686d8f5cb21e2ca67c2d431ffdac20bbe5ac90145e71c346fb655d2762cd44ea47aea61792aa7251ac1a7a06f9689597c8714f8813eb39b1612b0504e263441fa2d2471740187cef3d9b3109b40b527914cd927c767c853536db5144042031ecdd31955416cf71955e804e58afcabf2e8dc2482c404b441254ae5ec5ca6c9d23fbb392fd02efe8a99e096ac207b877e045c2837df0df042ab02b9068ecfc6ad9fc4d941c1cef42cc29e2cfb37427da459ae50128a31170f6b7a6c01f51e221e6e93ac94903898c7c1e75aa0f5770583e6f99d31b0cf88ff5a4e90481a1429d7c5ca6ee67e7b09d274ab71038c4813d99458393e5e289acfa946aae1d35e14c04585d7fe161c83ac958f206d83fc1ee270499df0d8c35496bef8f497e4998d6fdc6a93ae6c0ff563daf386646267f99f784c1a005b4e9637b8d5d0a3cff61a4be62cec4153d83af5c794fbcde15d795e62bb0e34eec5c7871f4dfd4677351f9e1e63a125a7b12be93797c08b343ca4d5d4e32b80f19309436703641a67e3f7613d6b852f8234f78e48ad032039f4f252833e2d4dc9ee65f071f8d4b4677afc55bfeaf7ef30da5bd0561a3d708f6878bb61f71582cf434491d995da37336153a73aee6b5ce0dc4f93c2d603b8e2154c5ffa9a8ca3174cd87163872b65721a5cb377fe50b6cc76b4b0d12f2a6abeec973be40a41e51e5f622bae067c3fc5f461e02ee79edd6576fec6fdd235944cfaface838a79f353f655311d85370481fa82a77ee8c528fd3e3fe516230590d542f8cafa4bd252f412cbe004d9a772ebb7f15a5673342754c5a0c327e67c6c5f8fbe75d44d61359faf5b3d64a3801e2be057211f71f45da73931f5545bdcacfaba69cf9728ee98d7b11528769a9de2a0b09dd0754d5dc1e76be2faf6c2ec89ea4029b95ce324f07b5d3ef67c7f65d2aef90c4de87ce8ebf462ece6bde408d6d2e90e9f4c1e44d178dc92bcaa2ed2f98973ab06008f6826ae362b7593fd546bc09def38de416ada92c5f20c2df8929b083fea17aa70f395fce181a10df7ae362d2a607fa72e9fb404bdb7249cc127ffa4a042a6254de02e36234b755a22b03ed8d0d76dad604facfbd9a5844f173299aec50f543042104a98178a299ba7cf6007a297082096c8336ccd1c11e01ecb875b147e83e2ff02a1912f82bb048f135ee029fd58fc51e597a68a4d91470c5e3748dadf5ba0c223eb8560f0a0d43482f3794157a66bb11cf49f70e3b387b642215bb034080c0544deb003b298e50885f4e3194998e4fc6d5f711692cd6142bf5258ec613d2e6f47984459433f1b621f65a865ddc5e9c2f7de4f591811b8f3723461d16a904fc696e53294f09a1a67b8d913b241fbef2d409a79d9c5e7d50b9b560d17e75a0d8c41bb6d673245a807e36007c7887602faa4b3c9178f9f0ad7a1644a36fd9f5bf2b411816d20c1682f17cdc952ad7dae9f822f2223e8ec9526a02b36475d747186ef9f07a62d25d3ec0fbbfa3717d3e85868bd28155ef8c4fbd0e15fe7dec5b2c0e61bc8b595077c81f87a00deff3e0f9ff8da517671d78dde3028caca22e730a50c246c1c46c74cbc824bb0367aa471d91799dce3784cd0ed835ffd82e96e5f8855962cad59c4ea05dcfce0b5b73c361c9655a28ba7afcf6b7425a0ab424ff746ee3d4036503aecf54651b279a3864d8bf61b08bad7b363e4f2fd8956982c6757e270e394fb536521a5f4670479061c24191a850d65e62c9266c2a25d6b6eabdcd0df9cc328efcfb594dce6693366cd4c7c103873d7f6dfafc0c15cd5cfd51caeebee13eb5bd23efdb0b2853b28ab3aa1255423850148bdec2938f2b9f9de210a3fa05edb69cd08108b3402869ed25cc4e25c989b259e33de912c4c203224cb79471501f738fea0288a1406b547d16a9172e85451e9d778a1306e008d7cc7f5dbe62d56a3d9051fc7494ffae3f5885481e74148565b393484af3895662b06ae1b8f79cb0912f32397e873c01f5cd8b50941e66f03481d834b99d1f89d44eb5f87bfe0e38baf69f1838711fe434611d0dab7ef6b38585c05ba8c3917fcde6cec3d8eae70f192a394f648e86625080f74834e5e59deae79c0dd2d787d4a0e3ba01497195e1ca88c3cd00dc2d513f1db09992b18992c86e032c619b8ac7e34925fd9284c6a615353d25db6049562b639937a0838c431ab0b2edeb08e9f6a34d494797a566613523d488a5c9249238171989df760a7710c5204ac5faabefed7cdb675b6afc1fe859e68cefd252becf2c6198c9c07fc364b7a51f0cfb5382df3e250d93f5271b91d8106aa9342622070c6cd7b67ce3e8900b9fae2e40f016f3c16db771b6c1bd0e724c32b040b1939e7f4ef82d8909990abb44c472cbc12fd7ad3f2ea9563ab64e8cb9449016c56c82160f9305899ee8fdaf29348828e607071c1e7542069b62ac2a9570c108ed3ecb5e48a57e59f2c142b23a51c002e3ca4d4a852fde422daab768e4b3a5969985e035b1e170e3816c38f74054abc403b73cbba7dd757e966a7a34a19f9e9de50b287b6480e227e38f393c5593d48f9e987d93215802572af5791b39a64adf7ff027451a3a3a0249265c79c33942a5bf74038ec481761634d95cabe3c0fd215d449bdad1864ae0c57461c6b53013f2e7f9dd73d58d66d746a371feede5781781d24626ccd0759e4d7455f68528898e5ce010fca21a5229192e3a045cf8bf98fb822c1882e7e16a32ba9772916c76863ad6c8fe89df8bb3510ffa1ea782c9c78528ede4380af87923d454db9ea925e3d501204c52e8f21cddbdc6db4ee15490d5eb19dc1459cfe3d1dd54f612be9fb71b7c7b0c295ae1a0982a58978a83593deb42af690a9419360024bcd6810460bfc61bc125b33b40039a8769ad4682408d5cabb79de2b7b4360f77b83c4b7d9fdefa676961713b7b7a747784201e05f1bda7138df0cb7a43fba0f8acac0a92fef782a9fd1f0cecaf38176b8233b46403da6582b54e38335f3c08973bf4c5cc840eb5d3582bb6f7ee58443179dfc8228df13238268c65fa8608736f2f232a69f26b3a98dc9dbf49ec1e19f24d8857fab3fa867933523854acbda6a146d65b99b28606608853c2b336ea0d2780ee92bc1c690ffe4df766a4924c641c0c3069c97973357678405a9a6e8094352c609391e74315f22cda390e8f2b119b1815710a9d12a2b421ba4e4d8cdda9cd24f98071d1a57a582639d5703598ec20afc2e9823f5d04ef0f292735ea662c5b697a30836c9df13f4fe37cd77597bd06d0881e7660d60e67f00252ff566a97260a1a4adfcd62b48abdf1c4e4a78ff64ed5fdf7a7c1b23a236ac93a16d30898f13ff8f41036f5409f93eec9b38bda47a79726fc3ed6f30083281c2242213b228a0c9a2e0259bde1c569ece44a56d1b3dddc3f2e8e25422e09eb9143a4bbcb94b81d021a06959e6cf7bee1fec48fe9cb83bce0acd26c99643a84fed4347e5e67cbd6163f0e3db8c6ff89840e2371082eea1ec9b89b9123ffd9048dfe990dc901478cbe0a534505b252cf281221cfe1606147fbe544494218fdf031a253aff4eb7547c0853f15ea7c81fee762313660700400fc7e4c99c997b5b9fe715ed7ab790b5002d396a8c7f0f5a8f0375793ade1d2320f6c3326d4ab8a2481de588b261b5ccbc4502c13251669fcbe8059fb8831fa5e427def44724cf9c6bbbaa6825e0e1ee34da2cb326354d3d097aee075cdc2ab656c0dc2d3e4d05bad106b86c50068da2be8a3b0e7204263e9ebb068f2d472cd8be37e00438a9de89b3c5c777748587027b20d3554d0ea014ead17461da186ef49ba80d296188433bb742f0f4afe7ab6383414e7d16934becad16bb870685c492d60f790450ee3e687e973d837ae220b231a808609553967b1bf248dcade23947c7286b67101b5c38b395515eadf164b4e51726a0fa20c404abb44f3a9bee118da36ab3f0a757957104f672d7bc36fb926c725645f08ff97f77b6edc0dfa49a02982ae6f2a5577880d282ed158935cb24f2ca450ebead33c332b878961238437917d9c87adc20629f2fb6c5e3a0c7f12bcd217252723698c767a76e7aa62d8a08734ef5eb093302f564301585587ce50a830a9ae392bc8646982c1ff822d617e4625a81d61268113fade762d7c11bf46439d1df4a848f349d68bc164630325f36da08a9d3fdc18e108fa66b45d648f80de38d9c4e75c9935af3e92014f630992695bc8af180173ff1f7058adb5f532532bcf49656cb9a030883b34c890a292e1db9d1727796493a213789eb8804219856b69b649a0737d532d20c399c33a4c8ce58a6350d985a21b15d602621e5cced6d4e2f9cfc47c447e6b18b7efd76238d120019ebe04c17e17c420d25412290dbb4fa3d4c7043aa6c6f0e3e07057427652d751ce23d3574f49c5d6606de32a782eaa04401af6414aa34bac6341c2d256881fca2b8580e98dc8b4a04515be57605fb182e588b16dd90e6877e635bed96dee34dcda3f799af51b43ab625575377e1075cb09407f7d225aba79b8cf185ef85074f21f7086abc599af4ca98e2cf5993378798b08f44d9edb7935eaea6bd7ed66734046c6340a80d56962ed5f84c08fe8ee4cd9ea3ea750e2088b2512dc36601e9dea8fda698b9fdf7e259b76b2f991fb186bb09250a1c6d2bad7d80617400ff8805a8c6a7f0e4df7c1301c4352dfcc9c9616d3eb3642a1cdaae8e7ca9f0243ef6b5d1e38c89c4879c4f1d76ca13870b5f4177165575666e3f357b72cde546e78b58d72ca7e712769c3f311d05107ed0b5625a4e04811c1681ee66f1e5c49faba3178f7a25143076a8deef9719accf44879ebac9bff93dda3c9465543b81f6d3cfc322fd4b4d743389a361183dcc171224817a70756e5740919abe4bdb987a3922dca959c0735d1d01892eabbf5f031a41b80fda3a7e9286357d00dea15fcabe5542eab10c4b823d4d382236b42745b6f2a75b5a5f6560b1fe14df3dbd14b746c6b6e585e4124883176c22430d6b1b1c5aeffa6c78dcd38297d6b8c9561271ac1e458c0302048276f3ae5b9ce4bf96051f10d091cbc20ec41c1123f3b33a0bb15da8badc0423d7cdcd37ffd48c3704cfb03f6d568d9a00dcb4a1000f42a9696894a0ce6d5ebad95309b198902bf87896382c25d07041ae29def6221ef127d12b176b3b4b3c3c8bf783ea53e9a83e6ff68c6775c3df59f212efb8b614cc5dc0f3a9aa9741c6617945364ed1befa65e718ff3aabd4d548a295b354b5260ec09d4f9d697b4bc5211fed3e564078fee1d4e6ae6e09928ddc7188a1c606c7769f0119e5555235b700974f54e9013e0eaf0f3ffaf95d506674db0bc96ed734003f41943f00c66f69f5c05acf8282ab068833c8991e9c6f40712c4d6b7913d9b9e610687b8c2bfb66a2e5d4fdc7c4ab13ee01ec661705807f3378911bc0c18d6e9a50d7f2da74b730769a4e209997039ba008129b17b9e842936be43fe8eb637427fc4750a22d18ea8a63b883a032679bfa516c186e2db4d424dc435cd5fddd53abc18b73a74ecb54aa55bcc015408d80913108b51e089996855da9bdb449196092f5f15fde4220f3a62b51cb02e31fa615aef6513d7e750366c3800fbf6b8de595d936fd73c5f97f0f525dd0de41cd895040afc30615d784bb5ab7edbaa69d055bd44ca84cdd6687edf93a08c30b759df0817dfa16a27bb6f44aa533b82f75afc68ac4b14c1a2c4f1c0c9c89f17c59807d9ba565922d69bd8fa4face51512ca20f23e411f98a54185e3e5792d10611fb24930c4726d18c86d70cef9578d1ed62e49e39ab916fc975617100f59c88cd9860d694502223490a8cc6587f353f8e2fad4157e2164db16a9cee447f6afe89d8938eb0b5dd692060cfe5bd2ddc97c2cf4b500a630998e70c28540fc4cec56256df84727ee1ce514d7cff955bdf040c1c24febfb635517f1a6fda1e0ef871b4e94f7c46dd7058a340f5d22439642d2f7b9b94572199c2a1fc37fd865dc1dfe70fb1e1094701d9ad7bddd1a10e3341a4669dbf1aa8c87bdd2cd2debbfc94ff0d7df6a7b81be54a861d246bbfb2f4833953ebd19a76149f89a41cc64514e1b7247a58c45d57672546bf00f70bcd53dda02bddbf7081ae7f121386484758518946367b7f39c363131092acf308523769ba7ca4af9c25bf0430f1fd4498989bb7c16c314b6e9d1967eb3a20872e1d7ebc8dcc25f88c459bdc7bee1f8963ca507e8074e590cbc94b31326bb5d6158f46091fd6069c7fd079f3291922994acfd8ece2561faa95653c32a76698d29c2a0f6ec74ba4fb4124730c5b06c6418b9bb6430a0cd26cd26d56eb7b70dfcfe3954dcdd85db2c81fb327a94625d5e0a2c917e15ec1f523bc98bcfb1015f62eee255221b08c986b24a00688e8a865b50c6ef9eef2abbb1a3adf9ee57ac425f0d0d422ba87bfd617728d0888c6fd85df74d37273728863138ae812286dfa13f5bcc55177d3b1bcb07cdfd9126021495721ecdb872f5391dab05fbc22d6b7364055075102870f6e0324e8d05e57b352bbbc6467371e6dde90ba4f4ab091f308c7069fce1e4e48e0112a45e8b47d65e12d13d96c0afa698e01e30c8459a3889ec4a19c6cfe4d72c9097e8adb71979a016bd4a2739b6ae472c593bcbcd77ad7faa5b12844e15ab70cb7e2684a588608637609cbbaa439ba390b4a7d48ca0d6126c11be3f16fa189a7b651172a3f8337b9ccdc668aa638c92576d528253a3dcc08e660a50b38b0f74cb10cca1ae7350ec113111255a52bf46ac1770bfd1a30eebcc5d9d47f1fb48846c21ec29db7d18f33091a479fafa6493e2b470c8c7aa2996694ca652f666e22f77cf60d1193977edc5cb0bd2d53f9049181c18f7b0920f4affb045262698f1be792cb85aa20541f73114b1d415bb13965ce41b385e503f9caa1804df35bfedc4d511d6d3104d22f37e2f8cfe436602cc1e9060ecaaaefcb314d55c9edd238c8d0e629ec36431414e50acd7fb882a3a5a2ef68470841112dd242595fdea571e04467bfe79901fbc0a5d77475bdb654c1d9008a57d00638689b3cfc296fe9727e48ec35484d1331d9a8917ab3bb3855cc5368a96c864c8f859b9edb8045ca2a2069f1f3a372502af6e7c13658b33be1081f642979ebdac827dc84c1c704fac353efc21953e7260f8a60fd2c1abbc24f2a1e0ba71efc329988bdcf29f6b344cc78030883a2a9d4a7579be50d5289a02bf457554cb45b3ed227c99cbdc69ea14fdc9273f30d4b5d94c9c3ece43485d07689200664065aba3329fc54a8f57c9417fdc0e751288f56afffd558c353aaad54cbb709ddace55fe13cb3496e8751e253fdf9cb0e4690607cdc9bcafe674f1b03fc1628195d010a0b4b35df1d0f72a8cac2dddbb69623aca4873c58ae9221cee4bb5a8bc01340f5f401e47248c3e053ef42561795d881f92d33b566895e3db6761c23ff1faabe80d1febe8415cfe25ff561a76d247c7d31620fc415d6f0fca361a55c3cf4d4850e67f28ac34fc1f7b3f13fd6e010a41b44ce59f85b9c7ade9aa4b81ea8bcab4f37554a924b559ed5fc43fa492aa7feadf3642bfc46a9d0db136e0c77955e8817d7edc4034d82e6df73345ee51b152735cae143a0d3ac45f078b0c4aed3152152400f344ba795ff83035cb9f6733e78640b728fab6bc706ae8acd1067f9f3c9978ad9296fd5fc3b591d880ebc2453282a54ee61aa2ec34780048268be2cc7bd54a2300e076c4262c120f3c5ddbcd5d778c684031606a630e880fdb83edca1915f8dd98213b2b4ba7757c569e5bcc1616af5c4a8d7dad681904458f5f7b67662ef71239b3a87e34769323caef1957a899638eafc0edeec7ac307f1e733209a67cfa544e5cc8854cbd55c0ab5f2a073adcc072a5547acf57de4a3f5ee6c356530a08d7d4316ce5be95f51738514c8909569b3176f82316edfa1f9149b2576ae8e9d9855bbdd6004d50ddd47592a6f9fb20698c2bba4f05fcd41c3d17587bb87548d8982765f672a81092e5e56269ab80d4cefcbc2978bafda98da2b2d4589f6f11a41f2cac8b8f03c45cdfa3452ec03e19c8334c1777e915f4dcd0c8bf19c04baba0dab19b17d14f92f088a2d7ecd963eb798829831b153f254db8a6dc19f53a9a7b7ad9ac83383391225b71415de612e098f1e3079d583819bf24ca111349175739fc282433c773610a72951cd1e25eaf9fe77322dd86fbf2e0787990bfaf5614f68927f24b2391dbcb2440292bfd2a56e4b64cb4c011176058cd47dccfd9a71e30f2f62b5eb85704241b12171c2ed783a1e2a804a4a929c10973b1e39d832bb3bb142704dd98ab5e556ab0607479c5359e4944ae657a6edf54b963a077b906cc08f7bae910cd035a56d3564acd6693b7ea5615a35b6d34c50f50ee68393eb71220228cdc4272251d855474a2363700218610c6a2c461d7794d5d277f0739d721603ab6eb7b9f5eb874f7770b0169f0fcc2a64ba3958ce1e72a2db73f9d08c0c2328fb8880325c4387b6cc266e23770fac7f4013182453829052d37ee3d55ea84e28f775e771852d341889ace5b58b0beb888140029ffc06d3873334d908b178fe5b28e39a6b3cd91adb31048bc1292f1263f6d862b9948e6ab33f31196b4cf7e0e96ef931e2580ec3308eab491126fd48b8b52290321fb600a26ee8c01cd46e63d102cffd570295b77bfad74392ec8b1da72045b373f06b559b7192722534e6396e50f9091622e1257f4939382d17967a893fb322a66e485892ad7a67b254122066c9122318bdbaa5a74656622e0bf8a925c33dd5d12bcbfe01cce74075e1c20210727c85676e6d0681a35028bc6ad5370aaa4ef714eaae3fce6d12a979b71bb0560a600d5f94790d15ef8eb647b710db18b05af3d0ccec102c079fde1f99d2dc9f16589bd644488e2b625e5b1a49b7af696ee050096468b3237365e9a62c45ea46e65f5b9e6ee89b581d3bfde4ebc77e323cd9eac86ed12385c3f9579643902ce2ad8ea553559cbeae95d8e75145413587bf04df8d5f8dc82b94f2904983288aec1462109edde264bd7bb1856720893c08f02afe01318feaada4fa06ba9a9022d2520314e517b84f3cb9fb7d1c733956e34786a0e1d08824bc272333f1f7103b7a778192b47e013803e118bb3fad1e949e0527b8eb93a52fce943e82fdef0f32eae9e11d7225e09515a3d5e5fdd702d61dc432e60752670e0f6ecedffe7c80e373e1600887a3a476329c4704d87013daef0fa6aa1f68fad016dece74aaea85aadf950e8654b6dcee6e3826d172be01b42a04dc4b38661c4ccdb2a4da10190838c9afd5668717252d9f366dce953be088b3f6fbf6e53aecb8a6c3208a67bbb6153c67e024a3215ccf48f1c948d6c497de68acf132eadbd36e81952be2b57c3da44a7f4ec7e30e402d1b69fde09cfe1f6f121ab9ca974ffc76901b1e144a90e2bf4e0a1825ee7a16a25df28e4d7651ca7aa711073669c6d0e3eda81d601cfb6cfb25b634c00c356a1e6586922e12ecc6b11e4130b5ac098c638cf7cadd440305f013ccac1b3def5475b61fcfee15d458570d17f87ff35441e28c0ab40014133881d0151b7bd895c9147a099247101eb5467cc6e3c68e88c9091363e7dbfb0603713ae23e13a18445cfee9819f03c63ea5bf666d48691b5d3630dc968768073bdc60d29ea34611825b834ad6c8a92a119bab6c4fd639efaf9f725f8fc3e30faba4e18ef2d96ac7390da20eb5cdc2dd8c45690cd0ad9a18b11ace2fe7da6c296cd91ce51eb71ce1ccd570d9d3fa9e46d53befd919e12ec6d73d58b5e5772be627ef6fce16a76cbcc6d382954000fa7a7d099e74f6d7f62750317a45eb5b9158439b728e226ee3a84def6ffe7510ff291ea225c802fbf50b392cbc898e1eab7396444de3acc3ac932a6cb89b4ae023a90f3a3973b928704ec95a284c5c90e1394facc35fb408439210fd163fc32bea5289fbe20d11dc61f1a40319b9db5a8ecc1b9f3820fac0f33831abd3ee49c5de5eb0eccfa3178acbbab18d266a74579c17fd4685d73aace304b35224b3a5dfec8d67d8a1a24e3aef532e5c70a56d8d3a6d010eabc538c1a2acd688ba423462ad8d5199b83df98c8fe78ea3acc411275baab9da244c67d5fc164e01ed70a4cd935620191e23492dae64537d3f9e3f6fb607b94a682946c72dc70b81aec379e424150074e3bc9dc517f710580ddaff4c969c1f0732afaa64f52fc3239a499b007a222edc3e509939003e13f415ed76a73cc0b459bf62fa0a07439a2000d23f7e3251fb7d0e369f0a35a3394cb641298ddf567620b84c198a6920b0ac40050f3840db67a551eaa85ab643783b201d4e993a397f8ae03e0415b817e659978afbaad3e1db5765810d3988c2425d0a4a8e72dcc4dd67b47e2c53d70aab41229dcea3bceae6568625fb455d991e8d7a478dd966e715f819510bcb3915d88c934021193c0be6644786f74205b068c6b1e06f17da90016d6ccd336bd98f336bf6e155fc5ae9fd37f87e60b7e5f77383a27229961ca9664a0514a7f2edd95527b225c27db8655c306e650ad412e0e8a7b8a48cc9c8945ea2dfdf841973bf37604e8ede4645315b90a660cdeed301e804713670035112144f34e4b5a568bc2401e4f9d56f34e545aad50385e913ff5ca08b2194c917ca6f534ecb1e456f9c8de5238dfaa6ea27a45755bc545296f0fce558042de4c8707f7151ede93b40abed18b44346bf4b8edf96dc3f5b0b8d8c5cae888eae5644e21b88cab97a1735aeb2400ebb05fd98d60f29b641be4d0473557b21a11e505732b72e5bede7c25428716539e49f534e7651fbc505e67075f4422bb3b2f36c7bd84fef475918d07630c1ccbe0994996e8504669c97dfb423b719ad8729c627c6e9dd7910efa15056592d9bdf05367035013f6250ed3229442f1c2470a6d739d211dd8a8d2e111ba67fa2c7ad7e0ec530ac91e78246fa48691efa491e0f9446eeed9113ad88ebcee1cd28eed2eae8ba8a7188e318b61f43584fd22e608b10be3902c1dce675d98d0573c63968fb1fc9379860a3c2831bbf100171e3c40ad3250f04f7be2cc49c78053dfbcd8aa397f608f28b3310bf5c882d036b97277719b221dd1c311c66458caeae463d9fdb5cc6304f320308056f0929d84551d0ca0e51336ddb23bf371bdef4ba9ebf81616835462670fb77c292c0aee660dbb897fd2449ac78757ba4f9ccbada62fdec8a14251cee63b21eba1cddb8065aea9aa3755ea68ef6d3465e9e9a612447167c0157a00ff318742ce252034c99f08abd476e39637f66e47095d1959f082b791ac43c9b4ff485918bd972f30226eb97cb9cab2517bee047f895689534421f495ee940161f30ee95ea4accd9ec04a404eec5264bf8921fb99f653ad5a6bbcaf5c57fa18308b778c5c07b07391518ee515b1ea44c7e58cab55a16271040489916023e050bbaeda781633832d1cda8f6670c39b0f1ecf4bd160496a090c0b6e1c00bd490b42c4880f38e6b0cfdf1dd01c495c8766f2809636a8249e1f26ab04e9fb3c217b188d3356d6e533a7cff9cff2feb7df0e9dd736191bf999373fb02b5ee9aeef8f729fb6e3b5795da0d26f843e3630b9ba46e0e15b336be7635005f8818fe577fe4e65696c4c6ceca34d76bd6bf03737737c2e4ee56730b333d27d707f324823d0a83c84339d71b8cab9e50ec254d020008d598a27bf0f777559cd9d85f64fa43d5c0335eccd2cb3b6a5818fa25d6c7718fc510ad9001fdc1c0694e363e67a3cc2ccabc9aff9b95286900713cb2771f324fc62531aacd107e0f21a7804420169da4b840a60b749cac5eae1e1b909fb01aafd48eeafffce95b0c2deb53246ff3897ffaf11856b98826c0fea4587af161bc4ec04a61513d366e2a5247323bc5284dce40e92af09b0c1b45c191f39f1fb34ee221f0288aae53d9f10e86dac2c9c22a5a495d2ea430f84892f758fcb1c219020c6e3aada7ed24a9ed6574242b9b8410f02b1919e27e094f6e201fcf8f0276ac3404f8cb3f56dea855f14df38d74a2093829e37091ddb38f2baf41bc0369908e6d6704df9286b20114a32b441532b482212d1866fb9094d5bb6d4c967075a1b9f1a056982b7d1aefe8310ff9fa530629f7369a4669d6b5acec490e858471a6df2b2f40138688b948b59bbe0342f84283385fcadccdb1aee6e777984909138a2051675d2cff5e47fdb6b7dd80bed1deee11a6242fcc3f72e9adce5316e954921822fed433f574f333677ff7375448bd9c2f890bb6c01f437f621ea8507d11d27c86334e60a3680e889c1b6626dcc6a2fe3274fc13eabd775804b11fa7e0d30438615f0742bd51d60ef176747d3e8163b7f87d87ff6786404ae2fcb97e4b2c96a858207afdae24903aec1973bcfa0a23d6c3ccf921ec97b3163328c130027806d7613851b032e8f997ff85db6225d5fdd2077d41dbbe9e18cb64b25a2b80c836c477b888bb0d4547d672a5829cf0fad681a5f5b10bb5bb5f1c0e680712b854f6d2ad055299575a81469fb9e776be4e9c6adced71942a017b301840a915cf6ba550a3c4eba8161f11e3d46b08a4bab30765bcf347dc0490778d0946498c72ab8a1f0d00cf94a00feada17192f462c33dbb29b25d628be644f2af32d2298d6696b35b64931be923441c74f936a3cf2ad67daa159e66fc18cf400f67e852accbe5eba5c11ddd94b0fac7a9e266ce81f6efe09966bc42c6cc5ade550f696c63b009f1d52a5e328aef9bb2e802dfa5a3b3622ef583e4de161d33019e447991da3616621c17a754efa2b0c716c846ecca3ed111fd5a5f5d95deceb54f71ed64cb5d157b3e32feaf87ba2e80614c67cdc36f156f8bf74a9f322466443a3cc9156f241a67606178b1faf4002f5308bae431821934fec46f5785b5c62fa996ee0c4935ada8d2cad7d935ee4edb749580e7529979b3f1f8a8e29c1af668088eb7554c52ef7a6f954c6cb67ac8d0b9b8fa6444586b9cfd1ef6f9036201c4f36640bc9b9f4f9cfe6a4f69f93eeac14ba8a66efce9d0bf294657635521f78d14db3e5fac04b164ef266378a08e31f830b2ba888882100003860f4214d64f749c92fb826de6fe58e0f1a49da7db5660eded4554445c742a57e6e135ef3082158452b8f0a8b61803a964754669c626fcd0df103f91409d5c24fb7944518c08f685a4ccbde6ce11e6f9c0e02e96ce61fbd3e0a3549abd26de8c8c3913ebf4951457c6ae95ec6287a54c90052ef9b1d9b13d993349916692d60f735526a30b553025ce311e3f4cf789c036e5b252d2d159e81ecd0f22ae16e7fec0bdb369b9c4f948c8d37a73e24a222447bd0c28168c44c4dc41b9077d027c004f7c92f8b801887d4f9ea1411ea81e09ab5621fc7232c9c54ceb56098eebe2225bf6cefc4077d521bd77c463f9ad5b58814ecc2e2ecd88aa5aa62f34102a32b6910e89b0db6023efb2f7baff93e328bfe3871398c176a92ec12ac0463e62eb2f8bf67ce9ddd9f4257968ca2b828deeaf2eb2ac43b1a6e89e176cb5296dde3bdb3deb822fcbd37b2e92b152447f1a839cffe9c8af74bf90b98edaab83c580532847b0516e380520c910efe379e2bab2b3e1ff6a5c73b768259913b0f928e511aebc79dc4776a8d21eaf4944c6134bc4689ea908f31cfa0ae07eae4155b38d8a10eaed1a5aa5778451ba386cea4b2571048b80c995e956cfd6cdbb66e39a86fbc588a36408b66a35c10ef48816fa40a1250cb849f5e255aa83347e0f84303562f139c1395a18bd680989288fb98ca4f76b348e9e9a03474e9891467cecd7b6235cbdfce69e1434c54d26a10387bc45ec71716a017563ef0b14d9425d29f2dfe0b6582aee0fac0c965035ada230654f905beeaa203bcb6fc324f68fc993fc66feffc3c882cd93455f27156314e361781a23b1c626141af406967758c7cca1d3b002413924b6c5c2c65b2fc237220eb4cc473e878d1e1528380f5e1f083072839f27f2fb06b9fed42ddea725dcf5275fca1bcfbda1dac456182dcf6a8d3e9085a67841e73fc6cdf14fe60b36e4ce7506bf37843bc09d3a3c935809b9e4ca4b7c73c0c9491c43571b4ace84be7d4df18712ee8e87e14b7d8e62048e5a6709163e4d57a0220e833378e98fcddb453acde8a38c87589a309a59d50dc9ea476cc67ce3c2e23fdd4b289d7ae1393d4983ce00f1af7cd04a132f3a63a3aa67194e6872d8c34174142ae4931087308f273035bc33a0187377f01a03556f5853eb42eeb52383e528e549ee3d3576e19cf53f9b5dca54ce361384c5a44a83274a7415abeba9d37089b4b78b3b5d4a0295444cea7b4e4cecfdaa2260157a9b1079d306523858dc57b7fe3c0ca61bbe46a952ea53a65387443d7bbc0157af038f2156b2e4856c1a140306f015d5632f5d9821c102db052c4c5ac4be399438671e7658ca898927e4aa66481f2efb2e088c35c9063556c104f10616171791737b5ef90b842307d7f9777d63cb4b0d1b358cf81bbc4e0b1f7625c01981bbdf1e3ce7b3eea75d454f0b1bba96a524cf3e3794eff767ce710f884f86d948b6220767b5ca140f94e2420d5eb56dbb4c28bbfd91d6be3938e88a1c063c7d4c652827cc51c8f8eaa37adb5d72298d81ae112dfdc3417f97ce5b20b64d7163d3fa1471cd973f6271362029585a168f80390b00bc39862b5a93d37850d9ac83bc7ef8b4a616e52020bfd035ab9bc541b430a4157e5cf3a2aff0641ee1d1be246bbe4937bed68418bd5a7adf49be4040cd6cdaf073392de13d23ec2a36c0d47fdf6049e6b7c7abdbfddc90ffa1e98495aa4e98be084e773e2b5e5f448e879cc17428c3c968cb2ddd5e1a02d6f7f2c9ff983533e0c72be4c4824878cf0c2988a64d465aedb208752a5de22c91a3a8eb02794e3823ae7e8dbca454813ac56476486bfe45da7bcc69d128b2714ea47d5dd4c014af2afda2ae580ff4a34c770a7df21d1c8641d8560453b4b179e9fd26cf2ce8da580b5fa40890bcb253fce3d79e3ebf1a5b13a94a0267d0b036c084537b9399deb3628c64830fbe28333b4c1ad6667b30b398d2f88fbff8ceec81ca2eb3253957cd11254452a1a318e20fd704567e314d4a905796de85362cb25b7b66a21f610da7179b3166eca8848afb78e52dca5733cc7a2bf08dd141125c7d159256cc1bdc7182b70e6d2840774bef144db87f2ff90800afc4cbdfc7bcf68d84affdac061091cea1927047d1830d7b500d5033450e8b34e004e96bd95c2a6739341f04ebc00c78cbfa64558332294283b11262df4381c1869c11bb93655c92a103906663510ce479e8aaa909480dc22d4d9f00c8e6dad2b287f629d9fcfce057aba44db0f1170fde937867a1b96552a4aa7059927ccae4e94114248c99603beffb1005973406363a67660b2f8aa67d1d23500d14b9df6c7934499e7a09e5c69a95c8f12385840c3489b5bbcffa10260dd6c4709c6b0ba65dd966646158fefc99d0a797bd45ee19f6765007e6f9b88cd75dfbdbb3bda5cbd00e410750c278fb09ff4d14be90aefb7a92a2b51c66cadeba53d9d7f8c645ff5796ae21b3f7c2e6d39fadb2b689b665acff8821c33f4e69500604ee51b44e01d957cb5028a1b53c0e188fb704293c3abf9d2f884df0e4e2a5d335487c87a612425cdf54ba54101d0f1b4a6bca6181b98708ee3a66038af3a4e4b868ac19fbcc36ea7547bd265ce31b675df2f950965d8bbc05439d49e6d9e384e8249ff034ebfebe0c4c1d874b3412e901b2c767bd1f0b0cde61e02087170e13c6f12b3ce44e02fdc9e04e8f63316790d2459972c3a7bf688cebc74da9535455de2021d5830a46d63c6a48558832a041b40e1f7cd7cf74add495783d686e691e87e8cc178126ac2ac4111c3586b68f0bc4033a3a6f0aca073b46a9129ac67b07bb92ce687aca0f85a6ebcb2c44b0cd2c74b7bda8fde18cb2515591b2abab952c8a510880b27d6007b44b116e3398eb6cf8831ec1bceb1857ce2b4e2ec95070c89c5cb0a8bc9d76146eb2f3105fba2747b2c0d403278c169e0db25882a964754f8921c3c721fb5aa9b7e71426faea574a8d949ca5db4d7edc20c825c2c7d4aaa2445dd574ac08a9e949cec8298ff72c21ab005f7e458be7c2208841f3ce8caea38d283302ec195b819608871a90b309e42175447cadd32248c50f1540334ab29022c8b9449eaeb425ca2586b66d5a0758448fa6a44d57b71025d5e76c13ede51c76eb0d1b820f7b4ca5f8b35b8a6b4f87a8706ba0e89c610b8260d29fb9ad1f4808d4657de4f63687e18c78add06325238e68947286a0e2bb543f629bbe7a7e6b605939772fd40316763aa3eefe005b4f2a1be050fb93588c797800832870b76bfd30ff04d431d2be6693ae4d57ff84761a3a10fd8199c78ab954ac00caaa1a2490f6ab85df6b6715d6c4f5aca26e25ce50bc7555151c80f7160578a6d48381aae689bfc9e13967e94979555f90f8ea1dea8f1ee5d74de6bc19fa7c278755ff820646c94a9574738ffffce42b8b6bab760a5d723fa875fa671fd90711f474598ba37493943a2a922fa7a3a6d744a986e7cec0bd88b135d495482bb41bbf5649311385ee3e121d1294a7ca5d7d3c5bdce085cfb4be276a4c2e180fb7f463737536a5859d6f1323bd4baba0234d7a6c2d34836a1839ca5a0d013fb5befaf9b1bf42f8318782601240684245c782a7ff9b6f0c13cc00913ddb0c84fe35c2d2ada7a97d82016a2310130f211d2a750ddb7b8157d4508f1bdadbfc49241f45965decaba570356d0f828b2c6c30ef33a234aa240ae61fb4c87cb7a95efc6b48ad824e9dfd75ef4de6a7322c6668f2958671d08f12c449eb26bb3664a3d0ba903521f6f30063ecf6bae5200d3f15285abb49f07a5003ac4845851b0e7f9662ab7559edf4a7f468f108d9eec6abc6a519dc657ba1dd0327396a66c0235a40aa2fc65558633ff29bd31bf6acd004bc8a1f137700847a354703e0296cf4ffb67321a0c6556ee9c811ec855d38c67285d413827f000b28bd25797ffa1c4fb3623e1f729b8c91eada170cc0809c51c03c5dc557ce42b31d3a43bdb6a9de34c56b62f7a45d7ebc9e9c32d4a351b7bc19d1747279fd26ea27436c93d8c0e60f0a5fe1f71c86466eab14d9859c902dddeb3d293db5986ac9b1e33d38dc2a29b0893733653db151f1688704c211ed526bf4694ceff930402f616cc1ab9a6f29ec29f4931f77aaf73032d50dba3ef4afaa923a9879b94f8cb59059fd58af11975d6d21df08f24e55d889a27f65a409c2cb591669b86105c829f57326abf0b5bdb08b5d523ca92078958ab4667e7297db3247a24705a1c6c13c92915780dae2ef48ef54d79393dce8d24e4b2b41be10e6acba645bd2f3a2db838e0899eefcc9938a013bf888d9a5465811636211fc81c400666f0663b1aa42949a38354237e54861c4c00887deb905cc9dfc1f06b2334fe3be244eebbf4580960c958a3005d7f3557ed16e67eec02f50b6c8d326f5ffdb6f89c42d3228d7458984f3626633deff299a136660eb8e7277ab8e54c9a6d7cbfdbba512c27f64a36f2572c46d61f5644d1fc542cb6c97718958c0d77111b02a452e1e37d14f5baad14e39e0e5c865cddecf4d66db726aadd2bdcf91700088fba6e654c86aadea6f6da6d0261b1fef96a82047164198c69a2eeaf8292c3a15fbd387c830554b96e87c317315224b1d00222620c77523f6105b989afe7a08a8bc0561307d6b2df64f9039077860bf1b63fec7fe41ea0ffe8b686273692b56e5240ece2aaa5bbf3c379ce84a1a49534e83c7f7c3672c6d3d09c708766eaf8ce4c288c9a596629df47aaed8785e3c759d02e8eedfa23335eacc74a97a34d1764e4f0992c12ae8581b28a5e7519b194ba0cf934327ea8b7f9cdbae355863a0e69cf38f4a5f1c960a921ab5ff427f52c1091061d2c026d8a9092c5ed07118f7616868e9ce4d1daab34cfc9b0f84ee4a5a0be96b870a39d1fe7469767635b5c96efa407101195c34acdbfd70c74aa0c96ee8a7a325200e0e79fd89ee90ae971b03e0fbc603e7dad286d751a1076ff1f16fe3f85fc59c7ec4b7f907015ac7908af32bfcab3c4bc90bb66f737ec65939d8ff39b4504653a0c0bd30c1c41217982473b6bb20642eb687cc8ebdca26854ccb49f386371c00ed88719c13c6f7423894b6a3b8a5e7c0308c3b34170bf44b600949dede8c61e167d76e444def2003396453ae603756c51cdd382f9241bdcf67e2c78abd658f4a95dfffa3e7e7082a637676a25949e4a4775ee19aea5ffe762a1d57b11e434e891af4971905b97ba45ae1982b326b6f77fdd639e8903f33e5139fee6e444757acc6b12caf15e02ec47f5f5c99604a793747243628669b73a3310c6d12ed92257778e3e5e837fad48fc29e7e9f2455aea52bb6eb69a31429278cfbacd694e06b0a48cb095d6362b94fbada9fdf87f730ad682ff4c9617c46bb75af12cb2b1a7798b2679bd2a8e295e9630d7cc52a744016b47c85711932ae542cba7de02f42dd07efc7e0fb1c2e494e3da0f942801a11c8ff1a2b94305f99235c72b700a32da26e5eb74fd6bc9c31dbf7d4f0cc248db024409f88b479714648df61956a2fa617d8a8049977fa8c69eb253b0bdd53637af47576c83460ace439307f72138984e9e0e54f447a3d9d079370099109037261315b7779500650bebf91b1dde9a97ab9a99c44b4a58ce2a832072643ff9b5fab90b5673f7910e20b068e74e5e5ac209545d1a1503532240cbc2dc5f3998d2ad9e6d25af7f10ca697cabb4f67555ccd0f9e9e99b692ceefd38abd105d2bf1de9ae9b444f420f6fbe7ba280659c23dffa33798c051a7507486c3ccfceaacadf5bd34e79c58c8d6f6b8592fd5fd50c37d35d4e17e297f6fdedb6ca0f89d1e6163cd8701be388a3813bf6b5d608b6a7afd14ffba802d9b30fa81802a8c601716abe3c56ea09e892539692c1ee2a4c8ceb66aaaba224e849c80c2a13c6dce214c81f12b1e537dffcdb59171d57efb843edbcb874a760d8321c29d39d60028cc4e20f8b14fdfb02cff09471e81d8fc978ed3377abfd7dd0b9ae1f4e66dad6bbd8e3890d11e6b0e92243aa41989f96cd2da219a7e135ce6b93e3bf3b139c78d35cb32196bf0b8c88b7b805d784d611860680e0f419f21fbbde4bd2cce4bf75cdda28a323b596d209055599611b7f80a5cc0299b6cc2d0f763b8b93ba1937809c6e7652b448f9372c10fb36e306393acf8e6fc39adaefcf157d0e5c85fcf454ed6e5c402580f25b6f70ae490d41a059dcb093f8c3f955cacbf2070612acd111ac559da0325dbbf75520605ae300173c269d31bbe742ff5953e61a4f163e21f7180f234abb6c7fb33524669b29cce9093c27e5c7ab16b4fa006e9f0b728ced6bae8a73d543752609a6b91f1c35351624bfabd01bf8ea7a3f6700ebfef8d771b4fd32d62c5055f17f7613e4bbd1c829fdefce884b67e19aafc48f652094f5950dae0b36aac90cddb335cc8bfa8765d24d147f74c1bd977e0b5e9822a25e8026bb022a6220fb09bad807c41bbbea23206a8566564278be0e7795b9f3e3e91864b1595201c0b68023b78cb10c375a4fad3ac9103e58894be1bf881b3a76abd25711149d8d0bc251ac604210808454083e09193038932b5de4af438b1d3b0d977d3745a49b2b266284686e54aa1720ffdce84ae19e27ed750be8c6f7ed0838c9e38b8064a796bb934cf1fd5d0a08df45aa672e3f53308ddb6b86f689e9f468206f0763f897fa41130d5edeef836096129f9754418c4745dcb338a503193359f3b74d97b611f1427deac4eeb9c2595a8265edf11de0b099cfd7d533e6a35d075a7162fdb1a3610ff64a82e75a1191f9baf09069a0fa7c98112871b9ff7a7dd0dd179054805a7ee8ab78e65a49c73857d438346673290c771d5a33571868f912cf7369536a9b2ac09b88f325a92e7a9529ee1648a06752a05c541445a0eb7e3818ebc29a252a476417e7407cd291a7dd2fca2dd15ea7c6ae8563ef22dba59c8aa7ec1fc84e1a63dfaa5ccf029e6faad2c442ee70334deda62982115f6874103cdebbea6b3b4d9dd78b36842982943da125817171e3f3e99e020517d8d6bc68265e4b0af26005784a968e6afbb220d1e2d78e0fbb55d700edf1c912c02443e777130f4a85d052f160b2ac9515d20b98d1d9d2079e61642a2d5ea9b51657aa9be03857b1ba3082b563a7bf4b216d7b1d5ddd382436268427b01b1a9d09b01612bc1315f57ff8bd2a93bb6ff982aeb65687e85038854d2bda6d859fa77683682ba2c9a90ec49e5a6ff00b412d0309e92108ffa6bdb97c542e037a09566cb302a773b6a4a046c9d6e374eb37f746beed5a9059d43483c5dd103af630249802ec0a6825a83943082d0b284cd2867c3a0eb72261d1996056fcd781c53d88ead76de82992944ff5510434ddce11449d57658bd90c65d1df6bfa82550f6862fe95b142034071d529b7895485d94cc4ddddcb3f8ffae5087e78028f6a37138cb3a9ed8eb3839a4e5c54b03745e5732751a623cdcb4c59a260782770a31a4580ab2966a0a2dcef3612a604408fa30e5c77fa3df148aca471d3c07717d4feec885c2757ca2cb70f232e747d0384cc9120ba04e1694e25f47b61371f68aba87e5b684d727dd47f078216b12dadc6260f35d46f576ac212cc6a2476b8e430f184d1e1d1a39f4702ed4de6af80a29ba6f0488bbf9246d01d191fff55c09f40e06d79f34c91d7fd240c93ac77b5212d041814cfbaf6dcba5415aef0e7ac54eb9c4880d195a60e5b844942622072dba2208efc082ed1837f7caa04fd71140f27c5ad8df2f57f041830d6afa4dff330b171a42420fe4af8fc8f0222f226bee33c4bd52258d61de569ed4379a639a30ee42156e679e5b3c3cdf7b06c37793c110321ae738ea635079b6ce995e629a65f46c43736def2c7fc163b943c5f7d018b2e850ec96b6889d7fbe864f91db8ee4126f96acd7aa63737102eda4cae7d86cfcd847b9686f5e84b4af6f9ea171841dbda427705afd567542815d7b85584bdfffa2b88dc64ef2d33466d6ad807911cd113ec75a803e3a70fb23f937313b7a114aa86299e06254abf46d759aae78c8485df9993965c0d9e7171b05f821e8bce51ab60965322a3b2c7d2cd2bdd9863a37b2b004afa8dfc53c74e7c8c5cae9b852c8d0002b55775c754e1c9f3999c53de3c78b7960dea01262ccc13213e43153f5b6b51d34720571d66ba6a1a7310f3b5793792bdb498362b7d07ddd2bfd1ef485488bcc598554e1f2c68f7ec28cd6805fd0769a165e0e4bd89245d1463930547ce98167da4fb8fa14a5e45fd3503f287be8b1ec64212583bc91a7c760a3eab6ebdb97821c31921325d5755cc66b46de75471f2ed0b7b6f972762fd25a0a005ba8498e2c2c68e27fb5a1690f3488617a655645688cb654eb2c759ea8adec381fa4369e133af3922fffd9e120126fdfb41fb1ee4ab04d46c09dddb7a6f33454750874dc37ca6bc087ffee76975b3892d5e7d39547aa8c647a5c4e41c8f7305355fffe3c1bfad9172098e12707bca3830f73587d8b5204ad059b6934eb5f79f40c6b9689fb1e7896be6d5c43c86bfce58f3bb0067f672cea55e15dc5da09c329bced0dac01cbb6e99007c81a58e2159e7f467e4a1584864a8ffecfb5a9516b798c965ffb82fac15db605ab5f4429c7a7c67832bf45587d376265111085d267dbbfc6e09bba6cc5e17f003c8cad8ae92cc9d5ca019998fd4a32949d268c517c5fef08e45297401ed31081c3e8a48e4180c47dbf705da465029f09d24f4afd483602ecfe042d67c9e2fbfbb0dc344b798fb4d4bc8b3140e907a8e0332936cfde1956c3d0f92c63f4359bfde3e0c5ef6a7919c0351249bc0e09bac9d1e3837c84217941db6b88f093d2315f50dd18d0b35a263c336d66db90b99cf9d875b171702795346b3d14a96b058a5f63c41bcb972727cdcee7cc164fbba8e876a961638ffb790e4a3ee626109842e9b10d3b9c6431c345629b50d8f13149904c8e3e0a970b4c1d37ee003ffaac477b76185b125ee431a4230f949be589864cecaa935f9e615dac4333b0441d6281e051a09d66b1b3e71e60577929097b9d9a9068d4c6f523cd6868c7</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>JavaScript</category>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>web ide</tag>
        <tag>monaco</tag>
      </tags>
  </entry>
  <entry>
    <title>回望初心，笑看那年盛夏</title>
    <url>/article/life-and-me/</url>
    <content><![CDATA[<p>我猜你肯定是被标题吸引了，其实，你没看错，这是一篇”记叙文”或者说是”议论文”。</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><del>开头的话，我可以义正言辞的声明，我肯定不会在本文中去写代码或者技术啥的，因为男人的嘴骗人的鬼。</del></p>
<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>回望初心，初心是什么呢？初心当然是在技术的海洋里自由翱翔，曾经写过<code>毕业于MIT大学</code>，因为热爱开源，当然也想站在开源的立场去更多的对待技术。</p>
<p>大智若愚说的是那些智者，回首毕业这么久，我遇到了很多人，也结识了一些志同道合的技术人，像<code>小夕</code>，<code>淘戏卡字辈</code>……</p>
<p>每当深夜去读大家的文章的时候，总有一种望尘莫及的感觉，在深思，我能不能像这样，然后又给自己打气：<code>我能这样，我可以的，完全没问题</code>，那一字一句中，透露着那个时候的不羁与中二。</p>
<p>看过《惊悚乐园》，至今怀念<code>不觉</code>与<code>若雨</code>那种情调，怀念甚至向往一代<code>笔者</code>的风范（<del>我不会告诉你至今我还文笔稚嫩，稚嫩到半天写技术爽文章的时候，憋不出一句屁来。</del>），害！算了，那段过去的，就让它过去吧。</p>
<p>我有时候确实想过，去做一个好的作者，去做一个好的技术产出者，或许是疲于<code>内卷</code>，难道我的目标就是成为<code>卷王</code>？一次又一次的在内心呐喊，向着那个另一面的自己（<del>我相信一个人存在双重人格，真的，我相信</del>），这个时候的我应该露出玩味的笑容，然后看着你：<code>嗨，好兄弟（好姐妹），你看过《暗黑魔女库伊拉》吗？就那个一半头发白的，一半头发黑的，拥有者双重人格的外国女人。</code>当然这里的”外国女人”不包含任何歧视的语气，女主还是很漂亮的……</p>
<p>不好意思，又扯远了，刚刚我们聊到了初心，然后到了内卷，然后到了<del>库伊拉（电影）</del>接下来，我要介绍的那年盛夏：</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>那年盛夏究竟发生了什么呢？</p>
<p>此处省略<code>10w</code>字。</p>
<h2 id="番外篇：AMD-UMD-CMD-CJS-ESM究竟怎么玩，怎么玩？"><a href="#番外篇：AMD-UMD-CMD-CJS-ESM究竟怎么玩，怎么玩？" class="headerlink" title="番外篇：AMD\UMD|CMD|CJS|ESM究竟怎么玩，怎么玩？"></a>番外篇：<code>AMD\UMD|CMD|CJS|ESM</code>究竟怎么玩，怎么玩？</h2><p>第一个怎么玩的意思就是怎么去认识它，了解它：</p>
<p>像我们了解鲁迅先生，从<code>百草园</code>到<code>三味书屋</code>，再到儿时的玩伴<code>少年闰土</code>……</p>
<p><strong><code>AMD</code>：将代码写成让浏览器认识的样子。</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">define([<span class="string">&#x27;jQuery&#x27;</span>], <span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// todo some</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>它作为<code>Require.js</code>的模块定义规范，（这里提一嘴，<code>Require.js</code>是什么呢？RequireJS不是框架，是模块加载器；）</p>
<p>虽然我不太了解，甚至只有在刷面试题的时候才了解，但是不得不说这是时代的产物，是<code>ES Module</code>之前的杰作，其实想一想<code>jQuery</code>，在<code>React</code>、<code>Vue</code>、<code>Angular</code>、<code>Sevlte</code>…..这些杰作未出来之前，再想想，从<code>真实DOM</code>到<code>虚拟DOM</code>。这些东西都是时代的产物，过去的东西并没有死去，过去的东西只是慢慢的在被取代。</p>
<p><strong><code>CMD</code>是在<code>sea.js</code>中被提出来的，当然也是针对于浏览器端。</strong></p>
<p>只不过针对与<code>AMD</code>而言，它属于哪里需要再在哪里加载。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>) </span>&#123;  </span><br><span class="line">	    <span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">&#x27;xxx.js&#x27;</span>)</span><br><span class="line">	    <span class="built_in">console</span>.log(a)</span><br><span class="line">	    <span class="keyword">var</span> b = <span class="built_in">require</span>(<span class="string">&#x27;yyy.js&#x27;</span>)</span><br><span class="line">	    <span class="built_in">console</span>.log(b)</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>

<p>但是这里的就地加载，并不是说，碰到<code>require</code>再去加载：</p>
<p>可以看下<code>sea.js</code>的源码中是这样干的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.define = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> id = getCurrentJs()</span><br><span class="line">    <span class="keyword">var</span> depsInit = s.parseDependencies(callback.toString())</span><br><span class="line">    <span class="keyword">var</span> a = depsInit.map(<span class="function"><span class="params">item</span> =&gt;</span> basepath(item))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其实用大白话讲就是，<code>AMD</code>&amp;<code>CMD</code>都是会提前加载所有模块，但是<code>AMD</code>是加载完就执行，而<code>CMD</code>是碰见<code>require</code>再执行。</p>
<p>当然也可以推翻市面上的说法：</p>
<blockquote>
<p>ADM 是异步的，CMD是同步的。</p>
</blockquote>
<p>加载当然都是异步的，只不过<code>CMD</code>执行是一个同步过程。</p>
<p><strong><code>CJS</code>：CommonJS</strong></p>
<p>不要被<code>CJS</code>吓到了，这玩意儿就是个缩写：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">&#x27;lodash&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>适用于<code>Node</code>端的模块加载使用方案，同步引入。</p>
<p>这里可以顺带提一口，<code>TS</code>下的引入：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> _ = <span class="built_in">require</span>(<span class="string">&#x27;lodash&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>这种语法是合乎规范的：</p>
<p>可以参见： <a href="https://www.typescriptlang.org/docs/handbook/modules.html">https://www.typescriptlang.org/docs/handbook/modules.html</a></p>
<p>也可以看看<code>stackoverflow</code>上，大佬们的讨论：  <a href="https://stackoverflow.com/questions/52534910/difference-between-import-x-requirex-and-const-x-requirex-in-typ">https://stackoverflow.com/questions/52534910/difference-between-import-x-requirex-and-const-x-requirex-in-typ</a></p>
<p><strong><code>UMD</code>：既适用于<code>Node</code>端，也适用于客户端</strong></p>
<p>可以理解为<code>AMD</code>/<code>CMD</code>/<code>ESM</code> + <code>CJS</code>的结合。</p>
<p>看过常用库（<code>jQuery</code>,<code>pubsub.js</code>）的同学肯定见过如下代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">root, factory</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">&#x27;function&#x27;</span> &amp;&amp; define.amd) &#123;</span><br><span class="line">                <span class="comment">// AMD</span></span><br><span class="line">                define([<span class="string">&#x27;jquery&#x27;</span>], factory);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">exports</span> === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// Node</span></span><br><span class="line">                <span class="built_in">module</span>.exports = factory(<span class="built_in">require</span>(<span class="string">&#x27;jquery&#x27;</span>));</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 浏览器全局变量(root 即 window)</span></span><br><span class="line">                root.returnExports = factory(root.jQuery);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;(<span class="built_in">this</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">        &#125;));</span><br></pre></td></tr></table></figure>

<p><strong><code>ESM</code>也是大势所趋，浏览器端支持良好，<code>Node</code>端也开始慢慢支持</strong></p>
<p>对于时下，广为人知的几个模块，我们先讨论到这里，这里可以先打个预备草稿：</p>
<p>另外一个玩一玩，当然指的是，知道他们后，抛砖引玉，去玩一玩主流的打包工具：</p>
<p>像<code>rollup</code>、<code>gulp</code>、<code>webpack</code>、<code>tsdx</code>……</p>
<p>真的太多太多了，但是各有优势，然后我想，我还可以就这个打包工具再出一篇文章：《从零开始打造组件库/工具库》</p>
<p>期待下一期再与你见面～</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2106/234750-158921207008d8.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>生活</tag>
      </tags>
  </entry>
  <entry>
    <title>初探 gulp</title>
    <url>/article/gulp-first-view/</url>
    <content><![CDATA[<p>上一篇文章中我们有提到<code>UMD</code>、<code>CJS</code>、<code>AMD</code>、<code>ESM</code>的区别，今天这篇呢，就打包代码，抛砖引玉，我们来探索下<code>gulp</code>。</p>
<p><code>gulp</code>比较清晰深刻的两个概念就是<code>流（Stream）</code>和<code>任务（Task）</code>。</p>
<p>以函数式编程的形式，一个函数一个<code>Task</code>，去执行任务，<code>Task</code>之间的数据传输是以<code>Stream</code>的形式去流动的，最终输出到指定目录。</p>
<p>快速开始<code>Hello World</code>，参考<a href="https://www.gulpjs.com.cn/docs/getting-started/quick-start/">传送门</a></p>
<h3 id="名词一：任务"><a href="#名词一：任务" class="headerlink" title="名词一：任务"></a>名词一：<code>任务</code></h3><p>任务分为<code>共有任务</code>、<code>私有任务</code>。</p>
<p>提前声明的是：</p>
<blockquote>
<p>gulp 不再支持同步任务（Synchronous tasks）</p>
</blockquote>
<blockquote>
<p>gulp 不再支持同步任务（Synchronous tasks）了。因为同步任务常常会导致难以调试的细微错误，例如忘记从任务（task）中返回 stream。<br>当你看到 “Did you forget to signal async completion?” 警告时，说明你并未使用前面提到的返回方式。你需要使用 callback 或返回 stream、promise、event emitter、child process、observable 来解决此问题。</p>
</blockquote>
<p>那就意味着，我们的任务函数需要这么去编写：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">myFirstGulpTask</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// todo some</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>建立<code>私有任务</code></strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">privateTask</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.build = privateTask</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><em>Note: 需要注意的点是，私有任务不能被外部使用者直接调用，例如：</em></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ gulp </span><br></pre></td></tr></table></figure>

<p><strong>建立<code>公有任务</code></strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">publicTask</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.default = publicTask</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其实，不难猜测的是，对于一连串的任务，肯定是有一定的顺序的，但是也会有并行执行的场景：</p>
<p>那么这个时候<code>series</code>和<code>parallel</code>就闪亮登场了。</p>
<p>其中，<code>series</code>控制顺序执行，<code>parallel</code>控制并发执行。</p>
<p>二者可以随意判断且嵌套使用，诸如：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 判断</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">devTask</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">proTask</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.ENV === <span class="string">&#x27;prod&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">exports</span>.build = proTask</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">exports</span>.build = devTask</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 嵌套</span></span><br><span class="line"><span class="built_in">exports</span>.default = series(devTask, proTask)</span><br><span class="line"><span class="built_in">exports</span>.default = parallel(devTask, proTask)</span><br><span class="line"></span><br><span class="line"><span class="comment">// OR</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.default = parallel(devTask, series(proTask))</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.default = series(devTask, parallel(proTask))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>说到这里，你肯定会有些疑问，异步方案的替代品是否存在？</p>
<ol>
<li>回归原始，回调控制执行时机</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">task</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    cb()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>任务的执行机制如何？</p>
<blockquote>
<p>当从任务（task）中返回 stream、promise、event emitter、child process 或 observable 时，成功或错误值将通知 gulp 是否继续执行或结束。如果任务（task）出错，gulp 将立即结束执行并显示该错误。</p>
</blockquote>
<blockquote>
<p>当使用 series() 组合多个任务（task）时，任何一个任务（task）的错误将导致整个任务组合结束，并且不会进一步执行其他任务。当使用 parallel() 组合多个任务（task）时，一个任务的错误将结束整个任务组合的结束，但是其他并行的任务（task）可能会执行完，也可能没有执行完。</p>
</blockquote>
<h3 id="任务执行"><a href="#任务执行" class="headerlink" title="任务执行"></a>任务执行</h3><p>总结三点：读取（输入） –&gt; 处理传输 –&gt; 写入（输出）</p>
<p>以一个<code>demo</code>入手：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// gulpfile.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; src, dest, series &#125; = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> ts = <span class="built_in">require</span>(<span class="string">&#x27;gulp-typescript&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">&#x27;gulp-babel&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">cjs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> tsProject = ts.createProject(<span class="string">&#x27;tsconfig.json&#x27;</span>, &#123;</span><br><span class="line">        <span class="built_in">module</span>: <span class="string">&#x27;CommonJS&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tsProject.src()</span><br><span class="line">        .pipe(tsProject())</span><br><span class="line">        .pipe(babel())</span><br><span class="line">        .pipe(dest(<span class="string">&#x27;cjs/&#x27;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">esm</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> tsProject = ts.createProject(<span class="string">&#x27;tsconfig.json&#x27;</span>, &#123;</span><br><span class="line">        <span class="built_in">module</span>: <span class="string">&#x27;ESNEXT&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tsProject.src()</span><br><span class="line">        .pipe(tsProject())</span><br><span class="line">        .pipe(dest(<span class="string">&#x27;es/&#x27;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.default = series(cjs, esm)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>到此，<code>gulp</code>初步探索就结束了，下篇将探索<code>gulp</code>高级玩法，诸如，结合 <code>rollup</code>、结合<code>webpack</code>……</p>
]]></content>
      <categories>
        <category>gulp</category>
      </categories>
      <tags>
        <tag>模块化</tag>
      </tags>
  </entry>
  <entry>
    <title>三分钟带你彻底搞懂`new`关键字</title>
    <url>/article/how-to-implement-new/</url>
    <content><![CDATA[<p>一年前的我对于一道面试题，虽然最后知道了答案，但是一直没有机会将它讲的通透。</p>
<p>借此机会，（<del>当一面面试官，面试候选人，但是有好多候选人都不是很清晰</del>），首先，了解这个知识点，你会收获什么？</p>
<ul>
<li><code>new</code>的实现原理</li>
<li>构造函数的注意事项</li>
</ul>
<p><strong>看懂本章的前提：你要理解原型链</strong></p>
<h4 id="析题（拆解步骤）"><a href="#析题（拆解步骤）" class="headerlink" title="析题（拆解步骤）"></a>析题（拆解步骤）</h4><p><code>new</code>做了什么事：</p>
<ul>
<li>绑定 <code>this</code> 的经典操作</li>
<li>拥有自己的构造函数</li>
<li>当返回非引用类型的时候，<code>new</code>返回的是构造函数的<code>prototype</code>.引用类型，返回构造函数的执行结果（这里其实与<code>java</code>的执行结果有所区别）</li>
<li>我们的构造函数名都有一个约定俗成的规范：<code>大驼峰</code>，例如：<code>Person</code>……</li>
</ul>
<p>直接上代码！</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 记录函数参数</span></span><br><span class="line">    <span class="keyword">const</span> _args = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 拆分构造函数</span></span><br><span class="line">    <span class="keyword">const</span> constru = [].shift.call(_args);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检测构造函数</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> constru !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(</span><br><span class="line">            <span class="string">`</span></span><br><span class="line"><span class="string">                myNew Error: The constructor should be a function</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 校验函数名</span></span><br><span class="line">    <span class="keyword">if</span> (constru.name.charAt(<span class="number">0</span>).toUpperCase() !== constru.name.charAt(<span class="number">0</span>)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(</span><br><span class="line">            <span class="string">`</span></span><br><span class="line"><span class="string">                myNew Error: The constructor name&#x27;s first char should be a Uppercase</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 以构造函数的原型链创建原型对象</span></span><br><span class="line">    <span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(constru.prototype);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 执行构造函数，并且绑定 this 到新建的Obj上，且传入参数</span></span><br><span class="line">    <span class="keyword">const</span> result = constru.apply(obj, _args);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (result &amp;&amp; (<span class="keyword">typeof</span> result === <span class="string">&#x27;object&#x27;</span> || <span class="keyword">typeof</span> result === <span class="string">&#x27;function&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> obj</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>验证<code>返回值为非引用类型：</code></strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = myNew(Test, <span class="string">&quot;name&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br></pre></td></tr></table></figure>

<p>打印</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Test &#123; name: <span class="string">&#x27;name&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>


<p><strong>验证<code>返回值为引用类型：</code></strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age: <span class="number">14</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = myNew(Test, <span class="string">&quot;name&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br></pre></td></tr></table></figure>

<p>打印</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123; age: 14 &#125;</span><br></pre></td></tr></table></figure>

<p>今天，你学废了吗？</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>面试</tag>
      </tags>
  </entry>
  <entry>
    <title>年中复盘，自我考核</title>
    <url>/article/the-life-in-middle/</url>
    <content><![CDATA[<p>简单复盘一下上半年自己做的一些事情，以及下半年的规划。</p>
<h3 id="上半年主要从业务线调整到了架构组："><a href="#上半年主要从业务线调整到了架构组：" class="headerlink" title="上半年主要从业务线调整到了架构组："></a>上半年主要从业务线调整到了架构组：</h3><ul>
<li>业务线支援（完成跨境电商、货代赋能相关专项一期）</li>
<li>配合 <code>Sentry</code> 监控(<code>Sentry</code>升级是我老板在做)，开发针对 <code>React Error Boundry</code>的后备渲染组件。</li>
<li>拆分项目（老项目 -&gt; 新项目）</li>
<li>重构完成<code>60%</code></li>
<li>接入<code>Cypress</code>，<code>UI</code> 自动化测试（暂时还没写测试用例）</li>
<li>简易版<code>Monaco Web IDe</code>开发</li>
</ul>
<p>做的事情不多，大部分还是在支援业务线上。</p>
<hr>
<p>其实我想出去看看了，看看外面的世界，换一个环境，继续开始我的路途。</p>
<p>天下没有不散的宴席，对别人也是，对我也是。</p>
<p>以目前的工作能力应该可以对标<del>3</del>5<del>1</del>3年经验的前端。</p>
<h3 id="下半年的规划："><a href="#下半年的规划：" class="headerlink" title="下半年的规划："></a>下半年的规划：</h3><ul>
<li>找到一份相对满意的工作</li>
<li>在公司内做出一点成绩来</li>
<li>深入研究技术领域，闲暇时间给开源社区做做贡献（<del>Antd 还有一个我提的 bug ，等我去提 mr</del>）</li>
<li>锻炼自己的产品思维、测试思维，完善一整条流水线的思维能力</li>
<li>在对技术热爱的同时，掌握一项运动（想跑步），感兴趣一件事（可以谈个恋爱，可以学习摄影）</li>
</ul>
<p>年已过半，不忘初心，再接再厉，爱惜身体！好好赚钱。</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>生活</tag>
      </tags>
  </entry>
  <entry>
    <title>从业务思考再次邂逅加密算法</title>
    <url>/article/first-know-md5/</url>
    <content><![CDATA[<p>在介绍骚操作的时候，先：</p>
<p>着重介绍下常见的加密摘要函数：</p>
<p>首先可以先介绍下盐的用途。</p>
<blockquote>
<p>盐（Salt），在密码学中，是指在散列之前将散列内容（例如：密码）的任意固定位置插入特定的字符串。这个在散列中加入字符串的方式称为“加盐”。其作用是让加盐后的散列结果和没有加盐的结果不相同，在不同的应用情景中，这个处理可以增加额外的安全性。</p>
</blockquote>
<p>为什么要加盐？</p>
<blockquote>
<p>通常情况下，当字段经过散列处理（如SHA-1），会生成一段散列值，而散列后的值一般是无法通过特定算法得到原始字段的。但是某些情况，比如一个大型的彩虹表，通过在表中搜索该SHA-1值，很有可能在极短的时间内找到该散列值对应的真实字段内容。</p>
</blockquote>
<blockquote>
<p>加盐后的散列值，可以极大的降低由于用户数据被盗而带来的密码泄漏风险，即使通过彩虹表寻找到了散列后的数值所对应的原始内容，但是由于经过了加盐，插入的字符串扰乱了真正的密码，使得获得真实密码的概率大大降低。</p>
</blockquote>
<h2 id="MD5"><a href="#MD5" class="headerlink" title="MD5"></a><code>MD5</code></h2><p><a href="https://zhuanlan.zhihu.com/p/191446610">下面的解释来自知乎</a> : <a href="https://zhuanlan.zhihu.com/p/191446610">https://zhuanlan.zhihu.com/p/191446610</a></p>
<blockquote>
<p>MD5（信息-摘要算法5）：MD5将任意长度的“字节串”映射为一个128bit的大整数。MD5以512位分组来处理输入的信息，且每一分组又被划分为16个32位子分组，经过了一系列的处理后，算法的输出由四个32位分组组成，将这四个32位分组级联后将生成一个128位散列值。</p>
</blockquote>
<h2 id="SHA"><a href="#SHA" class="headerlink" title="SHA"></a><code>SHA</code></h2><blockquote>
<p>SHA（安全哈希算法）：该算法的思想是接收一段明文，然后以一种不可逆的方式将它转换成一段（通常更小）密文，也可以简单的理解为取一串输入码（称为预映射或信息），并把它们转化为长度较短、位数固定的输出序列即散列值（也称为信息摘要或信息认证代码）的过程。可以对任意长度的数据运算生成一个160位的数值。SHA将输入流按照每块512位（64个字节）进行分块，并产生20个字节的被称为信息认证代码或信息摘要的输出。SHA-1是不可逆的、防冲突，并具有良好的雪崩效应。</p>
</blockquote>
<h2 id="数据传输加密算法流程"><a href="#数据传输加密算法流程" class="headerlink" title="数据传输加密算法流程"></a>数据传输加密算法流程</h2><p>前后端约定加密算法，在后端生成<strong>公钥</strong>&amp;<strong>私钥</strong></p>
<p>前端请求接口拿到<strong>公钥</strong>｜<strong>盐</strong>加密后，给后端：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 加盐加密</span></span><br><span class="line"><span class="keyword">import</span> JsSha <span class="keyword">from</span> <span class="string">&#x27;jssha&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> encryptPwdWithSalt = <span class="function">(<span class="params">pwd, salt</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> JsShaObj  = <span class="keyword">new</span> JsSha(<span class="string">&#x27;SHA_256&#x27;</span>, <span class="string">&#x27;TEXT&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 加密加盐，必要时可以二次加密再加盐</span></span><br><span class="line">    JsShaObj.update(<span class="string">`<span class="subst">$&#123;pwd&#125;</span><span class="subst">$&#123;salt&#125;</span>`</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 返回 16 进制的 hash 散列值</span></span><br><span class="line">    <span class="keyword">return</span> JsShaObj.getHash(<span class="string">&#x27;HEX&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 公钥再次加密</span></span><br><span class="line"><span class="keyword">import</span> JsEncrypt <span class="keyword">from</span> <span class="string">&#x27;jsencrypt&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> setRSAPKAndEncrypt = <span class="function">(<span class="params">publicKey, pwd, salt</span>) =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> encrypt = <span class="keyword">new</span> JSEncrypt();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 设置RSA公钥</span></span><br><span class="line">    encrypt.setPublicKey(publicKey);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> JsEncrypt.encrypt(encryptPwdWithSalt(pwd, salt))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>后端拿到前端的加密结果后，根据服务端存储的<strong>私钥</strong>解密。</p>
<p>对比数据库密文，判断<code>hash</code>是否一致。</p>
<p><strong>Case：需要注意的几点</strong></p>
<ul>
<li>盐通常加在前面，不过也无所谓</li>
<li>在使用<code>客户端请求盐</code>这种操作的时候，一定要注意不要直接用<strong>用户名</strong>去做请求，因为，恶意攻击者可能会通过脚本拿我们的有效用户名。</li>
</ul>
<h2 id="另外的用途"><a href="#另外的用途" class="headerlink" title="另外的用途"></a>另外的用途</h2><h4 id="需求盘点"><a href="#需求盘点" class="headerlink" title="需求盘点"></a>需求盘点</h4><p>在修改数据流图时，且切换所在<code>tab</code>时，检测是否有改动，弹出二次确认弹窗。</p>
<h4 id="拆分逻辑"><a href="#拆分逻辑" class="headerlink" title="拆分逻辑"></a>拆分逻辑</h4><ul>
<li>切换 <code>tab</code> 拦截</li>
<li>改动校验</li>
</ul>
<h4 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h4><ul>
<li><code>tab</code>切换使用<code>Antd  tabs</code>组件的受控模式（注入<code>onChange</code>属性与<code>activeKey</code>）</li>
<li>改动校验，使用<code>MD5</code>加密序列化字符串做对比</li>
</ul>
<h4 id="开发过程中的坑"><a href="#开发过程中的坑" class="headerlink" title="开发过程中的坑"></a>开发过程中的坑</h4><ul>
<li>组件封装独立性过高，借助<code>PubSub</code>消息通知，唤起二次确认，与确认完毕后，<code>tab</code>切换操作续命。</li>
<li><code>MD5</code>相同的内容，但是多一个空格，<code>hash</code>值都会不同，加密前先过滤空格</li>
<li>存储初始<code>MD5</code><ul>
<li>考虑多个<code>tab</code>打开相同的页面</li>
<li>生命周期</li>
</ul>
</li>
</ul>
<p>解决多<code>tab</code>问题</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; nanoid &#125; <span class="keyword">from</span> <span class="string">&#x27;nanoid&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pageM: Partial&lt;Record&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt;&gt; = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> gNanoId = <span class="function">(<span class="params">key: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!pageModal[key]) &#123;</span><br><span class="line">        pageModal[key] = nanoid();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">plantStore</span>(<span class="params">key: <span class="built_in">string</span>, value: <span class="built_in">string</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">    gNanoId(key);</span><br><span class="line">    sessionStorage.setItem(<span class="string">`<span class="subst">$&#123;pageModal[key]&#125;</span>_<span class="subst">$&#123;key&#125;</span>`</span>, value);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStore</span>(<span class="params">key: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sessionStorage.getItem(<span class="string">`<span class="subst">$&#123;pageModal[key]&#125;</span>_<span class="subst">$&#123;key&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rmStore</span>(<span class="params">key: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">    sessionStorage.removeItem(<span class="string">`<span class="subst">$&#123;pageModal.id&#125;</span>_<span class="subst">$&#123;key&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;pageModal.id&#125;</span>_<span class="subst">$&#123;key&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clearStore</span>(<span class="params">key: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">Object</span>.keys(sessionStorage).forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.includes(key)) &#123;</span><br><span class="line">            sessionStorage.removeItem(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    plantStore,</span><br><span class="line">    rmStore,</span><br><span class="line">    getStore,</span><br><span class="line">    clearStore</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>在最后提到的，脚本伪造请求的时候，其实我们目前的请求都有<code>Referer</code>,但是要在 <code>Nginx</code> 层配置请求:</p>
<p>这里暂时列举图片请求的<code>防盗规则</code>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"> location ~* \.(gif|jpg|png)$ &#123;</span><br><span class="line">    valid_referers none blocked *.phptest.com;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$invalid_referer</span>) &#123;</span><br><span class="line">        <span class="built_in">return</span> 403;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最后</p>
<ul>
<li>感谢我的现任同事龙哥（<code>javaer</code>）给予的耐心解释～</li>
<li>感谢我的现任同事圈圈(<code>jser</code>)在周会过程中分享的<code>nanoid</code></li>
</ul>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a href="https://wooyun.js.org/drops/%E5%8A%A0%E7%9B%90hash%E4%BF%9D%E5%AD%98%E5%AF%86%E7%A0%81%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E5%BC%8F.html">加盐hash保存密码的正确方式</a></li>
</ul>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
      <tags>
        <tag>md5</tag>
        <tag>sha1</tag>
        <tag>sha256</tag>
      </tags>
  </entry>
  <entry>
    <title>万般思量，我选择离开</title>
    <url>/article/for-furture/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="78d1da7c2dd837fd7dcc51a22abc93b707e5a888a6e9cbc85b02837f86f38919">837d5b8d3dc3a6e0d45727afd13e616510a1570de173eee7dbb20ed13064660b8fd618f7b08631499fd6acbff0ade50f1f818fc6df09423b3231e543fdb4445b323828a1f4f20823344421db04342b0b014b828ec13be2ee300c7cbb3355f8fd47bad5d78806e4b243f8ec44c25cf23b4941221d12cf79ed05fa3deb01f1296c435583eb6e7a3ae39184d930702bd2e583d0622f612404f7a520482662a9faf965b378e11a43e2f51f434a9dbb961cb7481785091cc5ffb4bbc4332b7f699ec60fb4cc6fd9dd1be0e062cac7c3fe7251e426538fac6e5c141fe8d054f1ad25f6e5c426894e6e1dd37c51488a3c60b9e4e35ea31296b5b9be753838c5bd47c2bad3130c3b1351bf88a7952633efeb58f875a872b6810bdcceee3510e667be5325d6ebdae0eb4e152f68db0bcdd4f4cb852a658a129b496f7e4757b2b6192b13013f4621cf4db5af54f4d400da76b114b0ef3de6cf30ba3d013b108d998d273ce6d991f18a424cb48d12921789e5b0e4dc2973b9ae8ee752fb0ec8946b0efcffbc27f742a7fbeb166d6fbaa774f9942894428ae473b958e2da9185c6a47eb591e7a4d8651ff10c6b06dc659b3e1144f2ad08beb9ae6d0abb055bab98ff5809d0ce1a4bf0d1c4c3f12f3abb8e553ddbbe0d5c5728a42258afcc6a6ed5c2b0eba8b23ad9048bbfc206ac1af108444869d864164c01943981c9ff706d318440482d33cda2c857eba240b7c26ef3c16591b3ce0de885dbf33146fa84bae6e870725ff5e51597b5e3004b67cd361e8a1a9e394877fddcff25667d06a9248d4f54d891b4d75167e8e35a0baec8ecbfaf809038fa8d4713ed64a985e8ad9d944c219e53bc8637be35ffbc6689f26b6555a439a90b1ac3ef03fa3698cb075970aba52427174123ad073422c7e0e71b79070ed4aa3e43784d6301217ab2ee041a8fabd0c1222b554dcb38323416046094cb33990e687d511d43de53d5ffb50f7cbdb51e8b014449429e99638b47d407e54593002da207da3a1db0fd9970aab28b505c728616695b40148041f513d0079c4e352b55d872eb2f8f3450afeed39fe3fcb122650486a1780d7d7269aef1aa72f2c561cceaf67b5f0de598c9679073fecf136f584db70fce27174d0a7bdbfd0a9531f8f17f2bef1f35818bb558dabc6f5949ef3a846e2ffa2e3d754d6b4d43b5440501b3966290f3959824627f0221a1fd86550f1bebaae387c7a0a62525f9d0793b4dea4b473782c68dc919587ca062632b9147d4a6f1b62449ff16afc4d0f339d54d72a775542010aea58ec4e43d1abfc644a72e5360dd4290ca7b7c81a264811ad1f4eaea2bddd9a4b62bfa036b34a929ec6244af28e5c36b13321caf292c5b79d4326530eea1c10f8e1ef610aea3820d94a79f2668c06713424e7eee2354b8b7340ed9bca3f26c4c8eaaee0c27efd84d80d0fee565360dba50dd46ca84c70be33f94c04d56324c25a1e9d6e8c2b9d840646b94fc39c4634944a439a603fbf6b639d112461e965ba1a820d7626a50ad0812a91fb94f4ce2ac9cb5839ac87965a9fa87d9bc21fd62b43ddaad1e4514880c23deff1d3e4716385265611cc6a6a7c9f8a697255ee8b58423b90d3571cc5ae79e3dc05c155ef2c05fd53a00f4ff158f3d0570cf0ea5050214e75468d87016448913613e194e9b7ab43bb5cf80bffae0659709f1c2fc30ac65f86eee803984e78f3826f6797d0769883875b96a3b83e02ca30144f3ce347f3b6c8408869dc06c465941c4f695911eaf574142bff2443d388de702a2dbd6b4284f2e0be6dadc32688e2538532a727e254cf5e26839e77b5a818aba1ac7d2cfc545e9a13b4e2c9b03735635157664f51864b6dc7cdf8c8919cc82348350bfee573828fc5d3ce119c43a03077335049e0839a8e8e62a3105e125af5b3d563bddb23ae61054aa03a60c465da4d7e9ca1b45eaf6de57e07b36a9dddb921da2d82ed1e062b5a125f07c21578381d9f4cf18ec67c2131209089c9dcbf54d2977050755af9f220767bc1c9896c1f3121d69c3c47ec3895107a7ea77d49f9e1098cd58a154fe54f4e7c680fe0223ec18894b5bd8c13824604725bc73648863ddceb3334e3090dc5b3eac1ff2c9eb4e6fde032088bfdaad53dac77e6b03ef183b8abf6d0c4682910d4daf213903040bb88c738b9ceeabc420e14f2f6c29003ff2a57ecb279e1ea9ecbcc136c1d36d916a798e497cb426f236fade4640c0184da0f7654175666949c27c2a6f55967eebf8451a279090cf05d4f337cf063944abd06fbda8c99d4216e6b834ceb08b6e3796673fecee0721087bb222a11268d706c7a4b2859fb358514ca0d324b1a29284ce4c1f7aefda26221c69c8758d2f50caf4c2dd931ca32bfb9f279bd3c83a2ccc7b5eb35bc4547c94cbe5a76b53cd97ffa6f9ecbcbedf68abbfba4f99cca868b2f4e28fa56c3740e62e029500497e445b66af74eaa87270c50183ab72699a9de81b5ba0a0a63c2297c320b6b0682ccc882046e4837016b3f020abb0918d3195f9311c7a6a449a59f5f2e0cf45270d644735d2ed8199901694a8a0508eb59ee898b2e94125b9474e68a6372b4842844ca40acc3bee22b7fb1c659e4f9da060a4fb03191a019020de865ce1ceb360061cb8b11d7f0c482768312a93ca691d3514244f631ecf0b5fedfd21368496fc5e4baf3fdec48fac789f3bafa16b8f00ad7d1fac25c9faf43fafae7270e1f036da062fb1755f50519763f67bad20933a922a2fce8b9090c7fbb0eac85ae7315291eea6554e66dcc07b68e0b2f34edba158d0f5551546469b04db8a4f3c44bd1c3c2c30261bb4b62f05b23ef875b1040e9f635ecaf4397a3d45c716bfa95f64c2cb42ced6c4abc4c760c6908c3948c98ba577e85bce7b3f703f1a4c4cfaf41f2334ffee42c78b87115bd6be2e57a844c9033e022cc096de303c265225e8fc8142c1da5f512dcad26f1bc4f8980a9ee49b69d445afbffddf628884ce9e4f5ea0bc90539665265fe9033153f563ea5ffc9bb14c3c390c671e768539a86c9c739a8bb2b24c357e8a5f8acbc18de0a3bfd1d2700517e9d5b6da4b13fccc8b7bec56d96f13d612d5ec4f9ab02880b75e964bb602f97e5f165e231cb07d843b21d35cbb4f0c244bead47ce385363a22e04fc7653d58ef9bed64511e10912416cacfb30e44130296ad012aa3ec3b60194bce27ef9325dbdf1c14234b4d197d86e444cab4b7a885f7f2777ea27293e516a9671132c0c7ff2da5165676b99f78d6b1ffc651410727164319328085d02060cf298c7de02545d86d8c03192ec00c7e9d0f6f7be22cf1e4f323648880de07f02c21c9fa3fefd066d95116353006b002b0b3c4b7bc179ef059217eb9a8aa00f27a4e0daea7b208b078b6eeef5eedf2ce061756ab19bacdba4a0e1e5d9c01acbd3e4c667c0273db0873b2597585e99d5e38c43025cb4dd18528d60815c3c6bbcd7f10319ba349b74e8fb29bcfc6e360fc60385f67c5038f3068072b15257a9c8a2fa9d0cdc2a50c82fe335846ff40a69b015f2a7aa19dff885c1e1d8b9564bc5e3a59dcf1410f04329f63039404dea409dbbc73f2eb885bb19af93507a0c0a00e46234fe85f23ef4904842873131d96eb85a76ba8527655eebcf87c7ffaf6e552c3cdc0efd0873baa89597b4f1f9e0a742907a57b1ca0f497f7d3de3d2131b9c24b0409246e4ada6fb43738df70e274ebcefa5ed978495145aaacc970b53611c7b06867e6efc123c2a105e9bf2707fcae1d5f8da6715992e5547e1bd27d52f0f631873eb7b9a70639c700eb6ed01908b03775464119c47c9974b35caafdbad642a0c9768546eb81c4a41a82b30a34f3b066a8792526a84de15a83816f539d10117d4fb579f30c386d4588d889c4115d416bd6459f19a9664c60c48053cda80d95cee97607175ca1215f4c72e4237b35e15861e3325abd9c885a5e20ed272aa2a7979e34b3a199bc09ef5c4d2acdb075d33916a8a7c2dc843ea24f446c49b706e580318eb6cc8941c1a905142e13db84199b5ba80956cdb9a5b2f5e390e27f971f03377cddaca3654b1a4606cce7e639dcf2c168cbf065b92641cbf3a48d76960574edda187a8b67cb9b0b0969bbb02fad0c1e81e96c530e02eaeeb5db3d711075cb1a5dfd01a22edf9ba30b5a0b22a730f5cfb48b2a16c6ec4fbe639fb6908675bd0bede28bf887c6d4c48ffb83005077ec0f7d05d220b89b2bc4a9721a476f3bbb8eb34450682808a1764b6cb7f9fa18617cf636c06909da23375899644272177924ac30092e920ea64fe14b150ec24f251170a50e6cbaeebd9743bbb341edb89696d94dd8be4af369426844a6725470b6183118385f5cb87982a64fc0316ae1a54c146d4c9f9151fb45792ef24f1866728fcd81eccfccbe7c21338c04696e94718c12dc14f3ac5becea465dfd3eff202c3ba2543bad8aa1c09baeb0ac9a7cade161fbad6d5663b5747699b31d2a19e36ba2bbf6623a0bfeb999325dce470b036e3ac3a5b312e5f35bb8f5b73b1d47753e25e4439865ecc3d1a88b1440220560a2d931952310ac0c18aa369e308c766846eff33d7668e35c51edbf84e13f3dd3383110a67d7defa84e88e87f3caf68b409edb3fdac200ba3445d3a0e1cba44b111c321ade94388c5b0c1a65cd49ed6938ce14d42a821a21a481203fefe44360740373da6228ee861fe9e5fbf0f9079e8ae4933785fbfd157957f8c0f18f6df61d07fcb852c7298f87a1a507bdd45f98bd3b401696af6c053621bcf3953d5012d460144f88c569fa07b9206951f118f587ca89b5d6bca22c82b6892df57fecb20a2d52915d21175863b718654c93a088601d5b7c74f40c2ecfe33950b1cf2dbd889a2b06ae881dff6fef28a3d3b8d6a0048abc2db8c9cd42dabf74b8677ee20b3ca1cd8e1bb636de487bb5a9f316d6d07a46a76f5e1447f03712b73736729ca3b0201eb65f5b5112d9dcf4ffaf3ad4ec5b839f04cda5be9d02f559b8a064e8e65c0f88b5e1d9575c80d46237811cf5ad1c8abad72deadc4237d1f25efbf445824205bcd47074960b1fdc2769b5180eb6fa6691e6aca4f7b64a878a00e6a149ce2be896ebbc08830ce4f7b9c389f8dc2b814f8de9772e959f9bd8e1fcf34945c2a8bf793dab6b8389fed38da5473a6774441acc82968189f1f1085785ba954d8e1a58047dc596dcd3bcb878deaa9e2b256313b990798a4b92d24005e158774d1025d06a73a2dfaa6c5779a4c46a3daf3b1a7573a05a53a05483f3c34dd21bfc2f72ac52ae736a60de38c04e566e06483d7b43a390cf28d235b6dfa8df289116f2ea9ea3859f376b5579edf5ed9c1359c9553e182d353b8b8b805f2654915262fe2f7e582c724cf6de7245461d0e8c79b6a3f12f8e953fcc0924fb7e0df24dd4a5710e5731d8de43c9402648433d0a638666ceb211a335b724006486c840bc07fbdd7699f59e0a1adc350f3925f7dcdc6a4bb321b54aa21c26ef0c115937f98d7341713839756e9eda5b88a8ea62c8bc71191fd01559cb38d73eea6337399940673072b0ce82c4a073690c005eaa5f02ae8b4abad3cd78b05aafb686fbcbaba516b7b139e647236b5b54d0cbebbf650f634f3b41fe75448e7bf5f7fcdfcd1682a8c026ef854bb93d01516875b62f9d6cd40bf2ebe4b5ccf49fb5733ae45afc1e075ac101edf7a7db061f80d2a9a43a2581533121514e2388fbd95a41380a8c1188f692988e1943fc5fed963e0f12325f1342b574bdc2b9a2d378058a14e43a816411392ce8f0ca94f764af2f61f3b4cc473e945af8834514393b76ccd86d814516b5b84477c363a4680b7f9d844a88ca2ba5dcfe870250e2b03dc8f3ae1d615f0a109ea581996ce1f0e7c4e7aeef9aa32fa5df8f440c249b32d9d2b8aae5ef809881e32dbc3904c971abf0dd8bbadfd0d182c00d3bfea303874643e62089fa54cd14e6c318ba87e359c2d4ce260b42021fbf97fd9c0bcd4fef28beac15f63b61423836d26d0198d6375b55e6fc4affb8a05ce7b34d39cda118cd5c61c18b793f404a97cdffdca7a6dd32ad36f748c973748d33e8b8d615c277ce816c5291e0bef7a92e7b063d5b83cb3e83744926d8afc243b5f2df0f6a93b3e82ef6c285d8c06f412d9a7ddfb03ee7262e4c3258da5336d2a11809ba74d6e6b11cd0bdf4264ed926bdfa014703aef1523efd5aae76668cb65b9213255b4b7d46a233971581e36ccbae51d772cb34907f1c3ff3ab550ae16173308ec5bd9ea8a59bfad9ee19b45d87be0a8e3ffc576d36188fc5d5806e5d759cc2b55c35cfca4f0254f8ed5ded0e36c613162c9b8b9187d11590d627cdadab7a0240b0a60a1d0eeb6b887a6667669f2b2e4ca40be90e2d2fd9425592243a5a9461ab2e196ca5cace1e508beaabf21220591cedd705da70e5f77caea67636f0cb5c50436d83ff01999abf4f226fd6483a9ec8ba0276d5109ff8db5c0c11328a1387fbf85f5ad8a1e7fd1392730cb7f484d2a8a4cab896b75594bf995d3cdeb22a8c17e60590ebfad3c3dd4b067cacc763f86d73b542dcc7bc3de2f193bb8e8c6f191140cef273279977e58118cd65d06c1ce2cec0e491a9d5e93ab62aba00ec5c8b377ce818f0c4eba4fd36b2178481a98bc73c0aa26e8265f0bd44382f4ba34ed4638360a3d8733adc1bba4a24b1254de731578815c01c8cb2c868a196b6212d263aecaf5a0bfb0184999a820e7a66db05a8a886336758bfb78284f35dab7299b65228260f5f1c72cb76e16d4964420997538ab400c4529b2ae008f9c18707ff96d1c50696649639bfb736f0513c2e8ad5d2948490efe31a024658feeac64d6c91c0b0a26f44859e55dcd594dd1d909cf8c15ee215505baff20d7bda67fb9a4496e6506ac9b4d653405ad06a3af1c059b58da70f0ee70b941e2cdb7ce618e2612528da9ffe9aeb993a9eeccdfe3f8dca6bd74911b2971dc7131c6f592f5bc35fa55a5f4130f3ed9552aa6af8d787ebc318355e643192ff0d4db654d950b96ccd5716f2d36109312e81d5130219b0ca52d685e67cf6d417bc21c30e9c790f2b9262013868db426ac0597dddf50f8d7320543c5db355f57b924c9c25d87b372e590a3b8394ed771a9e800059a51f5ddc3bac79bd1bb367167bc7b314b02332df866ca5ec98f0dbf4ce1507a75ac1ee0b88bd9e8c96fdc85a050cf0cbbae0a389a913fb38fc6be29ef4d9339416ef2e146335563094ccb44f814190a3901d79bdbf6762570e19922c2589f4e17279fc08db95e18a3c826c3341bdf9286d06344eb2a46acfca1218f0203d06d74113d0315d87d897ad63c58c7682c198b9f5106155e53f9f175977a8644db5c786ed0cf916efb3c6ac0335d8b9a652311751892bde890f2db51e1467f839e24c87874f50fd82fcee2884cfda68e17367e75f196e50e35816f92545aa28f5730f1e158cdc34d6979d0246e43ccb75822dc39b6f4d962bae5336c54a9901e364b47f0c9d834f90599eedc67ef0e26bf9f88d2a8bdeaef197fe3d97b42caf93cc2089cc3da227c34e33fad45c1fcd25cf6292c2f4f0d5bec6c0701643a6f601ace30bcb0f88e3ed0f59973483191190a9a60e807a0764c820356491a07d59982cc1e1cfc65e276b798217cfe39ff65e016f390e7e6d101c05292f1ce88f9bc19d6af21ab727defaa76de3d33c33369d71b56babc5791f591a56f70663faee40b54bfcf911884771b993c3528f33c0d848f418c7232c064423001561087c23ad79d6ec953f520b52902ec7ac9d502e947d64c0e89f776650b05c5a3694897ad0f5bfb0580ed08015b83c7e412291a74c10725dffa10a1a1602db69a5337551f3d90f170dd47cf28a23d97c021ab3d875292f856c204273a6f3f5ca33610f7460c09e38d744b74ee3f58f40d241da7b0abb852e073924371f6c12480712625b470ec3e0935ba88bb237e83dc68bacf9c5816e9cf9f84e3a3bf6226bb2f21bb9629d4dcc99f9eaa46e479182500eed6a5a6e044bbdc6654f4e844ade916263216cc977dd243532ac3450d38d4eab537f7772f989482ff255afffdc41ee480ce19da4f6bc736d951f790a6c9c333c52e4af077d690bd55304fb4135b8facc9be79d762b55bf6b32280d82f9a55df2d413c18629362e26b04d94cdbd923f0b0f27ffbb1f51aa2c202acc941c6bd10fc2df4d09f0c5f682702071d2f17a7c950b761f4dc5f14a423f751fadd73bdfebc8e254d5b245a5e3a07b504e68f2ca9c28b7cabc573212c850d900bed6c97e56622472e24a1b3ec67c73be8b8fb1293601b847b749b6700f1c30a023779789eef2853299c3ace6b0fc6585d7b8c09cf9e78842984f5511e3a133cd1cab29049aa42ebf58d2a08729d4e591fa620ab582e469f986a879bb030a21cf820c5ce0b552d20d135e164f01740675a1e387a818b15f283128f88d2fa65ac8fa25393946e2a2fd56533697dc4e78b35311f79a56b8554f9caf9180de28ab60aaa4aa7ed3cdf4298a837bbe145f46a04c00ec1939c568e677c257667c820508048f1bc6a252161cef9ffde11e985ee0eccb52fb0b6d11902aba717594d34e570dde38a6a70ef8213c75954beb887a3f034bf9328c5a4cf2895e4b03e350022be7938457f377e6931069e9fdaf0583a6a113c25c343d4003296ddc93c794436c7d378e320e09f3169df95740533f38c0f36546f394dd99200a2a5bc2e3bd66879b8494b978cb486d6358018b429aacdc7be00eabf37c3c7e64e81fc27ad78c78371d5192bce3b6463734202a0352d5a9bbbc25251759dea8ce436ba171778f7ac8b7c107c54bed33af80c7a71546c9d507d817ebcbdd2f697ab112c04291039de541bc03cc2609452b1bc2cf0c9a0ccfdf25b8a417f9206fb1dd17e5014aa56e935ad69b749e936b415255c8a1496d7ccba78e28db591166ba0ebf163a5667d2312fc59e874d01b819ec95a38eabd7375852338df6df441eb0e7eaf59bd26a5a864f495113ef1e61daef3d8483677c02937d24898ad8ea62faca9a8c7d6c138ddad6b2672c241c85bc80fca64c26376ceee405e78378a40811562c43ba7a0b3b22b3c75c033f4ccee8e870a907a70e23eddbcdb601e62a935388b8772efa99ceea9f579d15ff1d92b374396c78707bc0deb3066630150b5dc614016ede3f1ca666295f29b0c97917a57824dc9f0b1f56dded3208746877608ca7fb26d644fed5df990e6d3f78de171dbad8e8b3cb8d88b215fa2ab2f463f1550fea802e9f2eec0076c16e7e9bd4025bb2b0dc880295221ebb7f1da1b455078fa8ff8835a2e86ddd34e1118c27e5199838b2cab6a4f9d19d4bcc9d55c544f1007bb2833184d538c9f6c54b4c0691b220f26aca18e0be0c57240825d7865382cb36a9cbd8970a35a56d1da32fddcad79a34ffdfda8f655a6d72de064fce089caadc61ce3f940e517cf2b5fde43ce75fc0bd666517712f550b9629827e2329f8249f11c0b53ad20560cf956552e61b4c2a48ac57e268692b24f94624190a73d66bff5c21fb9af64992b1d67207c337682ea9673f25fb389b6da833b6f67377f2ec784333287e68d6527673e24fb504ed86714f0115ebb6d710977102107d0b5bb6a6228adc9869efbc44626ce2f95ece1bb958750ca34b32e281c7ea4fc1a1f3656b9eeb888a3f96f0c12cff19696f907313f02cef1116ab995d0f446d44406c608408e662053dc97c8259aed9807addafe156cb568ef94053a3e7bf3621c11571e852805b14b06064e10024c155245064ecc8df95df32b21d644232fc032f034f692c60e536957e808eaa96169cd75c4d400029f8920516b416b22715bf40c62b610215547531b0a4770f68a795aeceb823e6a18535ab99008673fbb8ed417bf2a51b16d69544c52371f51344fd96fcbeafde625e47e2a5af3b89e18e2c53a054c92a57cae91f6b8cd1eb311b3395a35ce45654519170ffa19f3157528cdb3f119c1dfcdb120568db7e21c6fd02e27704f316176aa59217d4b0db1de7edadee2281df664d91a4b456b5f31ea419fb393e0ac3353055494b8aa433a7d83d7e3be1ce8fdeeb8b6345dbdd17a2192272ddf20dc2f768fc807b6e40c8a4076396abbbd27de06cca1000fda9c425895d572eff51336cd6ee00e3fb4e882832b0fd33000f6710491274133dfe649f9c9bea394bc5669e6b3af8cf7bcf08398a65cbb355cd96755217b9d040cbae1d2f7fbab68fca11ca19ef257cde4bc7d881272ea4dc62d5e1bdc37c48ad46c6e1b4e44886bb5bcac3200eeee1b9eb0098b037c5a5cfa268fcd871916f686274561a48a2041d6265654fb30e386e616f938f29f22394db4d68b81da166c136e76a2ed72df2cdf1ebe1c11a6c85b73e1989145bbe8c505fe5a20cdb85425d8b2e171f11dfab0776d25a39d1524fbe937687567fc61acc4089e4ed13820b44b150cc11137cad798f057e11fbf0a0098a0fe870e8c30c9e70b0aeaa4b9fe86662539abf1abaea47058898318178b23145b0b485cf5797a4adecb18f6e5d2cc227c1e0cda2569ee0363e89dd4462e893f0a0853d25c01aa31432d988b820180caa2311430b6ceb2fa5f24f2751291bfc8bf56a466214d9f9fccc9bec040a085c06833919a1e967e9c237b1511cbf042cb8a5d5224767a42546d0ca8ae1368ae4041ff04721b943220aaa87267e998e9f81e208e6bf7dc9496fff508d237b05a5c3525f2ed4ab790021146ff91798e2df5c04de772cc64981c03e41ce30f11b5f9cb27037034f861e1e4fa7ac7787efcec32109272c0f3b1aee83e4d6c30ada97c60e9dbf0980e8994ab4659cfdc2295e022bc9d1ad7f7d0abaf37a7995e5bca005c9fe62fac5c6e37b6b29b21e73fdd38da05cb80d88feaa70622ea87ddcdaa18f9e6837129f2ce071528e14a8269100ff84b2f723ca2ae07eb1439e29aabcd557b824ea7faebed44768d2ed8d5b9ac0d278b81a7cc4128fd7f7709416f7ad8f78483680a3ecf40a91b0ff20b5986f2bbfe745fa49bf5fb916ef57a681257dcfa46902caec9313591b08c08facda58aa28b5aba92a5472a674b19df167dd763e7f96796f7f5b18b60b4ab73aa4eb2dd59711eed8446625a3a14dd9924fd87a106216d31958b249f21278bc1bbf84798f6a0e463435cc78b92f926ff7b45d9941c90c43c343740ce3034139639c27ef98cec86a44661c38ae82ac09e1ee44544eba4b4b504f3f6fa99cf85b28911b0c73c6c86be08356f1bc74dd76f764f2dcebdaf0dca34c905a0b717efce3b74a62190dacb6801feeba68213a39a82d88387c4c827a9f68777a7b372e013e8867bed8c970b0a6fad3e96375745afa9a26633b74dae7cf9f1c06481f8ef125681668930dfbb7590d8fe20f4a77b02c1039150b9e3a16f73c195ac7fda4abc6d47da061a203f8b9c33b666afad3c74d7478cb628e09b1b1545edfd366dc95530f6b90bff8a6959de985b5283fe041218409a47de353da412fd5b08bf8e8ebee868a03354d54a42ef83657e603062c9d6849fa1d40445d8f217390050a247d3856d4c9bfec289eebc2c4eb35a197b2ddcade19a321061dd9b6ff3ef6df9b4b6bf9d486e560a31f35b213239374151a0d83a16063bc336f95beaf232949490b8152a7c06d61f5745ce6c0219f4a4d712e2201f0e9bba164d5c6b4cbb447811538589903081c9bee32b0d04cfe9653f08931f0b3c0125a83f9eca4d23800f5f9630aeeff69f1f6336882df9436df822f95b1f3d7a3a216a7f32ccc7df36939091c2bb80a492cbf84e0ce8eb928756200237b914c054400730a0c9294660929ac50834537d00920fc3855ed4f9b6f0796a4ff4a46d01b6db0d0c09d80b8a53de484fc88880c0a0e3e6c9d6a346ebd526ba0a56dca485ea44a3e7f3f9737f4231e9d125257e47702b1dd2d4b1691686c2749bf9c3ea2d06f913c0c9026abe3b6ee1e4c08bb8b533b91a1fe4e9e13f246967ae0d80901dd9e44287e8b1273d883b1ba4d25f71968a2b819bd9457087dddc8a007c971a1bc51cfab57e60fa03458f473b60aa49106e871deda9b8cefaeb5336ba11ce60aba1293e3374c82a599ed54d3450ce58c07f5e4ce32e5ab4c1fbbd0c95553e0b3918aa22a4ffec504ac9f476ef8809e499a8bed8c83281a3239ab0c4087018a77ae67b37cc2e88474aac06cdbe95ac10567fd52c0ae2bd9ae21153730679e4c07ab1de7cc7c542da18971d18d7ee1b8ceb81425d1752c82f5f83b51f39f5a8bc6cffd1daaac0a6621ee9aa8d767c49df3a6dbd9131c49a2f664dc6285d526f6a7008712dd1945cdeb3fa24a3df9842dbdae33ec4367aafd273ef16d98a71634533b37234f3f48b39edfee4cab848f39a4cf2974018f868c3cc594b35ac2d0cefa5f82880eb218ae99e875ee29865d142650aa95f50f3a622d1127039b4daf5085a847da5955ca49575da1326065dc0cbd1bfa49b8ba3bfb312b8eeb11aedd09c6ba9a472603cd0dce771de6ff2aaf76d1d7d3d8804e705afb6f076032ddbf3ed1fd8ba82a95af5c7febad30f420775b3ac03543e1999f9fd3f39a4e40c5f64a96b1e0d3987c3bf584fd44094f0275e9450c629f7a816908c2f763f07c82a474e9c517c290507200d1a0e2ce404300b31c1994f7867aaff078cf1f58ec918e7053e4e9b89fa97ac77c418a06f7acf4f7bbb0157f46dffbee0781c47e592278a7b2c26c3d643e375a23c003a2dbf9d8a0007a26f07b8f4036e5a00d1c8529524586ec0dc09c547076d191746380297e7f7ac17baff63e733dc2882dee9966e6fcd35fdc1b21c9294c713078e9c006e78cfb4112d8792c3a641017e241e6e47913ebacc6ab460fd283e9f373f3b016d6ffdfb78092a32ce3fa0136a50dff69441b08d4071df854228a860a87b604975942e9b2dbf63dd4ddb63004977d97d728a2a47d085ad28bdef43c256e10f50d3f576b773820b3446af2a334fe5e648bf031af6473846bd816bdddf644d91f6ed408e381f585d40d515bf734374ba4d7b1bca40f09495a4a0aa9680adf62691c976cee41b8e2616117b029bad8a4e8940567e93c3f423af26d8d4b367b0ec11917e49e4aac84f476f6e34c29221545d4a91c8958371671597dffe697a98e3ef50722a7d8ab5687ecc86dc93c14e1cd7909584b425d07949c710f1e852ac25984c89a0bd02cfa43c6f2d58f8834569d6b56c4b3a94ba52988f7416524572544b1edf41880b2275852ed84b53b9a1b404984b4580cb7187edb90a7ac9b671138ea83f3e4f1af76554046fb275c78194a4d541bf59b1fcb6b1ed021a6d8cc75464284633a71d06eed8740c9504d796f9fc5519eb26dcf1d4ccac0b0436bb4544cba3c3831334ac9307c5eb1d530b611a228cf146b62b642e1cecb02a25dc75784207ae821574abebc768aa6c9d5908fd783f4a767fa2d01ecc2fc5bff07182af89d8fe1374fe3c922c83e5a770551a923365ee0a890b08e09801af01e6c02432f2c4db07144cc4f6b4a8af127f25f19f20c8990ff9c68efa922845cbcd4de878a44045b78be4c3b97f6a4b7f19ebbd079239e15dfe29f16a82b65cc02504fb5220951ca8aacde43f5ffcba334fda052ecd5b0455e8cf90e3766ffb642b251289528981b3c01e451eb6824ea607dc0dcb603c3907bdfd610263c4148a85cf969af27d6d64080c84862c65f36f2f93e91791c5dbe8482c82f31c77579358d5c1612a1fe471a94559a7c60ebd59f24f9ce7136ca763554a5d44477a88eb845d6c3efd80bb0cb93e261c5f7a9f926546bf83eccc8822446c0399b25b3750110435c4533c5b4a7dcafa77ae3c05a914ea41a54839b5dd7c53f4f17ff97991fc12fc01713d49cbae8511cf3ccf7d90b73cde2a63fe91b3ede8046f024e669803803776a800709b23ec1b8fe84a93bf737723f30aa95773d368c41cc293faa53a79bd8e5feeb4c761f088c156e8761df2f931889855336a7a1374d6a3acfa14e8cdc09087616635092db948126c890dd85b17e6529863e239c8fe62331b9495579956882bed406166f7cb11413b980ba4e0ccc2ee8fdce17542154d51950352076f0291977a017eec66d2eece0478ef1960e1f1ad1e753e3888e579b4ad4eab6835d5fc5281b131dca8d24b63ff836e235d8af354c3a515859cf1f25aef32b724aaa0815c86c4c5785d5eb423062694a46b5b3340e286d625bfbc8152d94587590ef78b255eb1f2d1600bb2b1b4a3f1864254e753145e552d5962f3bc75a30e5ffd9f299a87c3491804c34adfa2cdf2c3bd9e3253a5e227b8a897d8c3fbd78cc5b1e93a79573a42f6fb909df505113a5cdc91272a0ff86b66d63eda21bb1a4c6b054cd863997f59dab11eff8eabd89f1bb6f57a53789f9a7abfd7d42809a78ac781feedbe288758772af585bc282f41127ac8527242554f6a83b5c60977d3fce373bf9cbeaeb9eebde38366ddf74fc54d2d3560d5c1588a39ab9602421efad59d85412790574d3007c97375524ed8d5d0ac0cfe72be21bc3312e758eef453223a75ff32607db745c15103580f28fa9484a61e329effdea14542279b06b19c00513ef8c38def69d097fb608e40ed555da73ce35c21384b16fd6f77259b66cec58a4cef5d8a56c357885c035b73ce6c6f2bf4ba4ac7950d0faf2d99649862de43314824df1da3106c73a82d493e082dced27cf4ac023ccc5c20c896877c3a821495968b8321b9953e93969bc10e36d6f251c50c3efc2afbf371793e574be77cbbe9692663bcff37ea9c8eeb5c94fc03d0359e369bdd52f8e9b967527205586e567c33a5cefc0b463da31bca8b2209d9d8294ea2915577da064fe7164866bf94da3fa61a47e319f795cf63d13e4b3f91b7278f12a8d6eb8a072ef94a43296939d371d060f02afc611d0b3acee18449fa4365f899911db18c5fa41a11902f05412f4ee8474017d0ae6843208c90db7f0336e576ce252bfdc6e043f949587adbca3f43093fff741e5a1f4226c637193c0e44974587d38cca68abbc40a6668d98d84f690dbdbafd433290d62707e4e674b1c88baeb6aee6129ac88a25ad858bfb959b644664ef28c90ee32e917be733b592ae797c57be7462a49b854668cba4d66984cb98f8981e51e790f5bce65dca5032b5bb49f1bf320afd69de5e2bb6d940d28ef3b5eba191839afb17e43b9696dbb1e767d3eedd16c7f25387a9b0789ac35c1006e40e94f7592f810a1e9f54be0884f3d978297f137217175969f1e0fb0b14c9a8ac7815de212be3fcb6781f9285cdbbb7bb1d8631f3bac4221a7057afa76b99fd7cc66dde0aac6e4c5649c547597d70e413579a32a99726d49d15d1876c41f3416cb1a265836b7729c99f8e2d6a75bbd3ffa54eff5a4407970e73e1bd8acaa5cc737f5bdec495a545ba70b3c8dd1750f0a8bec2aee000fc83f1a349e845d68b7f30faeef647535e10e4ba62db11f33278c9367359933f87b7909fc0ac46f503ab0bd648997d126be301119e712368c0f9bb1e22269c3f402f24c21cc76fba6094e92c784342c2961eb8aabacd88147b23de8eb54d3acec8d71db4685d8ed6c53dfccc3013dae1a3ac6f24c7cbc1775ccb85236f94c50ffd27e71a1b7eb6f061285f1814007fa4ce4f502f806a86e39027b101bf98a9f7bab8ea4abe34368a5c994dc5f0308225b56d5b17ecd3780c3f066b003e2f8714172f4309cacc23938139167518cfaf427767dde207aa2bccfef1f32a6889d19fb02101e97f7704654336a83152dee9299d107f4e94e5d845405a1654320cd8b5ca6c73171f1dc691a8929d9e5a53f78402aa8a1d16591fdf0d32d122013d319c5c22706d028c6f1d63d2e038a801d160655060c65bb68d64df56e1a37664382d384fc2d75f2909e123a68e09ccc584701e23127172ba2629d033738ebba83d8ff9b6c190ba665adbe53572c5eafabd2ae9bec88ca5b4ada5447ebf1a37c0656395fcf3aea758d95835c336270f6f1509e89ae0da36a9bffc086640c41a4e1dd340200e98ad9db0b0e999581ff6681b569f6065cf741610839fbfc81850c917a122e58a81963ec94b8761fcb3938c77c5ce67fac816303b7da46d3686f4ad3e425474becb7d38a61eb5d918a5db3a1e3616044b7fd2aeac531723eb4e4d5a0a65b71bf211a41aa18d2865a60a90e7adcd970013a83fe5c5ba05e8bdf503193c10ad3aa69bc286e79c0785812f0a371437c423a7d5b201069a3a098a324544422b598372143768d9a4fba6780b28fad6bac1c6c00c758798462dbeeafe82b94e50d15d00b46236ba9b30821701af3ba32bd708cab5a089c977a269ccb25c14245955e85be78891b663f01a32d645590a7e4a9dbdfbbedae2c4607eca05937b8b33ea620c536d7d66bb9edb9951c06c0289173f756ad2b425e0eb3ca47f40910b73faafef0e4a345ed36e36c51d727aeb7735466c89b4792926135f9eebf83b55035e5afc82c6fe4dc6239f77ab6b89dbbd88520b5e02967ea1c00a896574c583d536a74a77e4fefce397f7924b12264858d1709f7dfe996e0df6fc3902220f7b932fb51e55fdcf4f5e4addb5238f58b7cf3b1ce1619ab510a697e7802ecc881a41d904f6c41c429e3b9fa96392643f32388e4a2e46ecf600ef43cc3de8375c066adb7e973912fd6b1f0c3e57567782edb42666fefe7cea3107c066f30e441d0652bde923c0e97c5e4c4be9eb86fa7f583b651dbdbf4ebd247839c880ce7bee5670ba9dc12cb82c43ed4aef9f5aca79317fb9837320165fe2e094286c2ef7feb853a920e6bce06ad1bf0f5e7e84d9ff58b3a1b029ed4169d02feb44efdc86a027202a19c07bce0a083dac59c7a86f9ccda7af20e49f6ae2c18d8893fcbc02d2b3a8fb4c0a2bebb5086429e69aec2fc6d1bc4f0054032e18aec57292ec0664c97e4c34c3a4805c74be8dfb924419d71d75b5cf0f0426eb63d8f2ebe40913856b931645d8cce8d6eb77d39738bec1c8b3c31fb1233e3cefa5b66c1cd30be6d7900beb6d48f5da2a4afb7aef24fbacf70b5ea01501a8f7d14f7542f4c4f98495e61b45f7322a6bb26749aa05ad1db284ef0c4d1a9eec85f89f14d1c60aabd66dd72b3a59e1c1080d478c575c9092929587c59518cb8a5058d6e149e77234c7a735717cec8356f03b313ac51d9de10bad2c31bce50528212d2bca5f21fc2a3a78bbf8e54ae21fe7f16cd935a9e0a715dea50f45d1660107878735efc40cf1ff15e3a0c0dd26e8a5374f98bcb0ced77c7351d5a728b86a7b78a24bd6c3191b37d58c1fbfa0e43dec2ca5db3d1e24c44d4e21d35ff88a609d3b6fdaaeefd9749e81324c1b562cb00d2bbee1b9006ac8fbe58f2a94571616d1c92691a40443dfef083e584c11dc8a81e353cd0353b5d38d40ffefafaf2ef53e2c7cf5143166b46c681e6f37c7679972272ca2949642c0c70b7ce840a8ffaab8cffacc908d434a8cc4a07907bfe1b9b937e101d1ed8f610506392e5d4dd8a4d5247073de7bc4ff6afa30b40421ac056a21aad1093518cf1ba7edd1afb631fb927cf8444281ec1dd0d678d78a9f347a0d4c8c909200fb35e9d1a4ba85cb7a0fc80bec8b9cd4ecc762fd93f09864735d5236ed55a511f0d3fac935eaf56126aaa1dd1c4d83a053a917fd44f7b03a15a42cb4ad2cecfe6b8ad95f641a904369eccdd44dfae9844cecd71c210eac8690551c4763e04de7fdcb96a2e84dea18f39dc52983862374a76f3e6e454c993394bf56c8119585a0e2182082c7d9f3cd56a4d463fa11527d1c28cf4ab4f81a990d91f3b0c6679cdd0cddbdec7ed3177ec5db996e9056a2aafc288f2aa426965d30d33786bc0c3124a3548e07045702d390430d3bfbb34ca9b501d32e136710821de8c184785e4dc9db8f11729f6d84f14b80cddef130ab41ec8feac63ae8ccddac2c2ad8c51d95f822a0af53938920d6d4c548d7756d96920608245763b7f9a20b005db2a680951779fba3cd3bb28122fae2986b8017238e6c4e5492afda35aa78dcb1b1d9ae05f13431286dedc1467bdff47b8825a7508e00e91a411e9679e08fb0dfd1cf82ff3a6b31d760416d25c6b2c8aec75d2d8d9f6453960b3aca3f36157bad21889ebb774919cda251ce009cdb625dd42e4a351a71d8dc95c14d6b6893ca6354a048940a1e9da6f9592f09080a55cbc347bb54a1534cf9a3681788a0af20205223c7dc0f05a6bf82941d010ed7e94cab2b2cd6ac06caba12a35b502b12b6f9a2b225535e1f3ad9fe2b7900b144c5ca40564b7697ce316a87e8c7b3d44bd2233a88e433bd2b8d7a90f39706931e0584f0fcec58f0b4840b84fa7beb2a3e91c3b80f290b014533350d21df987bd0f0f6bd2852b9cbe75db35551800501bf03cb0492b595599cf3f8a2315c11f2015fdf07b5bad00d74c9f5d2dcd49c4eb502c6383462b945e0d96cb58a900c9758d60fb4fa5e2a273abeb87be63f0bd4fcc1193d52a3e85d2e4fbe37ed4beccd840d49b4efd7728d05f989c28493d9802f57c4f1dc5df866d28fedf7354a07bac141aeb56eacfffcbe242d8c6c62174ca9d48f83045cd5fd56464d2d14ea6c01bd309ee139e8c07461828c25f00a8de816c784362b40d3439f2d2de58d6dcdada21273ba167b95a7af86526d4d96844408a03744adea9b9f6bec220ee733376a1cdd89931ad5e358728457ac4d029feeacba9a</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>面试</category>
      </categories>
      <tags>
        <tag>面经</tag>
      </tags>
  </entry>
  <entry>
    <title>单元测试-认知篇</title>
    <url>/article/unit-test-know-first/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Hi，各位，好久不见，甚是想念。</p>
<p>总算是安顿下来了～</p>
<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>单元测试是什么？</p>
<p>市面上的单元测试泡影以及相关资料基本都停留在：</p>
<ul>
<li>什么是单元测试？</li>
<li>怎么去做单元测试？</li>
</ul>
<p>然而，并没有所谓的：</p>
<ul>
<li>为什么要做单元测试？</li>
<li>单元测试最佳实践</li>
<li>…</li>
</ul>
<p>其实上面的然而也并非是绝对的，还是有一些比较优秀的文章集合，像：</p>
<p><a href="https://www.infoq.cn/article/asmlfdi3pi_vepxpo3lu">React 单元测试策略及落地</a></p>
<ul>
<li>微信内链接：<a href="https://www.infoq.cn/article/asmlfdi3pi_vepxpo3lu">https://www.infoq.cn/article/asmlfdi3pi_vepxpo3lu</a></li>
</ul>
<p><a href="https://github.com/linesh-simplicity/linesh-simplicity.github.io/issues/200">React 单元测试策略及落地</a></p>
<ul>
<li>微信内链接：<a href="https://github.com/linesh-simplicity/linesh-simplicity.github.io/issues/200">https://github.com/linesh-simplicity/linesh-simplicity.github.io/issues/200</a></li>
</ul>
<hr>
<p>且不考虑测试代码的好坏与优劣，单纯针对单元测试，对于不同的测试<code>case</code>而言。</p>
<p>需要去不断的领悟测试技能，测试方案与测试方法，尝试形成自己的测试风格与规则规范。</p>
<p>笔者是从去年下半年开始接触单元测试的，从一开始的邯郸学步到形成一套相对成熟的测试方案。</p>
<p>一定要戒骄戒躁。</p>
<h2 id="为什么要做单元测试？"><a href="#为什么要做单元测试？" class="headerlink" title="为什么要做单元测试？"></a>为什么要做单元测试？</h2><p>其实，大家在开发流程（我这里指的是比较完备的开发流程下）下工作的时候，会经常性的出现<code>qa</code>与<code>dev</code>的各种<del>撕逼</del>，<del>怼人</del>的情节，但是即便是不出现，也会新增一些沟通 -&gt; 复现 -&gt; 流程上的成本消耗。</p>
<p>以上是其一，其二而言的话，考虑整个技术团队的流动性会比较高，一些复杂的代码块，功能模块肯定会让后来的人难以理解，即便是理解了，也很难动手去重构优化，重构优化的前提的，理解所有代码的运转以及功能需求。</p>
<p>当然，上面说的也仅仅是两个主观因素罢了，还有一些暂时就不一一列举了。</p>
<h2 id="单元测试最佳实践"><a href="#单元测试最佳实践" class="headerlink" title="单元测试最佳实践"></a>单元测试最佳实践</h2><p>这一部分会在后面的文章中持续输出～</p>
]]></content>
      <categories>
        <category>单元测试</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>infer备忘录</title>
    <url>/article/know-infer/</url>
    <content><![CDATA[<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2108/001300-16286983801d1c.jpg"></p>
<h2 id="写在前面的话"><a href="#写在前面的话" class="headerlink" title="写在前面的话"></a>写在前面的话</h2><p>同志们，好久不见，甚是想念哎！这段时间，小王忙完了工作生活的琐事，之后更新的频率会高一点的。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p><code>infer</code>是<code>typescript</code>开发中很少用的一个关键字，但是在类型设计中会比较实用，它的主要作用做<strong>条件中的</strong>类型推导，配合 <code>extends</code> 关键字使用：</p>
<p>举个栗子：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> GetArrayType&lt;T&gt; = T <span class="keyword">extends</span> (infer U)[] ? U : T;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a: GetArrayType&lt;<span class="built_in">number</span>&gt;; <span class="comment">// a: number</span></span><br></pre></td></tr></table></figure>

<h2 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h2><ul>
<li><p><strong>协变</strong></p>
<p>  什么是协变呢？大白话讲就是<strong>类型收敛</strong>，类型收敛还不够大白话，再大白话一点就是<code>A|B</code>，非<code>A</code>即<code>B</code>嘛。这就是协变。收敛了类型可能出现的范围。</p>
</li>
<li><p><strong>逆变</strong></p>
<p>  什么是逆变呢？大白话讲就是<strong>类型发散</strong>，类型发散也不够大白话，在大白话一点就是<code>A&amp;B</code>，并集嘛，这就是逆变，扩大了可能出现的范围。</p>
</li>
</ul>
<h2 id="需要注意的点是"><a href="#需要注意的点是" class="headerlink" title="需要注意的点是"></a>需要注意的点是</h2><p>对象的<strong>逆变</strong>与<strong>协变</strong>与值的<strong>逆变</strong>与<strong>协变</strong>截然相反；</p>
<p>举个栗子：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> A = &#123;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> B = &#123;</span><br><span class="line">    age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> C = A | B;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> D = A &amp; B;</span><br></pre></td></tr></table></figure>

<p>其实不难理解，对于<code>C</code>来说，虽然是 <code>|</code>，但是发生了<code>逆变</code>，也就是新的 <code>C</code> 演变为了:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> C = &#123;</span><br><span class="line">    name?: <span class="built_in">string</span>;</span><br><span class="line">    age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>范围更大了，可以是如下四种范围：</p>
<ul>
<li>范围一：</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> C = &#123;</span><br><span class="line">  name?: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>范围二：</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> C = &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>范围三：</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> C = &#123;</span><br><span class="line">  name?: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>范围四：</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> C = &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另外一种，对于<code>D</code>来说：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> D = &#123;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相比于<code>C</code>而言，缩小了范围，所以也就不难理解下面的类型推导：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> E = D <span class="keyword">extends</span> C ? <span class="literal">true</span> : <span class="literal">false</span>; <span class="comment">// E: true</span></span><br></pre></td></tr></table></figure>

<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2108/Snipaste_2021-08-25_00-46-33.png"></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>推荐阅读：</p>
<ul>
<li><a href="https://github.com/ascoders/weekly/blob/master/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/207.%E7%B2%BE%E8%AF%BB%E3%80%8ATypescript%20infer%20%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%8B.md">精读<code>infer</code></a><ul>
<li>公众号链接：<a href="https://github.com/ascoders/weekly/blob/master/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/207.%E7%B2%BE%E8%AF%BB%E3%80%8ATypescript%20infer%20%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%8B.md">https://github.com/ascoders/weekly/blob/master/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/207.%E7%B2%BE%E8%AF%BB%E3%80%8ATypescript%20infer%20%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%8B.md</a></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>typescript</category>
      </categories>
      <tags>
        <tag>TS</tag>
      </tags>
  </entry>
  <entry>
    <title>如何看待架构之道</title>
    <url>/article/know-architecture/</url>
    <content><![CDATA[<p>如何看待架构之道？这个题目看起来肯能有些大，有些宽泛，但是我却思考了很久，可能我说的不对，但是确实是我自己的一些想法，当然立场也仅代表我个人。</p>
<p>有接触过创业公司的”现状”：</p>
<ul>
<li>各种外包同学写不同风格的代码，<strong>大驼峰</strong>、<strong>小驼峰</strong>、<strong>帕斯卡</strong>等等，单论命名就够头疼了，且不说写的人怎么看，但是维护的人来说，”我到底维护一套风格还是维护两套风格？”</li>
<li>自己为了方便，把封装的<code>npm</code>包发布在<code>npm.org</code>上，我第一次看到这个操作的时候，着实有些震惊的！<ul>
<li>你走了其他同学怎么办？</li>
<li>如果需要二次开发怎么办？</li>
</ul>
</li>
<li><code>git</code>代码管理用<code>阿里云管理</code><ul>
<li>不是说不好，只是有些太矬，<strong>是真的矬</strong></li>
</ul>
</li>
</ul>
<p>也有接触过比较好的公司，各种设施都很完善：</p>
<ul>
<li>组件库</li>
<li><code>私有gitlab</code>平台</li>
<li>构建工具</li>
<li><code>npm</code>仓库</li>
<li><code>jekins</code></li>
<li><code>sentry</code></li>
<li>…</li>
</ul>
<p>就我现在接触的到完善的东西来看，我对于架构的理解是：</p>
<blockquote>
<p>一个公司的架构需要适应自己的业务与现状。</p>
</blockquote>
<p>第一句话我想表达的意思呢，就是，每个公司都有自己的架构思想在里面：</p>
<p>好比，之前公司的组件库是完全不编译给业务侧用的，目的是考虑用到各种<strong>系统环境变量</strong>，但是实际真实是不需要的。</p>
<p>但是我现在完全用不到这个思想，<code>rollup + esbuild</code>就完事了。【生产上的实践也是比较好的】，既加快了业务侧代码的构建速度，也加快了打包的编译速度。目前组件库打包速度<code>100ms - 2s</code>内。</p>
<p>再好比，每个人的编码风格不一样，我们去碰一碰，碰出一个大家都认同的规范出来，一起落地。</p>
<p>这就比较合理的解释了上面的概括，适应现状。</p>
<blockquote>
<p>架构不是银弹。</p>
</blockquote>
<p>再回到我上面举例的创业公司的现状来看，创业公司，为了拿到融资，自然是先出成绩再出架构，所以我理解那些五花八门的写法与用法。</p>
<p>但是这些东西迟早是技术负债，还是要看负责人怎么去想去看待了。</p>
<p>所以架构不是银弹，没有架构一样可以做事，有架构又怎么样呢？没有业务推动，凭空架构，就是费钱。</p>
<blockquote>
<p>架构一定是来源于业务的推动的，如果经历了不同的业务压力，业务负担才会考虑去做架构。</p>
</blockquote>
<p>好比，</p>
<ul>
<li><p>业务侧使用<code>umi/request</code>做<code>http</code>请求，但是<code>umi</code>人家支持的标准的<code>http</code>请求方案，所以为了更好的兼容现有服务端的错误代码兼容，就需要去二次处理<code>axios</code>。</p>
</li>
<li><p>不同团队的应用需要做集成处理，那么这个时候，就需要架构去做兼容，可以用<code>iframe</code>，也可以用<code>微前端</code>，我觉得<strong>乾坤</strong>做的就比较好。</p>
</li>
</ul>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>至少目前的我觉得，花费<code>50%-60%</code>的时间去做做业务，看一下业务到底需要怎么去改善，在考虑做全局的架构，会比较好。</p>
]]></content>
      <categories>
        <category>认知</category>
      </categories>
      <tags>
        <tag>思考</tag>
      </tags>
  </entry>
  <entry>
    <title>Rollup 高效打包组件库</title>
    <url>/article/how-to-use-rollup/</url>
    <content><![CDATA[<h2 id="Rollup"><a href="#Rollup" class="headerlink" title="Rollup"></a>Rollup</h2><p><code>Rollup</code>是什么，这里就不再过多的赘述了，具体详情见<a href="https://rollupjs.org/guide/zh/">官网</a> : <a href="https://rollupjs.org/guide/zh/">https://rollupjs.org/guide/zh/</a></p>
<p><code>Rollup</code>是自带<code>scope hoisting</code> 和 <code>tree-shaking</code>的。</p>
<p><strong>强烈建议：在使用之前认真阅读一遍官方文档</strong></p>
<h2 id="package-json-配置解读"><a href="#package-json-配置解读" class="headerlink" title="package.json 配置解读"></a>package.json 配置解读</h2><p>参考：<a href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json#main">package.json官方 Docs</a> : <a href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json#main">https://docs.npmjs.com/cli/v7/configuring-npm/package-json#main</a></p>
<p><strong>核心解读1：<code>module</code>、<code>main</code>、<code>types</code>、<code>typing</code></strong></p>
<ul>
<li><p><code>main</code></p>
<blockquote>
<p>程序主入口，如果没有设置，默认会在根目录查找<code>index.js</code>，通常给予<code>CommonJS</code>去使用，例如<code>require(&#39;xxxxx&#39;)</code>。</p>
</blockquote>
</li>
<li><p><code>module</code></p>
<blockquote>
<p>程序主入口，虽然不成官方标准，但是正在趋向于主流，主要用于<code>es6</code>。</p>
</blockquote>
</li>
<li><p><code>types</code> &amp; <code>typings</code></p>
<blockquote>
<p>如果打包的是<code>ts</code>代码，需要为你的包显式的指定<code>type</code>的声明文件；<br>这两个字段没任何区别，是同义的，<a href="https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html">参考</a> : <a href="https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html">https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html</a></p>
</blockquote>
</li>
</ul>
<h2 id="基础的配置文件"><a href="#基础的配置文件" class="headerlink" title="基础的配置文件"></a>基础的配置文件</h2><p><strong>所需要用到的包</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// babel</span>
<span class="token keyword">import</span> babel <span class="token keyword">from</span> <span class="token string">'@rollup/plugin-babel'</span><span class="token punctuation">;</span>
<span class="token comment">// typescript</span>
<span class="token keyword">import</span> tsc <span class="token keyword">from</span> <span class="token string">'rollup-plugin-typescript2'</span><span class="token punctuation">;</span>
<span class="token comment">// resolve</span>
<span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">'@rollup/plugin-node-resolve'</span><span class="token punctuation">;</span>
<span class="token comment">// 处理 commonjs</span>
<span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">'@rollup/plugin-commonjs'</span><span class="token punctuation">;</span>
<span class="token comment">// 处理图片</span>
<span class="token keyword">import</span> image <span class="token keyword">from</span> <span class="token string">'@rollup/plugin-image'</span><span class="token punctuation">;</span>
<span class="token comment">// 压缩代码</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> terser <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'rollup-plugin-terser'</span><span class="token punctuation">;</span>
<span class="token comment">// 处理 json 文件</span>
<span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">'@rollup/plugin-json'</span><span class="token punctuation">;</span>
<span class="token comment">// 使rollup可以使用postCss处理样式文件less、css等，需要同时安装 postcss</span>
<span class="token keyword">import</span> postcss <span class="token keyword">from</span> <span class="token string">'rollup-plugin-postcss'</span><span class="token punctuation">;</span>
<span class="token comment">// 处理 less 定义的变量</span>
<span class="token keyword">import</span> simplevars <span class="token keyword">from</span> <span class="token string">'postcss-simple-vars'</span><span class="token punctuation">;</span>
<span class="token comment">// 处理less嵌套样式写法</span>
<span class="token keyword">import</span> nested <span class="token keyword">from</span> <span class="token string">'postcss-nested'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>rollup.config.js</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">
<span class="token keyword">const</span> extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.tsx'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.jsx'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> external <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'antd'</span><span class="token punctuation">,</span> <span class="token string">'react/jsx-runtime'</span><span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    input<span class="token operator">:</span> <span class="token string">'./src/index.ts'</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            file<span class="token operator">:</span> <span class="token string">'./lib/index.js'</span><span class="token punctuation">,</span>
            sourcemap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            format<span class="token operator">:</span> <span class="token string">'cjs'</span><span class="token punctuation">,</span>
            esModule<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
            file<span class="token operator">:</span> <span class="token string">'./es/index.js'</span><span class="token punctuation">,</span>
            sourcemap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            format<span class="token operator">:</span> <span class="token string">'esm'</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    external<span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token function">simplevars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">nested</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">// 内部使用 cssnano 去做压缩的，外部不需要再次安装 </span>
            minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 处理.css和.less文件</span>
            extensions<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'.css'</span><span class="token punctuation">,</span> <span class="token string">'.less'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// 帮助 rollup 查找 node_modules 里的三方模块</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> extensions <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// 帮助 rollup 查找 commonjs 规范的模块, 常配合 rollup-plugin-node-resolve 一起使用</span>
        <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">tsc</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            tsconfig<span class="token operator">:</span> <span class="token string">'./tsconfig.json'</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            extensions<span class="token punctuation">,</span>
            babelHelpers<span class="token operator">:</span> <span class="token string">'runtime'</span><span class="token punctuation">,</span>
            exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>tsconfig.json</strong></p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span>
    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span>
    <span class="token property">"moduleResolution"</span><span class="token operator">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span>
    <span class="token property">"importHelpers"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"jsx"</span><span class="token operator">:</span> <span class="token string">"react-jsx"</span><span class="token punctuation">,</span>
    <span class="token property">"esModuleInterop"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"sourceMap"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"declaration"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"baseUrl"</span><span class="token operator">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
    <span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
    <span class="token property">"strict"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"allowSyntheticDefaultImports"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token property">"exclude"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"node_modules"</span><span class="token punctuation">,</span>
    <span class="token string">"lib"</span><span class="token punctuation">,</span>
    <span class="token string">"es"</span><span class="token punctuation">,</span>
    <span class="token string">"dist"</span><span class="token punctuation">,</span>
    <span class="token string">"typings"</span><span class="token punctuation">,</span>
    <span class="token string">"**/__test__"</span><span class="token punctuation">,</span>
    <span class="token string">"test"</span><span class="token punctuation">,</span>
    <span class="token string">"docs"</span><span class="token punctuation">,</span>
    <span class="token string">"tests"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>babel.config.js</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    presets<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> loose<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
            <span class="token string">'@babel/preset-react'</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span>
                runtime<span class="token operator">:</span> <span class="token string">'automatic'</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'@babel/plugin-transform-runtime'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上的配置基本就可以打造一个组件库了，麻雀虽小，五脏俱全。</p>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><ul>
<li>打包完，发现<code>antd</code>或者自生样式丢失？</li>
</ul>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">
module.exports = &#123;
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   presets: [
</span><span class="token prefix unchanged"> </span><span class="token line">       ['@babel/preset-env', &#123; loose: true &#125;],
</span><span class="token prefix unchanged"> </span><span class="token line">       [
</span><span class="token prefix unchanged"> </span><span class="token line">           '@babel/preset-react',
</span><span class="token prefix unchanged"> </span><span class="token line">           &#123;
</span><span class="token prefix unchanged"> </span><span class="token line">               runtime: 'automatic',
</span><span class="token prefix unchanged"> </span><span class="token line">           &#125;,
</span><span class="token prefix unchanged"> </span><span class="token line">       ],
</span><span class="token prefix unchanged"> </span><span class="token line">   ],
</span><span class="token prefix unchanged"> </span><span class="token line">   plugins: [
</span><span class="token prefix unchanged"> </span><span class="token line">     '@babel/plugin-transform-runtime',
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">     [
</span><span class="token prefix inserted">+</span><span class="token line">       'import', &#123;
</span><span class="token prefix inserted">+</span><span class="token line">       "libraryName": "antd",
</span><span class="token prefix inserted">+</span><span class="token line">       "libraryDirectory": "es",
</span><span class="token prefix inserted">+</span><span class="token line">       "style": "css"
</span><span class="token prefix inserted">+</span><span class="token line">     &#125;
</span><span class="token prefix inserted">+</span><span class="token line">     ]
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   ],
</span></span>&#125;;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>这里需要使用<code>babel</code>中的 <code>import</code>实现<code>lazy</code>加载。</p>
</blockquote>
<ul>
<li>如果我打包完后，想实现类似于<code>antd</code>的懒加载样式，可以做到吗？</li>
</ul>
<blockquote>
<p>可以的，需要在<code>rollup.config.js</code>的<code>postcss</code>配置中加入：<code>extract</code>，单独输出样式文件，然后在项目中像加载<code>antd</code>一样，配置<code>babel</code>就可以了。</p>
</blockquote>
<hr>
<p>最后，我叫<strong>小王</strong>，花名<strong>书生</strong>，今日份知识分享到此<code>over</code>，下一期再见～</p>
]]></content>
      <categories>
        <category>前端工程化</category>
      </categories>
      <tags>
        <tag>rollup</tag>
        <tag>ts</tag>
        <tag>组件库</tag>
      </tags>
  </entry>
  <entry>
    <title>Node打包堆栈溢出？慌什么！淡定！</title>
    <url>/article/how-to-resolve-stack-maxin/</url>
    <content><![CDATA[<p>今天是周五，可是为什么我却一点也感受不到周五的快乐呢？可能是明天需要再补班的缘故吧！<code>hhhhh</code></p>
<p>问题不大，牢骚话暂时略过，今天主要记录下工作上碰到的问题，以及我是怎么解决的。</p>
<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>我还是像往常一样，帮同事在<code>jekins</code>上构建代码，我在等待着我的机器人通知我，构建完成的消息，等了<code>10</code>分钟、<code>20</code>分钟…..，终于，耐不住一看界面，<strong>打包失败！</strong></p>
<p>我直呼一个好家伙！立马<code>clone</code>项目，本地打包，本地打包是<code>ok</code>的。</p>
<p>然后询问同事，是不是加了新代码：”确实是引入了一个新的包”。</p>
<p>打开了<code>analyze</code>分析工具一看：<code>3.5M</code>未压缩，<strong>够大！</strong></p>
<h2 id="经过"><a href="#经过" class="headerlink" title="经过"></a>经过</h2><p>好奇的我，打开了<code>jekins</code>构建日志：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>--- Last few GCs ---<span class="token operator">></span>

<span class="token punctuation">[</span><span class="token number">103099</span>:0x310aab0<span class="token punctuation">]</span>   <span class="token number">392901</span> ms: Scavenge <span class="token number">1343.8</span> <span class="token punctuation">(</span><span class="token number">1424.1</span><span class="token punctuation">)</span> -<span class="token operator">></span> <span class="token number">1342.9</span> <span class="token punctuation">(</span><span class="token number">1424.6</span><span class="token punctuation">)</span> MB, <span class="token number">16.4</span> / <span class="token number">0.0</span> ms  <span class="token punctuation">(</span>average mu <span class="token operator">=</span> <span class="token number">0.117</span>, current mu <span class="token operator">=</span> <span class="token number">0.025</span><span class="token punctuation">)</span> allocation failure 
<span class="token punctuation">[</span><span class="token number">103099</span>:0x310aab0<span class="token punctuation">]</span>   <span class="token number">394779</span> ms: Mark-sweep <span class="token number">1344.0</span> <span class="token punctuation">(</span><span class="token number">1424.6</span><span class="token punctuation">)</span> -<span class="token operator">></span> <span class="token number">1343.1</span> <span class="token punctuation">(</span><span class="token number">1424.1</span><span class="token punctuation">)</span> MB, <span class="token number">1853.9</span> / <span class="token number">0.0</span> ms  <span class="token punctuation">(</span>average mu <span class="token operator">=</span> <span class="token number">0.078</span>, current mu <span class="token operator">=</span> <span class="token number">0.037</span><span class="token punctuation">)</span> allocation failure scavenge might not succeed


<span class="token operator">&lt;</span>--- JS stacktrace ---<span class="token operator">></span>

<span class="token operator">==</span><span class="token operator">==</span> JS stack trace <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>哟嚯，<code>GC</code>内存不够了，怎么解决呢？</p>
<p>当然是上<code>google</code>咯！</p>
<p><strong>可以是：直接执行</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_00-44-14.png"></p>
<p><strong>也可以是：设置系统的环境变量</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_00-54-24.png"></p>
<p><strong>也可以是：设置执行时环境变量</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_00-57-06.png"></p>
<p><a href="https://stackoverflow.com/questions/38558989/node-js-heap-out-of-memory">stackoverflow回答地址</a> : <a href="https://stackoverflow.com/questions/38558989/node-js-heap-out-of-memory">https://stackoverflow.com/questions/38558989/node-js-heap-out-of-memory</a></p>
<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>最终，当然是生效啦，但是你以为这就结束了吗？</p>
<p><code>No</code>、<code>No</code>、<code>No</code>，才刚开始！</p>
<p>为什么会内存不够呢？</p>
<p>我打开了<code>v8</code>查询那个设置参数：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_01-23-15.png"></p>
<p>其实这个搜索关键字也是观察<code>jekins</code>日志发现的：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_01-28-04.png"></p>
<p>哟嚯，是不是，惊人的相似，请把<strong>可能二字</strong>去掉。</p>
<p>然后，我们去命令行看下这个鬼东西：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_01-43-07.png"></p>
<p>然后注意下箭头标注的，然后计算下最终的内存大小，以<code>G</code>为单位：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_01-43-52.png"></p>
<p>再回过头来看下，<code>Node</code>官文中的说明：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-18_01-47-56.png"></p>
<p>老的<code>Node</code>版本，基本在<code>1.5~1.7G</code>左右，一旦打包时候的空闲内存少了，就会这样。</p>
<hr>
<p>到此为止，这个问题的<strong>根</strong>已经被小王拔起了，期待下次分享～</p>
]]></content>
      <categories>
        <category>前端工程化</category>
      </categories>
      <tags>
        <tag>构建</tag>
        <tag>打包</tag>
      </tags>
  </entry>
  <entry>
    <title>组件库打包---答疑篇</title>
    <url>/article/how-to-build-component/</url>
    <content><![CDATA[<p>作为九月的收尾文章，分享一下我已经应用于若干生产项目的组件库打包方案以及难题解决～</p>
<p>以下的每个问题点，都以<code>Topic</code>的形式展开讲述。</p>
<h2 id="组件库的样式怎么解决？"><a href="#组件库的样式怎么解决？" class="headerlink" title="组件库的样式怎么解决？"></a>组件库的样式怎么解决？</h2><p>其实在之前的文章中有分享过组件库的样式解决方案，但是还是有一些问题的，不过经历了一个多星期的钻研尝试，总算是找到了样式解决方案的最优解～</p>
<p><strong>怎么处理第三方样式？</strong></p>
<p>拿目前的<code>antd</code>样式来看，为了避免打包过程中产生额外的<code>三方库</code>样式赘余，所以我们使用<strong>按需</strong>&amp;<strong>peer依赖方案</strong></p>
<p>具体对应到<code>rollup</code>配置里，我们可能会这么做：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> external <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'react'</span><span class="token punctuation">,</span>
    <span class="token string">'react/jsx-runtime'</span><span class="token punctuation">,</span>
    <span class="token string">'antd'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 省略若干配置</span>
    external<span class="token punctuation">,</span>
    <span class="token comment">// 省略若干配置</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其次，对应到<code>babel.config</code>中，我们可能会这么做：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    presets<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> loose<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
            <span class="token string">'@babel/preset-react'</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span>
                runtime<span class="token operator">:</span> <span class="token string">'automatic'</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'@babel/plugin-transform-runtime'</span><span class="token punctuation">,</span>
        <span class="token comment">// 下面的配置是要点！</span>
        <span class="token punctuation">[</span>
            <span class="token string">'import'</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span>
                libraryName<span class="token operator">:</span> <span class="token string">'antd'</span><span class="token punctuation">,</span>
                libraryDirectory<span class="token operator">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>
                style<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>告诉工具，我们的打包配置是按需的，其次，我们的样式走的是<code>less</code>文件。为了保证<strong>不和项目中的<code>antd css</code>产生冲突，那么我们同样需要在项目中做相同的处理</strong></p>
<p><strong>项目中的配置</strong></p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"babel"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
        <span class="token string">"@babel/plugin-proposal-decorators"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
          <span class="token property">"legacy"</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token string">"import"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
          <span class="token property">"libraryName"</span><span class="token operator">:</span> <span class="token string">"antd"</span><span class="token punctuation">,</span>
          <span class="token property">"libraryDirectory"</span><span class="token operator">:</span> <span class="token string">"es"</span><span class="token punctuation">,</span>
          <span class="token property">"style"</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"react-app"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当然这里是需要借助<code>webpack</code>的<code>less loader</code>做一些事情的：</p>
<p>需要在 <code>less</code> <code>options</code>中添加如下配置：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>
    lessOptions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        javascriptEnabled<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>保证和组件库的配置依赖保持一致，让组件库的按需<code>es</code>能够找得到项目中的按需样式，这样就可以做到<strong>样式不丢失</strong>。</p>
<h2 id="多个组件包的管理怎么处理"><a href="#多个组件包的管理怎么处理" class="headerlink" title="多个组件包的管理怎么处理"></a>多个组件包的管理怎么处理</h2><p><strong>工具</strong></p>
<p>最常见的使用工具，当然是<code>lerna</code>了，我们可以配置<code>lerna</code>。</p>
<p><code>lerna</code>的配置详细规则，这里不再做过多的阐述，重点我们去解决下面的问题：</p>
<p><strong><code>lerna</code>管理多个包，怎么处理包的碰撞<code>log</code>，也就是不相关的包会触发版本升级</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># **Note:** Version bump only for package xxx</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>上面的内容就是包版本发生碰撞之后的<code>changelog</code>内容，怎么解决呢？</p>
<p>我个人想了一个比较好的方案：</p>
<p><strong>解决痛点：lerna只能一次性控制所有的包打包构建，那么单独精确控制呢？</strong></p>
<p><strong>思路：提供可视化的打包选择<code>shell</code>，提供更加语意化的<code>commit</code>信息</strong></p>
<h6 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h6><p>解析命令行：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> Command <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'commander'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h6 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h6><p>获取<code>lerna</code>管理项目的所有包信息：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> shell <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'shelljs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> shell<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> lerna ls --json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> silent<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>上面的<code>silent</code>的意思是，控制命令行执行不输出语句，因为我们更希望我们的<code>shell</code>是干净的。</p>
<h6 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h6><p>命令行答询</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

inquirer
    <span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            type<span class="token operator">:</span> <span class="token string">'checkbox'</span><span class="token punctuation">,</span>
            message<span class="token operator">:</span> <span class="token string">'Please select your want publish packages'</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'packages'</span><span class="token punctuation">,</span>
            choices<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">inquirer<span class="token punctuation">.</span>Separator</span><span class="token punctuation">(</span><span class="token string">' = Lerna All Packages = '</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>isTtyError<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// Prompt couldn't be rendered in the current environment</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// Something else went wrong</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上面的文档，其实在人家<code>github</code>仓库中已经给了案例了，这里做一个传送门：</p>
<p><a href="https://github.com/SBoudrias/Inquirer.js/tree/master/packages/inquirer/examples">传送门</a> : <a href="https://github.com/SBoudrias/Inquirer.js/tree/master/packages/inquirer/examples">https://github.com/SBoudrias/Inquirer.js/tree/master/packages/inquirer/examples</a></p>
<p>选择自己适合的方案去做。</p>
<h6 id="第四步"><a href="#第四步" class="headerlink" title="第四步"></a>第四步</h6><p>借助<code>lerna</code>命令去遍历精确打包；</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

inquirer
    <span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            type<span class="token operator">:</span> <span class="token string">'checkbox'</span><span class="token punctuation">,</span>
            message<span class="token operator">:</span> <span class="token string">'Please select your want publish packages'</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'packages'</span><span class="token punctuation">,</span>
            choices<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">inquirer<span class="token punctuation">.</span>Separator</span><span class="token punctuation">(</span><span class="token string">' = Lerna All Packages = '</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">answers</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        answers<span class="token punctuation">.</span>packages<span class="token operator">?.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            shell<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lerna run --scope </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>item<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> build</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其实<code>lerna</code>的官方文档里有说明<code>lerna run --scope [包名] [script 命令]</code> 可以做到精确控制某个包的命令执行，那我们遍历就可以做一个<code>宏观并行处理</code>。</p>
<h6 id="第五步"><a href="#第五步" class="headerlink" title="第五步"></a>第五步</h6><p>借助<code>commitizen</code>控制<strong>发布信息的规范化</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">starderedCommmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    shell<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">git add .</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> bootstrap <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'commitizen/dist/cli/git-cz'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>bootstrap<span class="token punctuation">;</span>
    <span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        cliPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../node_modules/commitizen'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        config<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            path<span class="token operator">:</span> <span class="token string">'cz-conventional-changelog'</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这个东西呢，在<code>库</code>的官方文档里也有写：</p>
<p><a href="https://www.npmjs.com/package/@marionebl/git-cz">传送门</a> : <a href="https://www.npmjs.com/package/@marionebl/git-cz">https://www.npmjs.com/package/@marionebl/git-cz</a></p>
<p><strong>解释一下，为什么这么做呢？</strong></p>
<p>因为，这么做的原因是，在<code>shell</code>中如果执行<code>git cz</code>是无法触发交互的，是因为<code>shell</code>开启了子进程做的命令执行。</p>
<p>最后，我们想实现的效果可能就是这样：</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2109/Snipaste_2021-09-28_01-28-01.png"></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>最后，小结一下吧，其实每一个问题都是可以解决的，我们欠缺的并不是实现技术的细节，而是一个思路。</p>
<p>有思路就代表可行，或者可以尝试下，这样我们有路才会选择去走还是坐飞机，还是坐火车，骑车……</p>
]]></content>
      <categories>
        <category>前端工程化</category>
      </categories>
      <tags>
        <tag>构建</tag>
        <tag>打包</tag>
      </tags>
  </entry>
  <entry>
    <title>聊一聊最近的一些想法</title>
    <url>/article/word-in-furture-and-now/</url>
    <content><![CDATA[<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><blockquote>
<p>凡事皆是修行。</p>
</blockquote>
<blockquote>
<p>此生理想，近期规划，今日功课。</p>
</blockquote>
<blockquote>
<p>你能不能，在于你想不想。</p>
</blockquote>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>你最近累吗？是否感觉到很累，是否也有感觉到些许疲惫？</p>
<p>好多个深夜，看着黑漆漆的天花板，偶尔看看窗外的夜色，听着不远处来来往往飞行的飞机的轰鸣声，但是有时候却好像已经习惯，习惯在静谧中夹杂着些许嘈杂。</p>
<p>唔……</p>
<p>“明天会有太阳吗？”</p>
<p>“明天穿什么衣服呀！”</p>
<p>“……”</p>
<p>两点一线的生活，好像缺点什么，但是又好像不缺点什么。</p>
<p>本来我是打算长篇大段写好多东西的，但是，好久没写总结了。</p>
<h2 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h2><p><strong>使用<code>shelljs</code>的<code>exec</code>函数执行别的命令怎么可以保持命令行中的颜色维持？</strong></p>
<p>参考：</p>
<ul>
<li><a href="https://stackoverflow.com/questions/7725809/preserve-color-when-executing-child-process-spawn">https://stackoverflow.com/questions/7725809/preserve-color-when-executing-child-process-spawn</a></li>
<li><a href="https://newbedev.com/preserve-color-when-executing-child-process-spawn">https://newbedev.com/preserve-color-when-executing-child-process-spawn</a></li>
<li><a href="https://github.com/shelljs/shelljs/issues/86">https://github.com/shelljs/shelljs/issues/86</a></li>
</ul>
<p>其实道理很简单，因为它开了子进程去处理别的命令，主进程就只能拿到它的输出，所以会丢失颜色，不过我找了几种方案去解决：</p>
<p><strong>方案一：这种方案只适用于通过原生的<code>node</code> <code>API</code>中的<code>spawn</code></strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">"command"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"args"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> env <span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token constant">FORCE_COLOR</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>重点是：<code>FORCE_COLOR</code></p>
<p><strong>方案二：这种方案只适用于<code>zsh</code>风格的<code>shell</code>，我不确定其他机器是否<code>ok</code></strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> ps <span class="token operator">=</span> <span class="token function">_spawn</span><span class="token punctuation">(</span><span class="token string">'npm'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'outdated'</span><span class="token punctuation">,</span> <span class="token string">'--color=always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> stdio<span class="token operator">:</span> <span class="token string">'pipe'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>重点是：<code>--color=always</code></p>
<p><strong>方案三：这种方案有一个弊端，就是无法通过<code>shelljs</code>或者<code>child_progress</code>获取执行结果！</strong></p>
<p>参考<code>issue</code>: <a href="https://github.com/nodejs/node/issues/2333">https://github.com/nodejs/node/issues/2333</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> spawn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">;</span>

<span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'node'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'./child.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> shell<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> stdio<span class="token operator">:</span> <span class="token string">'inherit'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>重点是：<code>crossplatform solution that worked for me was to use both shell: true and stdio: &#39;inherit&#39;</code></p>
<h2 id="回到正文"><a href="#回到正文" class="headerlink" title="回到正文"></a>回到正文</h2><p>小小的番外，不成敬意，还请笑纳。</p>
<p><strong>顺手推荐下一个百度大佬的<code>ppt</code>：<code>高工的个人发展</code>。</strong></p>
<p>关于生活，关于工作，关于现在，关于将来，做个小的想法总结：</p>
<ul>
<li>价值观没有对错，别人的价值观可能只对别人有价值，随着时间，自己的价值观也会改变。—— 关于生活（价值观）</li>
<li>你愿意做一个<code>10</code>年重复经验的<code>10</code>年工作经验的工程师吗？这就是你被一年工作经验的人吊打的原因。—— 关于工作（意识认知）</li>
<li>把握好自己当下，自己的职业生涯在自己手上，你的主管只负责你的工作。—— 关于现在</li>
<li>寻找方向，多寻求一些刺激的东西，居安思危，逃离舒适区。—— 关于将来</li>
</ul>
<p>前段时间，去听了听大老板的一点分享：</p>
<p>作为技术者，你即便是花再多时间，研究再牛逼的东西，它没办法提升效率，没办法解放生产力，它就没有价值，至少是对公司没有价值。</p>
<p>的确啊，对于管理层来说，明确点是对于雇主来说，我们在任职期间做的每一件事都应该是有价值的，不要在自己的幻想沙盒中迷失自我。</p>
<p>我觉得这应该是职场的黄金法则。</p>
<p>其次呢就是，在平时的学习研究中，每一次的深入研究前，都应该思考，这次的时间花费，我能收获什么？事后要做总结，避免后续再浪费时间去消化。</p>
<p>最后，剧透一下，下一篇文章，我准备详细解释下<code>react-router</code> &amp; <code>react-rouetr-dom</code>的在<code>version 6.0.0-beta.6</code>版本中做的事情。</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>生活</tag>
        <tag>思考</tag>
      </tags>
  </entry>
  <entry>
    <title>懒渲染背后有多细节？</title>
    <url>/article/lazy-end-for-details/</url>
    <content><![CDATA[<p>这片文章可能略微有些标题狗了，不过，大致差不多～</p>
<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>最近在做一个东西，因为后端同学比较忙的缘故<code>+</code>跟他关系好，所以答应了对于某个接口的数据的查询做全量数据返回，前端做滚动懒渲染<code>+</code>模糊查询。</p>
<p>听起来可能比较高大上，但是实际上想明白了就很简单了。</p>
<h2 id="正题"><a href="#正题" class="headerlink" title="正题"></a>正题</h2><p>首先说明下，这个数据量有多大？预计<code>8000+</code>左右，也就是如果不做懒渲染的话，前端界面的某一个部分一次性要渲染<code>8000+</code>个<code>DOM</code>。</p>
<p><strong>1. 这一定会很卡的！</strong>（至少我听到后的第一反应是这个）</p>
<p><strong>2. 没有一个正常人会在<code>8000+</code>条数据中找某一条数据的，眼睛都看花了，但是不排除有，大概定级为使用场景出现频率低</strong></p>
<h4 id="How-to-do-it？"><a href="#How-to-do-it？" class="headerlink" title="How to do it？"></a>How to do it？</h4><p>怎么做呢？我们来理一下思路：</p>
<p><strong>正常渲染</strong></p>
<ul>
<li>收集数据</li>
<li>切割数据</li>
<li>滚动渲染</li>
</ul>
<p><strong>模糊搜索</strong></p>
<ul>
<li>模糊搜索</li>
<li>切割数据</li>
<li>滚动渲染</li>
</ul>
<p>思路理清楚了，我们做一下代码展示和代码分析吧～</p>
<h2 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> filter <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'lodash-es'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">DataShape</span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>
    <span class="token punctuation">&#123;</span>
        id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
        name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token operator">&amp;</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">></span>
<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DataEngine</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">// 分割 chunk 片的阈值</span>
    <span class="token keyword">static</span> <span class="token constant">SPLIT_CHUNK_UNIT</span> <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>

    <span class="token comment">// 并发时间范围的阈值, 10 毫秒</span>
    <span class="token keyword">static</span> <span class="token constant">CONCURRENT_TIME_DELAY</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化数据，一般指代的是全量数据</span>
    <span class="token keyword">private</span> _dataList<span class="token operator">:</span> DataShape<span class="token punctuation">;</span>
    <span class="token comment">// 分片_chunkData数据</span>
    <span class="token keyword">private</span> _chunkDataList<span class="token operator">:</span> DataShape<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 记录分割的 chunk 数目</span>
    <span class="token keyword">private</span> _recordGetChunkCount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token comment">// 工作区数据（常规状态 + 模糊搜索态）</span>
    <span class="token keyword">private</span> _WIPDataList<span class="token operator">:</span> DataShape<span class="token punctuation">;</span>
    <span class="token comment">// 是否处于模糊搜索态</span>
    <span class="token keyword">private</span> _isWIP<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    <span class="token comment">// 时间阈值</span>
    <span class="token keyword">private</span> _actionTime<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// 单例 chunkData，应付在一定时间阈值内的并发调用获取</span>
    <span class="token keyword">private</span> _singleChunkDataList<span class="token operator">:</span> DataShape<span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_isWIP <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_singleChunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">setData</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> DataShape</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * @desc 模糊搜索值，且不区分到底是哪个属性
     */</span>
    <span class="token function">fuzzySearch</span><span class="token punctuation">(</span><span class="token parameter">keyword<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dataList<span class="token punctuation">,</span> <span class="token parameter">obj</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> idList <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>orgId<span class="token punctuation">)</span><span class="token operator">?.</span>includes<span class="token operator">?.</span><span class="token punctuation">(</span>keyword<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> nameList <span class="token operator">=</span> obj<span class="token punctuation">.</span>orgName<span class="token operator">?.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span>includes<span class="token operator">?.</span><span class="token punctuation">(</span>keyword<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> idList <span class="token operator">||</span> nameList<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * @desc 数据 chunk 分割
     */</span>
    <span class="token function">splitChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_isWIP<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">/** 重置 chunk 切割索引 */</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList<span class="token operator">?.</span>length <span class="token operator">/</span> DataEngine<span class="token punctuation">.</span><span class="token constant">SPLIT_CHUNK_UNIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList<span class="token operator">?.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">*</span> DataEngine<span class="token punctuation">.</span><span class="token constant">SPLIT_CHUNK_UNIT</span><span class="token punctuation">,</span> DataEngine<span class="token punctuation">.</span><span class="token constant">SPLIT_CHUNK_UNIT</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * @desc 获取分片数据
     */</span>
    <span class="token function">getChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> DataShape <span class="token punctuation">&#123;</span>
        <span class="token comment">// 优先判断有没有设置时间值（其实就是第一次获取），其次判断时间阈值的范围</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">||</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">></span> DataEngine<span class="token punctuation">.</span><span class="token constant">CONCURRENT_TIME_DELAY</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_singleChunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token punctuation">.</span>length <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>_singleChunkDataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_singleChunkDataList<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * @desc 及时销毁内存，避免浪费或者内存溢出
     */</span>
    <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_isWIP <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * @desc 检测 chunk 片区是否为空
     */</span>
    <span class="token keyword">get</span> <span class="token function">chunkIsEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">/** 最直观的方式是检测，它的记录长度是否等于分割长度，分割长度取天花板 */</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList<span class="token operator">?.</span>length <span class="token operator">/</span> DataEngine<span class="token punctuation">.</span><span class="token constant">SPLIT_CHUNK_UNIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">get</span> <span class="token function">cacheData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">get</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">set</span> <span class="token constant">WIP</span><span class="token punctuation">(</span><span class="token parameter">flag<span class="token operator">:</span> boolean</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_isWIP <span class="token operator">=</span> flag<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这一大段可能看着有些累，没事，我们从头开始分析～</p>
<p>先解释下一些堆栈<code>list</code>的含义：</p>
<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 分割 chunk 片的阈值</span>
<span class="token keyword">static</span> <span class="token constant">SPLIT_CHUNK_UNIT</span> <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 并发时间范围的阈值, 10 毫秒</span>
<span class="token keyword">static</span> <span class="token constant">CONCURRENT_TIME_DELAY</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 初始化数据，一般指代的是全量数据</span>
<span class="token keyword">private</span> _dataList<span class="token operator">:</span> DataShape<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 分片_chunkData数据</span>
<span class="token keyword">private</span> _chunkDataList<span class="token operator">:</span> DataShape<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 记录分割的 chunk 数目</span>
<span class="token keyword">private</span> _recordGetChunkCount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 工作区数据（常规状态 + 模糊搜索态）</span>
<span class="token keyword">private</span> _WIPDataList<span class="token operator">:</span> DataShape<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 是否处于模糊搜索态</span>
<span class="token keyword">private</span> _isWIP<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 时间阈值</span>
<span class="token keyword">private</span> _actionTime<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">// 单例 chunkData，应付在一定时间阈值内的并发调用获取</span>
<span class="token keyword">private</span> _singleChunkDataList<span class="token operator">:</span> DataShape<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>首先是数据收集：</strong></p>
<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token operator">:</span> DataShape<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> data<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>这里的数据收集，主要是保存在<code>_dataList</code>和<code>_WIPDataList</code>中，其中<code>_dataList</code>单纯是做全量数据缓存，而<code>_WIPDataList</code>是做工作态的数据收集，其中初始态也属于工作态。</p>
<p>这里解释下<strong>工作态</strong></p>
<ul>
<li>初始化的状态</li>
<li>模糊搜索时的状态</li>
<li>销毁时的状态</li>
</ul>
<p><strong>其次是切割数据</strong></p>
<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">/**
 * @desc 数据 chunk 分割
 */</span>
<span class="token function">splitChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_isWIP<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">/** 重置 chunk 切割索引 */</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList<span class="token operator">?.</span>length <span class="token operator">/</span> DataEngine<span class="token punctuation">.</span><span class="token constant">SPLIT_CHUNK_UNIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList<span class="token operator">?.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">*</span> DataEngine<span class="token punctuation">.</span><span class="token constant">SPLIT_CHUNK_UNIT</span><span class="token punctuation">,</span> DataEngine<span class="token punctuation">.</span><span class="token constant">SPLIT_CHUNK_UNIT</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>每一次的数据切割都是对全量数据的操作，所以我们大可每次都初始化<code>_chunkDataList</code>、<code>_recordGetChunkCount</code></p>
<p><code>WIP</code>态的含义是：</p>
<ul>
<li>全量数据态一定是<code>false</code><ul>
<li>初始态全量</li>
<li>模糊搜索，搜索条件为空是全量</li>
</ul>
</li>
<li>搜索条件不为空时，一定是<code>true</code></li>
</ul>
<p>数据分割的<code>chunk</code>范围是：<code>i*DataEngine.SPLIT_CHUNK_UNIT</code> ~ <code>DataEngine.SPLIT_CHUNK_UNIT * (i + 1)</code>.这样可能不好理解，大白话叙述一下：</p>
<blockquote>
<p>假如有90条数据，数据固定按照40条分割，那么可以分3块。</p>
<p>第一块：<code>0*40～40*1  === 0 ～ 40</code>（不包含40）</p>
<p>第二块：<code>1*40～40*2  === 40 ～ 80</code>（不包含80）</p>
<p>第三块：<code>2*40～40*3  === 80 ～ 120</code>（总共90条，一定可以拿全的）</p>
</blockquote>
<p><strong>模糊搜索</strong></p>
<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">/**
 * @desc 模糊搜索值，且不区分到底是哪个属性
 */</span>
<span class="token function">fuzzySearch</span><span class="token punctuation">(</span>keyword<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_dataList<span class="token punctuation">,</span> obj <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> idList <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token operator">?.</span>includes<span class="token operator">?.</span><span class="token punctuation">(</span>keyword<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> nameList <span class="token operator">=</span> obj<span class="token punctuation">.</span>name<span class="token operator">?.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span>includes<span class="token operator">?.</span><span class="token punctuation">(</span>keyword<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> idList <span class="token operator">||</span> nameList<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>获取chunk</strong></p>
<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">/**
 * @desc 获取分片数据
 */</span>
<span class="token function">getChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> DataShape <span class="token punctuation">&#123;</span>
    <span class="token comment">// 优先判断有没有设置时间值（其实就是第一次获取），其次判断时间阈值的范围</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">||</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">></span> DataEngine<span class="token punctuation">.</span><span class="token constant">CONCURRENT_TIME_DELAY</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_singleChunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token punctuation">.</span>length <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_singleChunkDataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_singleChunkDataList<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>获取<code>chunk</code>这个方法其实还是值得推敲的，因为每次一调用就会触发分割。那么我们在调试时候的打印，也会触发分割，其实还是不希望的。</p>
<p>所以，这里做了一个时间为<code>10</code>ms的数据分割阈值控制，做一个阀门控制住分割的并发数，在并发的时间内，返回同一个<code>chunk</code>单例。</p>
<p><strong>最后，销毁重置所有数据态</strong></p>
<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts"><span class="token comment">/**
 * @desc 及时销毁内存，避免浪费或者内存溢出
 */</span>
<span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_dataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_WIPDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_chunkDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_recordGetChunkCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_isWIP <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_actionTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p>说了那么多，其实我们并没有看到实际的效果，可以大致观摩下～</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2110/Kapture%202021-10-25%20at%2023.37.30.gif"></p>
<p>模糊搜索</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2110/Kapture%202021-10-25%20at%2023.40.58.gif"></p>
<p>怎么样，还不错吧，这个效果，对于我们的数据加载，甚至性能都有很大的优化～</p>
]]></content>
      <categories>
        <category>懒渲染</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>前端人的工匠精神之&quot;我终于征服Antd了&quot;</title>
    <url>/article/front-end-feeling-i-got-antd/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>从早期写代码时候的<strong>潦潦草草</strong>到现在的<strong>工匠精神</strong>，我觉得是我对于代码的<strong>认知</strong>、<strong>蜕变</strong>、<strong>一种态度</strong>。同时我也觉得这应该是每一个<code>coder</code>应该具备的潜意识。</p>
<p>我也不止一次的跟我现在的小伙伴一再强调：<strong>见代码如见人</strong>。好的代码是对自己的思维感知的一种体现以及对于整个软件工程体系生命周期的把控。</p>
<p>试想一下，当你的代码满是糟粕，久而久之，整个软件中也充斥着大量的糟粕，我们姑且把它称之为”坏味道”，而这种坏味道正是加速软件死亡的<strong>毒瘤</strong>。</p>
<p>所以，一个对自己职业负责的<code>coder</code>应该对每一行代码负责！保持对代码的敬畏之心，保持对前端的敬畏之心。</p>
<p>另，<code>Code is life</code>，而非<code>Code is money</code>的认知是比较重要的。甚至可以区分同一个工作领域的两极分化。</p>
<h2 id="征服Antd的前夕"><a href="#征服Antd的前夕" class="headerlink" title="征服Antd的前夕"></a>征服<code>Antd</code>的前夕</h2><h5 id="故事一-Table"><a href="#故事一-Table" class="headerlink" title="故事一(Table)"></a>故事一(<code>Table</code>)</h5><p>在一个月黑风高的夜晚，小王还在开发需求以及完善组件库时，碰到一个自然而然就想到的场景。</p>
<ul>
<li><code>table</code>同时出现<strong>横向+纵向滚动条</strong>的时候，怎么展示？<ul>
<li>方案一：常规显示【有个弊端就是，无触摸板用户无法横向滚动，必须拉到最底部，且无法观测表头对应数据】</li>
<li>方案二：表格内滚动【完美解决方案一的问题，但是<strong>小屏幕用户怎么办？页面内容多的时候，就只有一条数据，慢慢滚。</strong>】<blockquote>
<p>提及这个，说来惭愧，产品带着我的<strong>杰作</strong>去演示，结果拿了个<code>mini</code>版的电脑去演示，丢人丢大发了。一瞬间稍微有点挫败感，但是我想把它做到极致！</p>
</blockquote>
</li>
<li>方案三：粘滞表头，粘滞虚拟滚动条！【近乎完美】</li>
</ul>
</li>
</ul>
<hr>
<p>遇到这种问题该怎么做呢？首先肯定是查看 <code>antd</code> 的解决方案。</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2111/Snipaste_2021-11-11_23-25-16.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p><code>wow!</code>，这不就是我想要的吗。…….然而，好景不长。</p>
<hr>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2111/Snipaste_2021-11-11_23-29-44.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>掉下来了，，，但是我又看了一遍官方的示例，没我这个问题，几乎在那一瞬间，，我就想到了是上下文的问题，抱着怀疑的态度，我翻到了开发这个特性的小伙伴的源代码。</p>
<hr>
<p>先看下<code>merge request</code>:</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2111/Snipaste_2021-11-11_23-34-26.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>看的出来，这个大佬也是一个交互细节狂，确实挺钦佩的。不过，真正的<code>file changes</code>可不在这里，而是在<code>rc-table</code>里。</p>
<hr>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2111/Snipaste_2021-11-11_23-38-32.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>直接搜索<code>sticky</code>关键字下的<code>MR</code>。</p>
<hr>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2111/Snipaste_2021-11-11_23-40-51.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>果然，这就是元凶，直接挂在了<code>window</code>，我用的时候之所以<strong>掉下来</strong>是因为，我是容器内滚动的，<code>window</code>下并无滚动条，所以它并没有自动消失。</p>
<hr>
<p>我们其实看文档的时候就看到了在<code>4.17.0</code>支持了<code>getContainer</code>的属性，我们先来看看，<code>4.17.0</code>做了什么修改。</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2111/Snipaste_2021-11-11_23-45-52.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>一样的操作，继续搜索<code>sticky</code>，找到<code>getContainer</code>那条<code>mr</code>。</p>
<hr>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2111/Snipaste_2021-11-11_23-47-06.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>这下就搞明白了原由如何～</p>
<hr>
<p>所以最终，对症下药，项目的<code>antd</code>升级到<code>antd@4.17.0-alpha.9</code>，完美解决！</p>
<h5 id="故事二-Table内的Popover、Tooltip、Popconfirm如何定位方案"><a href="#故事二-Table内的Popover、Tooltip、Popconfirm如何定位方案" class="headerlink" title="故事二(Table内的Popover、Tooltip、Popconfirm如何定位方案)"></a>故事二(<code>Table</code>内的<code>Popover</code>、<code>Tooltip</code>、<code>Popconfirm</code>如何定位方案)</h5><p>由于这个故事并没有故事，所以我就直接出解决方案了～</p>
<ul>
<li>方案一：二次封装，检测滚动隐藏。<blockquote>
<p>其实是合理的，我们姑且可以认为，当用户滚动的时候，忘记关闭了，像<code>Popconfirm</code>、<code>tooltip</code>等。</p>
</blockquote>
</li>
</ul>
<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token constant">FC</span><span class="token punctuation">,</span> useCallback<span class="token punctuation">,</span> useState <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Tooltip<span class="token punctuation">,</span> TooltipProps <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useEventListener <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ahooks'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> DIYTooltip<span class="token operator">:</span> <span class="token constant">FC</span><span class="token operator">&lt;</span>TooltipProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> children<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>visible<span class="token punctuation">,</span> setVisible<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">useEventListener</span><span class="token punctuation">(</span>
        <span class="token string">'scroll'</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>visible<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
            capture<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> onVisibleChange <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">flag</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token function">setVisible</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tooltip</span></span> <span class="token attr-name">visible</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>visible<span class="token punctuation">&#125;</span></span> <span class="token attr-name">onVisibleChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>onVisibleChange<span class="token punctuation">&#125;</span></span> <span class="token spread"><span class="token punctuation">&#123;</span><span class="token operator">...</span>rest<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token punctuation">&#123;</span>children<span class="token punctuation">&#125;</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tooltip</span></span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> DIYTooltip<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>方案二：手动添加<code>Container</code></li>
</ul>
<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">getTooltipContainer<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.ant-table-body'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>路还很长，故事也很长。</p>
<p>追求极致的路上是一次次细节的思考，设身处地的从实际业务出发，从使用人的角度去思考基建、架构设计，才足够<strong>接地气</strong>。</p>
<p>有小伙伴经常抱怨：我每天都在写业务，我怎么学习提升啊！</p>
<blockquote>
<p>你真的100%的时间在写业务？</p>
</blockquote>
<blockquote>
<p>你不写业务的时候你在干嘛？</p>
</blockquote>
<blockquote>
<p>有想过在业务中提升自我吗？</p>
</blockquote>
<p>技术的本质就是创造业务价值，为业务服务，在业务中思考，哪里需要优化，从小到大，小到组件设计（设计模式），大到系统设计（构建工具，组件库，<code>CLI</code>工具，微前端）。停止抱怨，那是愚蠢的想法！</p>
<p>当然后续发展可能就是持续集成（<code>jekins</code>、<code>Gitlab Runners</code>、<code>Docker</code>）</p>
<p>加油吧，<code>Code is Life</code>，你会发现其实生活如工作，工作如生活，代码即生活～</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>Antd</tag>
        <tag>心得</tag>
      </tags>
  </entry>
  <entry>
    <title>狂人月记</title>
    <url>/article/madman&#39;s-daily/</url>
    <content><![CDATA[<p>文章的开头自然是避嫌了，并非蕴含了鲁迅先生《狂人日记》中的思想，只是题目略微相近。</p>
<p>没有被压迫，更没有”吃人主义”。</p>
<p>之所以叫狂人，是因为最近一个月都比较张狂，主要表现在，想几点睡就几点睡等等，此处省略一万字。</p>
<p>之所以叫月记呢，是因为，一个月记了一次吧，哈哈。</p>
<p>简单记录下这接近一个月的生活、工作、情绪、思想等等。</p>
<h2 id="生活大事记一"><a href="#生活大事记一" class="headerlink" title="生活大事记一"></a>生活大事记一</h2><p><strong>部门团建</strong></p>
<p>接下来有请摄影师<code>小王</code>登场以及诗人<code>书生</code>登场。【诗词即兴创作】</p>
<p><strong>风景照耶</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/AAE7784EFE4DE5DB336A730016C82CD1.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p>枯蒿微曳清风里，余晖尽落长兴巷。</p>
<p><code>注：长兴意指浙江湖州长兴县</code></p>
<p><strong>含苞待放</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/F516695394C2F6F76A398E8FB3C96D94.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p><strong>苞已待放</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/C00BACB40578EA6740628DA267C5128C.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p><strong>吃烤全羊</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/2D95BED7193C0FCB0393C45EABBB5BB7.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p><strong>篝火晚会</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/A2180B3FBF7AD37F04F35DC943DAAA9E.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p><strong>哈哈哈哈</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/CDBC7EE0303089DA74CDC29A611249ED.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p><strong>去爬山咯</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/51CDD75AF61A81F7EE3BB72F0646C010.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<h2 id="生活大事记二"><a href="#生活大事记二" class="headerlink" title="生活大事记二"></a>生活大事记二</h2><p>我妈前几年不听我劝告，刷牙不够三分钟，<code>hiahiahiahia</code></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2112/8339CBF123302655FE1BE303E15E17BB.jpg?x-oss-process=style/HANDLE_IMAGE"></p>
<p>原谅我每次视频都笑出猪叫，拔了<code>6</code>颗🦷。</p>
<hr>
<h2 id="工作大事记"><a href="#工作大事记" class="headerlink" title="工作大事记"></a>工作大事记</h2><p>🎤 <code>wsl</code>时而重连闪退是因为什么？</p>
<blockquote>
<p>大概率是内存不足，可以在全局创建<code>.wslconfig</code>，写入以下配置</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>wsl2<span class="token punctuation">]</span>
<span class="token assign-left variable">memory</span><span class="token operator">=</span>16GB
<span class="token assign-left variable">processors</span><span class="token operator">=</span>6GB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>自然是内存不够了，可以按需添加内存进去。<br><a href="https://docs.microsoft.com/en-us/windows/wsl/wsl-config">完整配置</a>: <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl-config">https://docs.microsoft.com/en-us/windows/wsl/wsl-config</a></p>
</blockquote>
<p>🎤 <code>linux</code>中怎么打开外部应用？</p>
<blockquote>
<p>科普一个外部<code>npm</code>库叫<code>open</code>。</p>
</blockquote>
<p>🎤 <code>eslint</code>配置圈复杂度？</p>
<blockquote>
<p><a href="https://cn.eslint.org/docs/rules/complexity">传送门</a> : <a href="https://cn.eslint.org/docs/rules/complexity">https://cn.eslint.org/docs/rules/complexity</a></p>
</blockquote>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"complexity"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token property">"max"</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>🎤 <code>pnpm</code>替换<code>lerna</code>方案</p>
<blockquote>
<p><a href="https://www.raulmelo.dev/blog/replacing-lerna-and-yarn-with-pnpm-workspaces">传送门</a> : <a href="https://www.raulmelo.dev/blog/replacing-lerna-and-yarn-with-pnpm-workspaces">https://www.raulmelo.dev/blog/replacing-lerna-and-yarn-with-pnpm-workspaces</a></p>
</blockquote>
<h2 id="思想大事记一"><a href="#思想大事记一" class="headerlink" title="思想大事记一"></a>思想大事记一</h2><p>最近有一个想法，做一个接口请求<code>mock</code>工具。</p>
<p>当然市面上已经有东西可以做<code>mock</code>了，比如<code>yapi</code>，<code>mockjs</code>等等。</p>
<p>而我今天分享的思路是<code>接口请求+mockjs</code>。</p>
<p>最终的写法就是:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> mock<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>好处：</p>
<ul>
<li>增量<code>mock</code>，可以是单个接口，也可以是部分接口；</li>
<li>无感<code>mock</code>，业务方就一个配置；</li>
</ul>
<p><strong>方案分析</strong></p>
<ol>
<li>接口数据类型<code>interface</code> 或者 <code>type</code>定义；</li>
<li>请求库进行<code>编译时</code>的<code>interface</code> <code>AST</code>分析，内置<code>mockjs</code>生成目标数据；</li>
<li>这个<code>ast</code>语法分析替换步骤可以放在<code>webpack</code>插件中做掉；</li>
</ol>
<p><strong>实现</strong></p>
<p>小王还没开始呢，请静候佳音～</p>
<h2 id="思想大事记二"><a href="#思想大事记二" class="headerlink" title="思想大事记二"></a>思想大事记二</h2><blockquote>
<p>身在其位，必谋其事；</p>
</blockquote>
<blockquote>
<p>适度装死；</p>
</blockquote>
<blockquote>
<p>如果某一件事让你觉得恐惧，那就把它搞砸；</p>
</blockquote>
<blockquote>
<p>有些圈子，融入不进去就不要融入，清者自清，浊者自浊；</p>
</blockquote>
<blockquote>
<p>悄悄的成长，在必要的时候，惊艳所有人；</p>
</blockquote>
<blockquote>
<p>一个人，一定也必须要有工作之外的沉淀；</p>
</blockquote>
<blockquote>
<p>每天坚持写代码<code>2</code>小时的习惯，一定不能断，这个两小时指的是工作之外的代码；</p>
</blockquote>
<blockquote>
<p>为人处事一定要谨慎；</p>
</blockquote>
<blockquote>
<p>控制好情绪，但是控制不住的时候也要适度发泄；</p>
</blockquote>
<blockquote>
<p>不要跟老腊肉打交道，即便是打交道，也要谨慎；</p>
</blockquote>
<blockquote>
<p>不要总是一副自己什么都知道，自己很强的样子，适度的露露锋芒就好了，太过了，反而会适得其反；</p>
</blockquote>
<blockquote>
<p>戒掉不好的习惯，一定要戒掉，一定要；</p>
</blockquote>
<blockquote>
<p>规律学习；</p>
</blockquote>
<h2 id="Final-Word"><a href="#Final-Word" class="headerlink" title="Final Word"></a>Final Word</h2><p>你若盛开，清香自来，一心向阳，四季常春～</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>感悟</tag>
      </tags>
  </entry>
  <entry>
    <title>年终总结</title>
    <url>/article/end-year-thinking/</url>
    <content><![CDATA[<p>本来计划在元旦完成年终总结的，但是因为某些事情耽搁了。不过，无关紧要了，早晚都是总结～</p>
<h2 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h2><p>到今天为止，毕业正好<code>一年五个月零七天</code>。</p>
<p>在学校的时候，懵懵懂懂，啥都学，<code>java</code>、<code>C</code>、<code>C#</code>….都有涉猎了。当然也贪玩，从早贪黑的玩。不过还好就那样顺利的毕业了，没挂过科～</p>
<p>因为已经是<code>20</code>年的事了，这里我就一笔带过，不再多提。</p>
<h2 id="职场"><a href="#职场" class="headerlink" title="职场"></a>职场</h2><p>依稀记得<code>19</code>年的中秋节，面试了第一家公司，做物流货代行业的。</p>
<p>跟着<code>凯哥</code>的步子，进了公司，从实习到转正，一直到<code>21年7月份</code>，<code>一年零十个月</code>，第一份职场生涯结束～</p>
<p>其实从实习到转正，我都收获了很多东西，无论是技术成长、人情世故、还是职场都有～</p>
<p>入职的时候是<code>vue</code>出身的，但是毅然决然学了<code>react</code>，到现在，熟悉的不能再熟悉的一门<code>框架</code>。其实只是想阐述一个道理，用什么不可怕，可怕的是怕学不会。</p>
<p>当然期间也犯过错，受过委屈。但是最终都坚持下来了。犯过错就去改正，受过委屈就态度强硬一点。</p>
<p>……</p>
<p>虽然离职的理由过于牵强，但是懂得都懂～</p>
<p>目前还是比较满意现在的环境的，无论各个方面。</p>
<p>在边完成一部分业务的同时，我可以做很多想做的事情：<code>组件库</code>、<code>脚手架</code>、<code>jekins</code>、<code>微前端</code>、<code>微服务</code>、<code>docker</code>等等。</p>
<p><strong>不需要别人去鞭策我，也不需要别人去催促我做这些额外的事，在做好本职工作的前提下，完善基础建设，这是我的初衷也是为团队发光发亮，幸运的是，团队内部的小伙伴们跟我有一样的契约精神。</strong></p>
<p>这才是技术人该有的生活，真的就是慢慢的达到一种程度就是，做什么业务都没啥难度了，就很无聊，就想给自己给点挑战。</p>
<p>当然，这才是职场生涯的一点点，这只是我的路途中的前戏，只会是起点，但绝不是终点。</p>
<h2 id="读书"><a href="#读书" class="headerlink" title="读书"></a>读书</h2><p>稀稀拉拉读了一些书籍，有读完的，也有正在读的：</p>
<p><strong>阅读中</strong></p>
<p style="display: grid; grid-template-columns: repeat(8, 1fr); grid-gap: 12px;">
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-22-14.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-23-03.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-32-53.png?x-oss-process=style/HANDLE_IMAGE"/>

</p>

<p><strong>读完</strong></p>
<p style="display: grid; grid-template-columns: repeat(8, 1fr); grid-gap: 12px;">
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-33-44.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-38-19.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-39-44.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-40-34.png?x-oss-process=style/HANDLE_IMAGE"/>

</p>

<p><strong>小说[读完]</strong></p>
<p style="display: grid; grid-template-columns: repeat(8, 1fr); grid-gap: 12px;">
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-34-57.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-45-46.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-48-34.png?x-oss-process=style/HANDLE_IMAGE"/>

</p>

<p><strong>小说[在读]</strong></p>
<p style="display: grid; grid-template-columns: repeat(8, 1fr); grid-gap: 12px;">
<img width="120" style="display: inline-block" height="160" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-51-12.png?x-oss-process=style/HANDLE_IMAGE"/>

</p>

<h2 id="电影-电视剧"><a href="#电影-电视剧" class="headerlink" title="电影/电视剧"></a>电影/电视剧</h2><p style="display: grid; grid-template-columns: repeat(8, 1fr); grid-gap: 12px;">
<img width="120" style="display: inline-block" height="170" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-46-55.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" style="display: inline-block" height="170" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-48-02.png?x-oss-process=style/HANDLE_IMAGE"/>
<img width="120" style="display: inline-block" height="170" src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-47-33.png?x-oss-process=style/HANDLE_IMAGE"/>

</p>

<h2 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h2><p>偶然的一次机会，认识了那个她，同时也收获了甜甜的爱情～</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_22-57-45.png?x-oss-process=style/HANDLE_IMAGE"></p>
<h2 id="家庭"><a href="#家庭" class="headerlink" title="家庭"></a>家庭</h2><p>父母安康～年末出资带父母做了一次全身体检，体检无大恙。</p>
<h2 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h2><p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_23-05-38.png?x-oss-process=style/HANDLE_IMAGE"></p>
<h2 id="MIT"><a href="#MIT" class="headerlink" title="MIT"></a>MIT</h2><p>参与了浩哥发起的<code>Aktiv</code></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/Snipaste_2022-01-08_23-07-45.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p><strong>热爱开源，热爱和一群志同道合的人搞事！</strong></p>
<hr>
<h2 id="明年的计划"><a href="#明年的计划" class="headerlink" title="明年的计划"></a>明年的计划</h2><ul>
<li>每天和浩哥<code>github</code>打卡</li>
<li>备战雅思</li>
<li>备战软考</li>
<li>通关算法</li>
</ul>
<p>当然以上仅仅是前半年的目标，<strong>言必信，行必果</strong>。</p>
<hr>
<p>总之，新的一年，希望大家可以<strong>搞成大事</strong>、<strong>赚到大钱</strong>。</p>
<p>坚持持续学习～最重要的是身体健康！</p>
<p><strong>做自己的主人，主宰自己的命运，成为自己的神灵，救赎自己。</strong></p>
<p>最后，赏心悦目吧，hhhh，<code>JK</code>永远滴神。</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2201/225609-1641221769d623.jpeg?x-oss-process=style/HANDLE_IMAGE"></p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>感悟</tag>
      </tags>
  </entry>
  <entry>
    <title>超感人的耳机测评</title>
    <url>/article/super-feeling-ear-face/</url>
    <content><![CDATA[<p><em>文章背景图来源: <code>https://pic.netbian.com/tupian/28989.html</code></em></p>
<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>先短暂说明下，为什么持续两个月时间断更……原因竟然是<code>懒</code>。</p>
<p>是的，就是因为懒，最近这么久也在不断的克服懒惰，感谢浩哥，作为<code>son of flag</code>给了我方向；</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/Snipaste_2022-03-06_21-06-34.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>然后就到我了，下面是我的<code>flag</code>.</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/Snipaste_2022-03-06_21-09-06.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/Snipaste_2022-03-06_21-12-19.png?x-oss-process=style/HANDLE_IMAGE"><br><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/Snipaste_2022-03-06_21-13-02.png?x-oss-process=style/HANDLE_IMAGE"></p>
<p>坚持半个月，日后也会继续坚持下去，好的习惯是克服懒惰的动力，从懒惰做某件事开始去拒绝懒惰。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p><strong>如果你是个土豪，请不要往下看，因为不适合你！！！</strong></p>
<p>接下来，先介绍一下即将要出场的四位选手(以下顺序，不分排名，随机顺序)：</p>
<p><em>图片来源于淘宝、小米商城，最终所有权归原作者所有，<strong>侵删</strong></em></p>
<h6 id="No-1"><a href="#No-1" class="headerlink" title="No.1"></a>No.1</h6><p><strong>漫威<code>T-88</code></strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/WechatIMG6.jpeg?x-oss-process=style/HANDLE_IMAGE"></p>
<h6 id="No-2"><a href="#No-2" class="headerlink" title="No.2"></a>No.2</h6><p><strong>Redmi AirDots 3</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/WechatIMG7.jpeg?x-oss-process=style/HANDLE_IMAGE"></p>
<h6 id="No-3"><a href="#No-3" class="headerlink" title="No.3"></a>No.3</h6><p><strong>漫步者 X2</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/WechatIMG8.jpeg?x-oss-process=style/HANDLE_IMAGE"></p>
<h6 id="No-4"><a href="#No-4" class="headerlink" title="No.4"></a>No.4</h6><p><strong>SOUNDPEATS TrueAir2+ 旗舰款</strong></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/WechatIMG9.jpeg?x-oss-process=style/HANDLE_IMAGE"></p>
<p>没错，我都已经收集回来了～</p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/WechatIMG10.jpeg?x-oss-process=style/HANDLE_IMAGE"></p>
<h2 id="数据测评"><a href="#数据测评" class="headerlink" title="数据测评"></a>数据测评</h2><table>
<thead>
<tr>
<th>型号</th>
<th>官方指导价</th>
<th>实际售价</th>
<th>规格</th>
<th>续航</th>
<th>音频编码</th>
</tr>
</thead>
<tbody><tr>
<td>漫威<code>T-88</code></td>
<td><code>199</code></td>
<td><code>99</code></td>
<td><code>独立耳机</code></td>
<td><code>20H</code></td>
<td><code>SBC</code></td>
</tr>
<tr>
<td><code>Redmi AirDots 3</code></td>
<td><code>199</code></td>
<td><code>179</code></td>
<td><code>区分主副耳机</code></td>
<td><code>30H</code></td>
<td><code>aptx Adaptive</code></td>
</tr>
<tr>
<td>漫步者 <code>X2</code></td>
<td><code>149</code></td>
<td><code>109</code></td>
<td><code>独立耳机</code></td>
<td><code>28H</code></td>
<td><code>SBC</code></td>
</tr>
<tr>
<td><code>SOUNDPEATS TrueAir2+ 旗舰版</code></td>
<td><code>219</code></td>
<td><code>199</code></td>
<td><code>独立耳机</code></td>
<td><code>25H</code></td>
<td><code>aptx Adaptive</code></td>
</tr>
</tbody></table>
<p>这个测评机的价格，其实还是比较低的，这里解释两个问题：</p>
<ol>
<li>独立耳机 &amp; 区分主副耳机有什么区别？</li>
</ol>
<blockquote>
<p>区别就是<code>AWS</code>协议，再直白点就是：主副耳机其中一个耳机肯定耗电快，独立耳机耗电比例等比。</p>
</blockquote>
<ol start="2">
<li>音频编码有什么作用？</li>
</ol>
<p><em>图片来源于知乎：<a href="https://zhuanlan.zhihu.com/p/265597723">https://zhuanlan.zhihu.com/p/265597723</a></em></p>
<p><img src="https://bigdreamerblog.oss-cn-beijing.aliyuncs.com/blog/img/2203/Snipaste_2022-03-06_21-47-19.png?x-oss-process=style/HANDLE_IMAGE"></p>
<blockquote>
<p>总的来说，从音质上，<code>LHDC</code> ≈ <code>LDAC</code> &gt; <code>aptX</code> &gt; <code>AAC</code> &gt; <code>SBC</code>。</p>
</blockquote>
<hr>
<p>到这里，本次测评基本结束，个人入手感觉，最推荐的是<code>SOUNDPEATS TrueAir2+ 旗舰版</code>，降噪效果<code>Nice</code>，音质效果<code>Nice</code>.</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>日常</tag>
      </tags>
  </entry>
</search>
